import{u as i,q as u,C as l,s as m,a as c,c as r,j as a,B as d}from"./index-38c625a7.js";import{A as P,b as z}from"./index-38c625a7.js";import{u as p}from"./use-form-c2fc033a.js";import{T as h,C as x}from"./TextInput-6085c949.js";import{P as v}from"./PasswordInput-e9a25949.js";async function g({data:s}){return(await c.post("/auth/login",s)).data}function f({config:s}={}){return i(g,{onSuccess:({data:{access_token:t,user:o}})=>{u.setQueryData([l],o),m.setToken(t)},...s})}var j=r("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),y=r("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);const k=()=>{const s=p({initialValues:{email:"",password:""}}),t=f();async function o(n){n.preventDefault(),await t.mutateAsync({data:s.values},{onError:({response:e})=>{s.setErrors((e==null?void 0:e.data).errors)}})}return a.jsxs("form",{onSubmit:o,children:[a.jsx("div",{className:"mb-4",children:a.jsx(h,{name:"email",placeholder:"Email",icon:a.jsx(y,{size:14}),...s.getInputProps("email")})}),a.jsx("div",{className:"mb-8",children:a.jsx(v,{name:"password",placeholder:"Password",icon:a.jsx(j,{size:14}),...s.getInputProps("password")})}),a.jsx(d,{type:"submit",fullWidth:!0,loading:t.isLoading,children:"Masuk"})]})},L=()=>a.jsxs(x,{className:"h-screen md:h-auto w-full md:max-w-md mx-auto px-6 py-8 pb-14",shadow:"sm",p:0,radius:"md",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Login"}),a.jsx(k,{})]});export{P as AuthProvider,L as Login,k as LoginForm,z as useAuth};
