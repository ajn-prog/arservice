import{u as c,q as d,a as o,j as s,T as m,y as x,v as u,B as h,H as j,w as g}from"./index-512edc22.js";import{T as r}from"./Table-49fb85d5.js";import{T as y}from"./TextInput-8f5bb177.js";import"./ScrollArea-e9b4df73.js";async function f({data:e}){return(await o.post("/ar-service/tracking-check",e)).data}function v({config:e}={}){return c(f,{...e,onSuccess:(...a)=>{d.invalidateQueries(["tracking"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}const N=({tracking:e})=>s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Nomor Resi"}),s.jsx("div",{className:"font-bold text-sm text-gray-900",children:e.summary.waybill_number})]}),s.jsxs("div",{className:"",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Kurir"}),s.jsx("div",{className:"font-bold text-sm text-gray-900",children:e.summary.courier_name})]}),s.jsxs("div",{className:"",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Status"}),s.jsx("div",{className:"font-bold text-sm text-gray-900",children:s.jsx(m,{size:"xs",children:e.summary.status})})]})]}),s.jsx(r,{striped:!0,withRowBorders:!1,children:s.jsx(r.Tbody,{children:e.manifest.map(({manifest_code:a,manifest_date:i,manifest_time:l,city_name:t,manifest_description:n})=>s.jsxs(r.Tr,{children:[s.jsx(r.Td,{children:x(`${i} ${l}`,"YYYY-MM-DD HH:mm:ss").format("DD MMM. HH:mm")}),s.jsxs(r.Td,{children:[n,": ",t]})]},a))})})]}),b=()=>{const[e,a]=u.useState(""),i=v();async function l(){await i.mutateAsync({data:{waybill:e}},{onSuccess:({data:t})=>{j.open({title:"Informasi Tracking",children:s.jsx(N,{tracking:t}),size:"lg"})},onError:()=>{g.show({message:"No Resi tidak ditemukan",color:"red"})}})}return s.jsx("main",{children:s.jsx("div",{className:"w-full h-[38rem] flex flex-col items-center justify-center",children:s.jsxs("div",{className:"max-w-lg w-full p-8 h-56 flex flex-col items-center justify-center rounded-lg bg-white shadow-lg shadow-gray-300",children:[s.jsx("h1",{className:"mb-4 text-lg font-bold text-center",children:"Tracking produk pesanan anda disini!"}),s.jsxs("div",{className:"flex items-end space-x-4 max-w-sm w-full",children:[s.jsx(y,{label:"Nomor Resi",placeholder:"Masukan Nomor Resi",className:"flex-grow",value:e,onChange:t=>a(t.target.value)}),s.jsx(h,{size:"sm",onClick:l,loading:i.isLoading,children:"Cek"})]})]})})})};export{b as Tracking};
