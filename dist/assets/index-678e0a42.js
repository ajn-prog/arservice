import{r as w,y as $e,az as nt,w as D,P as st,x as ea,D as it,N as lt,c as ot,a as T,u as ee,q as U,e as ge,i as Ae,j as a,f as oe,t as k,n as I,B as M,L as se,b as Se,I as Ea,p as Me,Y as Aa,T as pa,m as Ma,d as ct,aA as ut,v as _a,Q as dt,M as Ia,g as mt,ar as ft,a4 as Le,a2 as Je,as as Qe,at as ht,E as pt,au as vt,R as gt,ax as Ye,J as xt,aB as yt}from"./index-9ab8ff68.js";import{T as qe,u as bt,B as aa}from"./BrandSelect-1f73ecdd.js";import{g as ms}from"./BrandSelect-1f73ecdd.js";import{u as Ba}from"./ProductSelect-3c6621ad.js";import{P as hs,g as ps}from"./ProductSelect-3c6621ad.js";import{P as jt}from"./index-4f26c220.js";import{T as _e}from"./Table-e61fa0cd.js";import{u as ce}from"./use-form-c87d5f4f.js";import{I as te,u as Ie,L as Da}from"./LoadingScreen-fe191dcc.js";import{a as Ta,I as St,T as $}from"./TextInput-f8bbccc4.js";import{I as Ne}from"./IconEdit-fdc1f818.js";import{I as xe}from"./IconTrash-68288900.js";import{S as ta,C as ie}from"./Select-12cf90f4.js";import{D as za,A as va}from"./DateInput-c639b9f6.js";import{I as Fa}from"./IconCalendar-df92fb4d.js";import{I as ra}from"./IconPhoto-78adee0c.js";import{I as Nt}from"./IconEye-79d19c8e.js";import{N as wt}from"./NumberInput-d5568d8f.js";import{R as Ge}from"./Radio-afed1cc2.js";import{I as La}from"./IconPlus-602bfc86.js";import{P as Pt}from"./Pagination-e2337e72.js";import{T as kt}from"./Textarea-92f45661.js";import{I as Be}from"./IconSearch-ad7c84ca.js";import{I as ga}from"./IconCategory-ff20ed08.js";import{T as Pe}from"./Tabs-533cc6f9.js";import{I as Xe}from"./IconArrowLeft-80e867e5.js";import{g as xa,a as Ct}from"./get-base-value-ad3c6f8c.js";import{c as Et}from"./clamp-73f6bef2.js";import"./ScrollArea-da754930.js";var At=Object.defineProperty,Oe=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,ya=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ba=(e,t)=>{for(var n in t||(t={}))Oa.call(t,n)&&ya(e,n,t[n]);if(Oe)for(var n of Oe(t))Ua.call(t,n)&&ya(e,n,t[n]);return e},Mt=(e,t)=>{var n={};for(var s in e)Oa.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Oe)for(var s of Oe(e))t.indexOf(s)<0&&Ua.call(e,s)&&(n[s]=e[s]);return n};const _t={multiple:!1},Va=w.forwardRef((e,t)=>{const n=$e("FileButton",_t,e),{onChange:s,children:r,multiple:o,accept:i,name:l,form:m,resetRef:c,disabled:d,capture:u,inputProps:f}=n,p=Mt(n,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),h=w.useRef(),x=()=>{var v;!d&&((v=h.current)==null||v.click())},S=v=>{s(o?Array.from(v.currentTarget.files):v.currentTarget.files[0]||null)};return nt(c,()=>{h.current.value=""}),D.createElement(D.Fragment,null,r(ba({onClick:x},p)),D.createElement("input",ba({style:{display:"none"},type:"file",accept:i,multiple:o,onChange:S,ref:st(t,h),name:l,form:m,capture:u},f)))});Va.displayName="@mantine/core/FileButton";var It=Object.defineProperty,Bt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,qa=Object.prototype.propertyIsEnumerable,ja=(e,t,n)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,We=(e,t)=>{for(var n in t||(t={}))$a.call(t,n)&&ja(e,n,t[n]);if(Ue)for(var n of Ue(t))qa.call(t,n)&&ja(e,n,t[n]);return e},Sa=(e,t)=>Bt(e,Dt(t)),Tt=(e,t)=>{var n={};for(var s in e)$a.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Ue)for(var s of Ue(e))t.indexOf(s)<0&&qa.call(e,s)&&(n[s]=e[s]);return n};const zt=({value:e})=>D.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(t=>t.name).join(", "):e==null?void 0:e.name),Ft={valueComponent:zt},na=ea((e,t)=>{const n=$e("FileInput",Ft,e),s=n,{unstyled:r,vars:o,onChange:i,value:l,defaultValue:m,multiple:c,accept:d,name:u,form:f,valueComponent:p,clearable:h,clearButtonProps:x,readOnly:S,capture:y,fileInputProps:v,rightSection:P,size:b,placeholder:N}=s,C=Tt(s,["unstyled","vars","onChange","value","defaultValue","multiple","accept","name","form","valueComponent","clearable","clearButtonProps","readOnly","capture","fileInputProps","rightSection","size","placeholder"]),E=w.useRef(null),[_,B]=it({value:l,defaultValue:m,onChange:i,finalValue:c?[]:null}),K=Array.isArray(_)?_.length!==0:_!==null,H=P||(h&&K&&!S?D.createElement(lt,Sa(We({},x),{variant:"subtle",onClick:()=>B(c?[]:null),size:b,unstyled:r})):null);w.useEffect(()=>{var Q;(Array.isArray(_)&&_.length===0||_===null)&&((Q=E.current)==null||Q.call(E))},[_]);const re=p;return D.createElement(Va,{onChange:B,multiple:c,accept:d,name:u,form:f,resetRef:E,disabled:S,capture:y,inputProps:v},Q=>D.createElement(Ta,Sa(We(We({component:"button",ref:t,rightSection:H},Q),C),{__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:b}),K?D.createElement(re,{value:_}):D.createElement(St.Placeholder,null,N)))});na.classes=Ta.classes;na.displayName="@mantine/core/FileInput";const sa=na;var Lt=ot("dots-circle-horizontal","IconDotsCircleHorizontal",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M8 12l0 .01",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M16 12l0 .01",key:"svg-3"}]]);async function Ot({data:e}){return(await T.post("/ar-service/category",e)).data}function Ut({config:e}={}){return ee(Ot,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Vt({params:e}){return(await T.get("/ar-service/category",{params:e})).data.data}function Ra({config:e,params:t}={}){return ge({...e,queryKey:["categories",t],queryFn:()=>Vt({params:t}),keepPreviousData:!0})}async function $t({id:e}){return(await T.get(`/ar-service/category/${e}`)).data.data}function Jn({config:e,id:t}){return ge({...e,queryKey:["category",t],queryFn:()=>$t({id:t})})}async function qt({id:e,data:t}){return(await T.put(`/ar-service/category/${e}`,t)).data}function Rt({config:e}={}){return ee(qt,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),U.invalidateQueries(["category",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Kt({id:e}){return(await T.delete(`/ar-service/category/${e}`)).data}function Ht({config:e}={}){return ee(Kt,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Qt({data:e}){return(await T.post("/ar-service/unit",e)).data}function Yt({config:e}={}){return ee(Qt,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Gt({params:e}){return(await T.get("/ar-service/unit",{params:e})).data.data}function Ka({config:e,params:t}={}){return ge({...e,queryKey:["units",t],queryFn:()=>Gt({params:t}),keepPreviousData:!0})}async function Wt({id:e}){return(await T.get(`/ar-service/unit/${e}`)).data.data}function Xn({config:e,id:t}){return ge({...e,queryKey:["unit",t],queryFn:()=>Wt({id:t})})}async function Jt({id:e,data:t}){return(await T.put(`/ar-service/unit/${e}`,t)).data}function Xt({config:e}={}){return ee(Jt,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),U.invalidateQueries(["unit",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Zt({id:e}){return(await T.delete(`/ar-service/unit/${e}`)).data}function er({config:e}={}){return ee(Zt,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function ar({data:e}){return(await T.post("/ar-service/brand",e)).data}function tr({config:e}={}){return ee(ar,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function rr({id:e}){return(await T.get(`/ar-service/brand/${e}`)).data.data}function Zn({config:e,id:t}){return ge({...e,queryKey:["brand",t],queryFn:()=>rr({id:t})})}async function nr({id:e,data:t}){return(await T.put(`/ar-service/brand/${e}`,t)).data}function sr({config:e}={}){return ee(nr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),U.invalidateQueries(["brand",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function ir({id:e}){return(await T.delete(`/ar-service/brand/${e}`)).data}function lr({config:e}={}){return ee(ir,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}const or={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function cr({type:e,data:t}){const n=new FormData;for(const[r,o]of Object.entries(t))o&&(Array.isArray(o)?o.forEach((i,l)=>{i instanceof File&&n.append(`${r}[${l}]`,i)}):o instanceof Date?n.append(r,Ae(o).format("YYYY-MM-DD")):o instanceof File?n.append(r,o,o.name):n.append(r,o.toString()));return(await T.post(or[e],n)).data}function ia({config:e}={}){return ee(cr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function ur({id:e}){return(await T.get(`/ar-service/product/${e}`)).data.data}function Ha({config:e,id:t}){return ge({...e,queryKey:["product",t],queryFn:()=>ur({id:t})})}const dr={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function mr({id:e,type:t,data:n}){const s=new FormData;for(const[o,i]of Object.entries(n))i&&(Array.isArray(i)?i.forEach((l,m)=>{l instanceof File&&s.append(`${o}[${m}]`,l)}):i instanceof Date?s.append(o,Ae(i).format("YYYY-MM-DD")):i instanceof File?s.append(o,i,i.name):s.append(o,i.toString()));return(await T.post(`${dr[t]}/${e}`,s)).data}function la({config:e}={}){return ee(mr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),U.invalidateQueries(["product"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function fr({id:e}){return(await T.delete(`/ar-service/product/${e}`)).data}function oa({config:e}={}){return ee(fr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function hr({data:e}){return(await T.post("/ar-service/modality",e)).data}function pr({config:e}={}){return ee(hr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function vr({params:e}){return(await T.get("/ar-service/modality",{params:e})).data.data}function Qa({config:e,params:t}={}){return ge({...e,queryKey:["modalities",t],queryFn:()=>vr({params:t}),keepPreviousData:!0})}async function gr({id:e}){return(await T.get(`/ar-service/modality/${e}`)).data.data}function es({config:e,id:t}){return ge({...e,queryKey:["modality",t],queryFn:()=>gr({id:t})})}async function xr({id:e,data:t}){return(await T.put(`/ar-service/modality/${e}`,t)).data}function yr({config:e}={}){return ee(xr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),U.invalidateQueries(["modality",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function br({id:e}){return(await T.delete(`/ar-service/modality/${e}`)).data}function jr({config:e}={}){return ee(br,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}const Sr={page:1,limit:5,search:""},Nr=({toolbar:e,...t})=>{const[n,s]=w.useState(Sr),{data:r,isLoading:o}=Ra({params:{...n,...t}}),i=Ht();function l(c){return()=>{k.openConfirmModal({title:"Hapus Kategori",children:a.jsx(qe,{size:"sm",children:"Apakah anda yakin untuk menghapus kategori ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Kategori berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Kategori",children:a.jsx(Pr,{category:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(_e,{title:"Tabel Data Kategori",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Kategori",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Ne,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Kategori",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},wr=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=Ut(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Kategori berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Pr=({category:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=Rt(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Kategori berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},kr={page:1,limit:5,search:""},Cr=({toolbar:e,...t})=>{const[n,s]=w.useState(kr),{data:r,isLoading:o}=bt({params:{...n,...t}}),i=lr();function l(c){return()=>{k.openConfirmModal({title:"Hapus Brand",children:a.jsx(qe,{size:"sm",children:"Apakah anda yakin untuk menghapus Brand ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Brand berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Brand",children:a.jsx(Ar,{brand:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(_e,{title:"Tabel Data Brand",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Brand",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Ne,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Brand",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},Er=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=tr(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Brand berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Ar=({brand:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=sr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Brand berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Mr={page:1,limit:5,search:""},_r=({toolbar:e,...t})=>{const[n,s]=w.useState(Mr),{data:r,isLoading:o}=Ka({params:{...n,...t}}),i=er();function l(c){return()=>{k.openConfirmModal({title:"Hapus Unit",children:a.jsx(qe,{size:"sm",children:"Apakah anda yakin untuk menghapus Unit ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Unit berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Unit",children:a.jsx(Br,{unit:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(_e,{title:"Tabel Data Satuan",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Satuan",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Ne,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Satuan",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},Ir=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=Yt(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Unit berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Br=({unit:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=Xt(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Unit berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Na={page:1,limit:10,search:""},Dr={main:"Unit",accessories:"Accessories",preventive:"Service/Sparepart"},as=({toolbar:e,...t})=>{const[n,s]=w.useState(Na),{data:r,isLoading:o}=Ba({params:{...n,...t}}),i=oa();function l(m){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:m},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green",icon:a.jsx(te,{})}),s(Na),k.closeAll()},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red",icon:a.jsx(Ea,{})}),k.closeAll()}})}})}}return a.jsx(_e,{title:"Tabel Data Produk",toolbar:e,header:["Produk","Tipe","Kategori","Brand","Modified At",""],items:r==null?void 0:r.data,onPageChange:m=>{s({...n,page:m})},loading:o,metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:m=>{var c,d;return a.jsxs("tr",{children:[a.jsx("td",{children:m.name}),a.jsx("td",{children:Dr[m.type]}),a.jsx("td",{children:((c=m.category)==null?void 0:c.name)??"-"}),a.jsx("td",{children:((d=m.brand)==null?void 0:d.name)??"-"}),a.jsx("td",{children:Ae(m.updated_at).format("D MMMM YYYY H:mm")}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{component:se,to:`/product/${m.id}`,variant:"subtle",title:"Detail Produk",color:"gray",radius:"lg",children:a.jsx(Lt,{size:18})}),a.jsxs(Se,{role:["-Customer"],children:[a.jsx(oe,{variant:"subtle",component:se,to:`/product/${m.id}/update`,title:"Update Produk",color:"primary",radius:"lg",children:a.jsx(Ne,{size:18})}),a.jsx(oe,{variant:"subtle",onClick:l(m.id),title:"Hapus Produk",color:"red",radius:"lg",children:a.jsx(xe,{size:18})})]})]})})]},m.id)}})},Re=({...e})=>{const[t,n]=w.useState(""),{data:s}=Ra({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(ta,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},Tr=({...e})=>{const[t,n]=w.useState(""),{data:s}=Qa({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(ta,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},Ya=({...e})=>{const[t,n]=w.useState(""),{data:s}=Ka({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(ta,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},Ga=({product:e})=>{const t=Me(),n=ia(),s=la(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Ae(e.date_entry,"YYYY-MM-DD").toDate():"",modality_product_id:(e==null?void 0:e.modality_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"main",unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"main",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"main",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:[e?"Edit":"Tambah"," Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Unit)"})]})}),a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx($,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode Produk",className:"col-span-12 md:col-span-2"}),a.jsx($,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx(za,{...r.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:a.jsx(Fa,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),a.jsx(aa,{...r.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(Re,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(Ya,{...r.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(Tr,{...r.getInputProps("modality_product_id"),label:"Modality",placeholder:"Pilih Modality",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(sa,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(ra,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(M,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(M,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},zr=({modality:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=yr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Modality berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Fr={page:1,limit:5,search:"",sort:"desc",sort_by:"created_at"},Lr=({toolbar:e,...t})=>{const[n,s]=w.useState(Fr),{data:r,isLoading:o}=Qa({params:{...n,...t}}),i=jr();function l(c){return()=>{k.openConfirmModal({title:"Hapus Modality",children:a.jsx(qe,{size:"sm",children:"Apakah anda yakin untuk menghapus modality ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Modality berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Modality",children:a.jsx(zr,{modality:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(_e,{title:"Tabel Data Modality",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Modality",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Ne,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Modality",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},Or=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=pr(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Modality berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx($,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(M,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(M,{type:"submit",children:"Simpan"})]})]})},Wa=({files:e,onChange:t})=>{const[n,s]=w.useState([]);w.useEffect(()=>{const i=e.map(l=>new Promise((m,c)=>{if(typeof l=="string")return m(l);const d=new FileReader;d.onload=u=>{var f;m((f=u.target)==null?void 0:f.result)},d.onerror=u=>{c(u)},d.readAsDataURL(l)}));Promise.all(i).then(l=>{s(l)})},[e]);function r(i){return()=>{k.open({title:"Detail",children:a.jsx("img",{src:i,alt:""}),size:"xl"})}}function o(i){return()=>{t&&t(e.filter((l,m)=>i!=m))}}return a.jsx(a.Fragment,{children:n.map((i,l)=>a.jsxs("div",{className:"bg-gray-200 rounded w-full h-44 relative overflow-hidden [&>div]:hover:block",children:[a.jsx("img",{src:i,loading:"lazy",alt:"",className:"w-full h-full object-cover object-center"}),a.jsx("div",{className:"absolute z-10 bg-black hidden transition-all bg-opacity-20 w-full h-full inset-0 p-2",children:a.jsxs("div",{className:"flex items-end justify-end h-full",children:[a.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full",onClick:r(i),type:"button",children:a.jsx(Nt,{className:"w-5 h-5"})}),a.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full ml-2",children:a.jsx(xe,{className:"w-5 h-5 text-red-700",onClick:o(l),type:"button"})})]})})]},`picture_${l}`))})};async function Ja(e){const n=await(await fetch(e)).blob(),s=e.split("/").pop()||"image";return new File([n],s,{type:n.type})}const Xa=({product:e})=>{const t=Me(),n=ia(),s=la(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Ae(e.date_entry).toDate():"",product_code:(e==null?void 0:e.product_code)??"",type:"accessories",images:[],unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",is_consumable:e!=null&&e.is_consumable?"1":"0",price:e!=null&&e.price?e==null?void 0:e.price:"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"accessories",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"accessories",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return w.useEffect(()=>{if(!(e!=null&&e.images)||e.images.length==0)return;const i=e.images.map(async({image:l})=>await Ja(l));Promise.all(i).then(l=>{r.setFieldValue("images",l)}).catch(l=>{console.error(l)})},[e==null?void 0:e.images]),a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:["Edit Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Accessory)"})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,children:[a.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[a.jsx($,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),a.jsx($,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx(za,{...r.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:a.jsx(Fa,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),a.jsx(aa,{...r.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3"}),a.jsx(Re,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),a.jsx(Ya,{...r.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3"}),a.jsx(wt,{...r.getInputProps("price"),label:"Harga",placeholder:"Masukan Harga",leftSection:a.jsx("span",{className:"text-xs",children:"Rp."}),className:"col-span-12 md:col-span-6"}),a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"text-sm mb-2",children:"Status"}),a.jsx(Ge.Group,{...r.getInputProps("is_consumable"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ge,{label:"Consumable",value:"1"}),a.jsx(Ge,{label:"Unconsumable",value:"0"})]})})]}),a.jsx(sa,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(ra,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]}),a.jsxs("section",{className:"mt-6",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[a.jsx(La,{className:"text-gray-600 w-10 h-10"}),a.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&r.setFieldValue("images",[...r.values.images,...i.target.files])}})]}),a.jsx(Wa,{files:r.values.images,onChange:i=>r.setFieldValue("images",i)})]})]})]}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(M,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(M,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},Ur=({...e})=>{const[t,n]=w.useState({page:1,limit:8,search:"",sort:"desc",sort_by:"created_at"}),{data:s,isLoading:r,isError:o,isFetching:i}=Ba({params:{...t,...e}}),l=oa(),{addProduct:m}=Aa();function c(d){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await l.mutateAsync({id:d},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green"}),n({...t,page:1}),k.closeAll()},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red"}),k.closeAll()}})}})}}return r||o||i?a.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array(4).fill(0).map((d,u)=>a.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[a.jsx("div",{className:"w-full aspect-video bg-gray-200 animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-5 w-20 bg-gray-200 animate-pulse rounded-lg mt-1 mb-2"}),a.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-full rounded-md mb-2"}),a.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-1/2 rounded-md mb-2"}),a.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded-md animate-pulse"}),a.jsx("div",{className:"space-y-2 mt-2",children:a.jsx("div",{className:"bg-gray-200 w-full h-7 rounded-md"})})]})]},`skp_${u}`))}):a.jsxs("div",{children:[a.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.data.map(d=>a.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[a.jsx(se,{to:`/product/${d.id}`,children:a.jsxs("div",{className:"w-full aspect-video bg-gray-200 relative",children:[a.jsx("div",{className:"z-20 absolute top-4 left-4",children:a.jsx(pa,{size:"xs",color:"gray",children:jt[d.type]})}),a.jsx("img",{src:d.thumbnail||"/default_image.png",alt:"",className:"absolute w-full h-full inset-0 object-cover object-center"})]})}),a.jsxs("div",{className:"p-4",children:[d.category&&a.jsx(pa,{className:"mb-2",children:d.category.name}),a.jsx(se,{to:`/product/${d.id}`,children:a.jsx("h2",{className:"line-clamp-2 text-base font-bold mb-1 hover:underline",children:d.name})}),d.brand&&a.jsx("div",{className:"text-sm text-gray-600",children:d.brand.name}),a.jsx(Se,{role:["-Customer"],children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[a.jsx(M,{component:se,to:`/product/${d.id}/update`,variant:"light",leftSection:a.jsx(Ne,{size:16}),fullWidth:!0,size:"xs",children:"Edit"}),a.jsx(M,{color:"red",variant:"light",leftSection:a.jsx(xe,{size:16}),fullWidth:!0,size:"xs",onClick:c(d.id),children:"Hapus"})]})}),a.jsx(Se,{role:["Customer"],children:a.jsx("div",{className:"space-y-2 mt-2",children:a.jsx(M,{fullWidth:!0,size:"xs",variant:"outline",leftSection:a.jsx(Ma,{size:14}),onClick:()=>m(d.id),children:"Tambah Keranjang"})})})]})]},d.id))}),a.jsx("div",{className:"my-6",children:a.jsx(Pt,{total:s.last_page,value:s.current_page,onChange:d=>n({...t,page:d}),withEdges:!0})})]})},Za=({product:e})=>{const t=Me(),n=ia(),s=la(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"preventive",images:[],description:(e==null?void 0:e.description)??"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"preventive",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"preventive",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return w.useEffect(()=>{if(!(e!=null&&e.images)||e.images.length==0)return;const i=e.images.map(async({image:l})=>await Ja(l));Promise.all(i).then(l=>{r.setFieldValue("images",l)}).catch(l=>{console.error(l)})},[e==null?void 0:e.images]),a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:["Edit Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Service dan Sparespart)"})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,children:[a.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[a.jsx($,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),a.jsx($,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx(Re,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),a.jsx(kt,{...r.getInputProps("description"),label:"Detail",placeholder:"Masukan Detail",className:"col-span-12"}),a.jsx(sa,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(ra,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]}),a.jsxs("section",{className:"mt-6",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[a.jsx(La,{className:"text-gray-600 w-10 h-10"}),a.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&r.setFieldValue("images",[...r.values.images,...i.target.files])}})]}),a.jsx(Wa,{files:r.values.images,onChange:i=>r.setFieldValue("images",i)})]})]})]}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(M,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(M,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},ts=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Ie(e,200);function s(){k.open({title:"Tambah Kategori",children:a.jsx(wr,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Kategori"}),a.jsx(M,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx($,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Nr,{...n})})]})},rs=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Ie(e,200);function s(){k.open({title:"Tambah Brand",children:a.jsx(Er,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Brand"}),a.jsx(M,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx($,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Cr,{...n})})]})},ns=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Ie(e,200);function s(){k.open({title:"Tambah Unit",children:a.jsx(Ir,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Satuan"}),a.jsx(M,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx($,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(_r,{...n})})]})},ss=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Ie(e,200);function s(){k.open({title:"Tambah Modality",children:a.jsx(Or,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Modality"}),a.jsx(M,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx($,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Lr,{...n})})]})},is=()=>{var i,l;const{creds:e}=ct(),[t,n]=w.useState({search:"",limit:10,category:void 0,brand:void 0,type:(e==null?void 0:e.role)!="Customer"?"main":"accessories"}),[s]=Ie(t,200),[r,o]=w.useState(!1);return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"}),a.jsx(Se,{role:["-Customer"],children:a.jsx(M,{onClick:()=>o(!0),children:"Tambah"})})]}),a.jsxs("section",{className:"space-y-4 mb-4",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 md:col-span-6 lg:col-span-3",children:a.jsx($,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:t.search,onChange:m=>n({...t,search:m.target.value})})}),a.jsx("div",{className:"col-span-6 md:col-span-3 lg:col-span-2",children:a.jsx(Re,{leftSection:a.jsx(ga,{size:16}),placeholder:"Pilih Kategori",value:((i=t.category)==null?void 0:i.toString())??null,onChange:m=>{n({...t,category:m||void 0})}})}),a.jsx("div",{className:"col-span-6 md:col-span-3 lg:col-span-2",children:a.jsx(aa,{leftSection:a.jsx(ga,{size:16}),placeholder:"Pilih Brand",value:((l=t.brand)==null?void 0:l.toString())??null,onChange:m=>{n({...t,brand:m||void 0})}})})]}),a.jsx("div",{children:a.jsx(Pe,{variant:"pills",radius:"lg",value:t.type,onChange:m=>{m&&n({...t,type:m})},children:a.jsxs(Pe.List,{children:[a.jsx(Se,{role:["-Customer"],children:a.jsx(Pe.Tab,{value:"main",children:"Unit"})}),a.jsx(Pe.Tab,{value:"accessories",children:"Accessories"}),a.jsx(Pe.Tab,{value:"preventive",children:"Service/Sparepart"})]})})})]}),a.jsx("section",{className:"mb-8",children:a.jsx(Ur,{...s})}),a.jsx(ut,{title:"Pilih Jenis Produk",centered:!0,opened:r,onClose:()=>o(!1),children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsx(se,{to:"/product/create/main",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Unit"}),a.jsx(se,{to:"/product/create/accessories",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Accessories"}),a.jsx(se,{to:"/product/create/preventive",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Service / Sparepart"})]})})]})},ls=({type:e})=>{function t(){switch(e){case"main":return a.jsx(Ga,{});case"accessories":return a.jsx(Xa,{});case"preventive":return a.jsx(Za,{});default:return null}}return a.jsxs("main",{children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),t()]})},os=()=>{const{id:e}=_a(),{data:t,isLoading:n,isError:s}=Ha({id:e}),r=Me();function o(i){switch(i.type){case"main":return a.jsx(Ga,{product:i});case"accessories":return a.jsx(Xa,{product:i});case"preventive":return a.jsx(Za,{product:i});default:return null}}return n?a.jsx("div",{className:"mt-48",children:a.jsx(Da,{})}):s?a.jsxs("div",{className:"mt-48 text-center",children:[a.jsx("h1",{className:"text-lg font-bold mb-2",children:"Produk tidak ditemukan"}),a.jsx(M,{onClick:()=>r(-1),leftSection:a.jsx(Xe,{size:14}),children:"Kembali"})]}):a.jsxs("main",{children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),o(t)]})};function Vr(e,t,n,s,r){return s+(r-s)*((e-t)/(n-t))}function ca(e){return typeof e=="number"}function wa(e){return typeof e=="string"}function Ze(e){return Object.prototype.toString.call(e)==="[object Object]"}function $r(e){return Array.isArray(e)}function Pa(e){return Ze(e)||$r(e)}function F(e){return Math.abs(e)}function ua(e){return e?e/F(e):0}function ke(e,t){return F(e-t)}function qr(e,t){if(e===0||t===0||F(e)<=F(t))return 0;var n=ke(F(e),F(t));return F(n/e)}function Rr(e){var t=Math.pow(10,e);return function(n){return Math.round(n*t)/t}}function Ce(e){return be(e).map(Number)}function me(e){return e[Ke(e)]}function Ke(e){return Math.max(0,e.length-1)}function be(e){return Object.keys(e)}function et(e,t){return[e,t].reduce(function(n,s){return be(s).forEach(function(r){var o=n[r],i=s[r],l=Ze(o)&&Ze(i);n[r]=l?et(o,i):i}),n},{})}function at(e,t){var n=be(e),s=be(t);return n.length!==s.length?!1:n.every(function(r){var o=e[r],i=t[r];return typeof o=="function"?"".concat(o)==="".concat(i):!Pa(o)||!Pa(i)?o===i:at(o,i)})}function Kr(e,t){var n={start:s,center:r,end:o};function s(){return 0}function r(c){return o(c)/2}function o(c){return t-c}function i(){return t*Number(e)}function l(c){return ca(e)?i():n[e](c)}var m={measure:l};return m}function Hr(e){var t=0;function n(i,l){return function(){i===!!t&&l()}}function s(){t=window.requestAnimationFrame(e)}function r(){window.cancelAnimationFrame(t),t=0}var o={proceed:n(!0,s),start:n(!1,s),stop:n(!0,r)};return o}function Qr(e,t){var n=e==="y"?"y":"x",s=e==="y"?"x":"y",r=l(),o=m();function i(d){var u=d.width,f=d.height;return n==="x"?u:f}function l(){return n==="y"?"top":t==="rtl"?"right":"left"}function m(){return n==="y"?"bottom":t==="rtl"?"left":"right"}var c={scroll:n,cross:s,startEdge:r,endEdge:o,measureSize:i};return c}function we(e,t){var n=F(e-t);function s(c){return c<e}function r(c){return c>t}function o(c){return s(c)||r(c)}function i(c){return o(c)?s(c)?e:t:c}function l(c){return n?c-n*Math.ceil((c-t)/n):c}var m={length:n,max:t,min:e,constrain:i,reachedAny:o,reachedMax:r,reachedMin:s,removeOffset:l};return m}function tt(e,t,n){var s=we(0,e),r=s.min,o=s.constrain,i=e+1,l=m(t);function m(h){return n?F((i+h)%i):o(h)}function c(){return l}function d(h){return l=m(h),p}function u(h){return d(c()+h)}function f(){return tt(e,c(),n)}var p={add:u,clone:f,get:c,set:d,min:r,max:e};return p}function Yr(e){var t=e==="rtl"?-1:1;function n(r){return r*t}var s={apply:n};return s}function Ve(){var e=[];function t(r,o,i,l){return l===void 0&&(l={passive:!0}),r.addEventListener(o,i,l),e.push(function(){return r.removeEventListener(o,i,l)}),s}function n(){return e=e.filter(function(r){return r()}),s}var s={add:t,removeAll:n};return s}function ve(e){var t=e;function n(){return t}function s(u){return t=c(u),d}function r(u){return t+=c(u),d}function o(u){return t-=c(u),d}function i(u){return t*=u,d}function l(u){return t/=u,d}function m(){return t!==0&&l(t),d}function c(u){return ca(u)?u:u.get()}var d={add:r,divide:l,get:n,multiply:i,normalize:m,set:s,subtract:o};return d}function Gr(e,t,n,s,r,o,i,l,m,c,d,u,f,p,h,x){var S=e.cross,y=["INPUT","SELECT","TEXTAREA"],v={passive:!1},P=ve(0),b=Ve(),N=Ve(),C=f.measure(20),E={mouse:300,touch:400},_={mouse:500,touch:600},B=h?5:16,K=1,H=0,re=0,Q=!1,ne=!1,W=!1,L=!1;function ue(){var j=n;b.add(j,"dragstart",function(O){return O.preventDefault()},v).add(j,"touchmove",function(){},v).add(j,"touchend",function(){}).add(j,"touchstart",he).add(j,"mousedown",he).add(j,"touchcancel",ae).add(j,"contextmenu",ae).add(j,"click",Y,!0)}function q(){var j=L?document:n;N.add(j,"touchmove",R,v).add(j,"touchend",ae).add(j,"mousemove",R,v).add(j,"mouseup",ae)}function X(){b.removeAll(),N.removeAll()}function le(j){var O=j.nodeName||"";return y.indexOf(O)>-1}function fe(){var j=h?_:E,O=L?"mouse":"touch";return j[O]}function ye(j,O){var Z=d.clone().add(ua(j)*-1),z=Z.get()===d.min||Z.get()===d.max,G=c.byDistance(j,!h).distance;return h||F(j)<C?G:!p&&z?G*.4:x&&O?G*.5:c.byIndex(Z.get(),0).distance}function he(j){if(L=!r.isTouchEvent(j),!(L&&j.button!==0)&&!le(j.target)){var O=ke(s.get(),o.get())>=2,Z=L||!O;Q=!0,r.pointerDown(j),P.set(s),s.set(o),m.useBaseMass().useSpeed(80),q(),H=r.readPoint(j),re=r.readPoint(j,S),u.emit("pointerDown"),Z&&(W=!1)}}function R(j){if(!ne&&!L){if(!j.cancelable)return ae(j);var O=r.readPoint(j),Z=r.readPoint(j,S),z=ke(O,H),G=ke(Z,re);if(ne=z>G,!ne&&!W)return ae(j)}var pe=r.pointerMove(j);!W&&pe&&(W=!0),i.start(),s.add(t.apply(pe)),j.preventDefault()}function ae(j){var O=c.byDistance(0,!1),Z=O.index!==d.get(),z=r.pointerUp(j)*fe(),G=ye(t.apply(z),Z),pe=qr(z,G),De=ke(s.get(),P.get())>=.5,Te=Z&&pe>.75,ze=F(z)<C,Fe=Te?10:B,He=Te?K+2.5*pe:K;De&&!L&&(W=!0),ne=!1,Q=!1,N.removeAll(),m.useSpeed(ze?9:Fe).useMass(He),l.distance(G,!h),L=!1,u.emit("pointerUp")}function Y(j){W&&(j.stopPropagation(),j.preventDefault())}function A(){return!W}function g(){return Q}var V={addActivationEvents:ue,clickAllowed:A,pointerDown:g,removeAllEvents:X};return V}function Wr(e){var t=170,n,s;function r(u){return typeof TouchEvent<"u"&&u instanceof TouchEvent}function o(u){return u.timeStamp}function i(u,f){var p=f||e.scroll,h="client".concat(p==="x"?"X":"Y");return(r(u)?u.touches[0]:u)[h]}function l(u){return n=u,s=u,i(u)}function m(u){var f=i(u)-i(s),p=o(u)-o(n)>t;return s=u,p&&(n=u),f}function c(u){if(!n||!s)return 0;var f=i(s)-i(n),p=o(u)-o(n),h=o(u)-o(s)>t,x=f/p,S=p&&!h&&F(x)>.1;return S?x:0}var d={isTouchEvent:r,pointerDown:l,pointerMove:m,pointerUp:c,readPoint:i};return d}function Jr(e){function t(s){return e*(s/100)}var n={measure:t};return n}function Xr(e,t,n){var s=Rr(2),r=ve(0),o=ve(0),i=ve(0),l=0,m=t,c=n;function d(){r.add(o),e.add(r),o.multiply(0)}function u(b){b.divide(c),o.add(b)}function f(b){i.set(b).subtract(e);var N=Vr(i.get(),0,100,0,m);return l=ua(i.get()),i.normalize().multiply(N).subtract(r),u(i),P}function p(b){var N=b.get()-e.get(),C=!s(N);return C&&e.set(b),C}function h(){return l}function x(){return y(t)}function S(){return v(n)}function y(b){return m=b,P}function v(b){return c=b,P}var P={direction:h,seek:f,settle:p,update:d,useBaseMass:S,useBaseSpeed:x,useMass:v,useSpeed:y};return P}function Zr(e,t,n,s,r){var o=r.measure(10),i=r.measure(50),l=.85,m=!1;function c(){return!(m||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(p){if(c()){var h=e.reachedMin(t.get())?"min":"max",x=F(e[h]-t.get()),S=n.get()-t.get(),y=Math.min(x/i,l);n.subtract(S*y),!p&&F(S)<o&&(n.set(e.constrain(n.get())),s.useSpeed(10).useMass(3))}}function u(p){m=!p}var f={constrain:d,toggleActive:u};return f}function en(e,t,n,s){var r=we(-t+e,n[0]),o=n.map(r.constrain),i=m();function l(){var d=o[0],u=me(o),f=o.lastIndexOf(d),p=o.indexOf(u)+1;return we(f,p)}function m(){if(t<=e)return[r.max];if(s==="keepSnaps")return o;var d=l(),u=d.min,f=d.max;return o.slice(u,f)}var c={snapsContained:i};return c}function an(e,t,n){var s=r();function r(){var i=t[0],l=me(t),m=n?i-e:l,c=i;return we(m,c)}var o={limit:s};return o}function tn(e,t,n,s){var r=.1,o=t.min+r,i=t.max+r,l=we(o,i),m=l.reachedMin,c=l.reachedMax;function d(p){return p===1?c(n.get()):p===-1?m(n.get()):!1}function u(p){if(d(p)){var h=e*(p*-1);s.forEach(function(x){return x.add(h)})}}var f={loop:u};return f}function rn(e){var t=e.max,n=e.length;function s(o){var i=o-t;return i/-n}var r={get:s};return r}function nn(e,t,n,s,r,o,i){var l=e.startEdge,m=e.endEdge,c=o.groupSlides,d=p().map(t.measure),u=h(),f=x();function p(){return c(s).map(function(y){return me(y)[m]-y[0][l]}).map(F)}function h(){return s.map(function(y){return n[l]-y[l]}).map(function(y){return-F(y)})}function x(){var y=0,v=me(u)-me(r);return c(u).map(function(P){return P[0]}).map(function(P,b,N){var C=!b,E=b===Ke(N);return i&&C?y:i&&E?v:P+d[b]})}var S={snaps:u,snapsAligned:f};return S}function sn(e,t,n,s,r){var o=s.reachedAny,i=s.removeOffset,l=s.constrain;function m(h){return h.concat().sort(function(x,S){return F(x)-F(S)})[0]}function c(h){var x=e?i(h):l(h),S=t.map(function(v){return v-x}).map(function(v){return d(v,0)}).map(function(v,P){return{diff:v,index:P}}).sort(function(v,P){return F(v.diff)-F(P.diff)}),y=S[0].index;return{index:y,distance:x}}function d(h,x){var S=[h,h+n,h-n];if(!e)return S[0];if(!x)return m(S);var y=S.filter(function(v){return ua(v)===x});return m(y)}function u(h,x){var S=t[h]-r.get(),y=d(S,x);return{index:h,distance:y}}function f(h,x){var S=r.get()+h,y=c(S),v=y.index,P=y.distance,b=!e&&o(S);if(!x||b)return{index:v,distance:h};var N=t[v]-P,C=h+d(N,0);return{index:v,distance:C}}var p={byDistance:f,byIndex:u,shortcut:d};return p}function ln(e,t,n,s,r,o){function i(d){var u=d.distance,f=d.index!==t.get();u&&(e.start(),r.add(u)),f&&(n.set(t.get()),t.set(d.index),o.emit("select"))}function l(d,u){var f=s.byDistance(d,u);i(f)}function m(d,u){var f=t.clone().set(d),p=s.byIndex(f.get(),u);i(p)}var c={distance:l,index:m};return c}function rt(e,t,n){var s=e.scroll==="x"?i:l,r=n.style,o=!1;function i(f){return"translate3d(".concat(f,"px,0px,0px)")}function l(f){return"translate3d(0px,".concat(f,"px,0px)")}function m(f){o||(r.transform=s(t.apply(f.get())))}function c(f){o=!f}function d(){o||(r.transform="",n.getAttribute("style")||n.removeAttribute("style"))}var u={clear:d,to:m,toggleActive:c};return u}function on(e,t,n,s,r,o,i,l,m){var c=Ce(r),d=Ce(r).reverse(),u=x().concat(S());function f(N,C){return N.reduce(function(E,_){return E-r[_]},C)}function p(N,C){return N.reduce(function(E,_){var B=f(E,C);return B>0?E.concat([_]):E},[])}function h(N,C){var E=C==="start",_=E?-s:s,B=i.findSlideBounds([_]);return N.map(function(K){var H=E?0:-s,re=E?s:0,Q=B.filter(function(X){return X.index===K})[0],ne=Q[E?"end":"start"],W=ve(-1),L=ve(-1),ue=rt(e,t,m[K]),q=function(){return W.set(l.get()>ne?H:re)};return{index:K,location:L,translate:ue,target:q}})}function x(){var N=o[0]-1,C=p(d,N);return h(C,"end")}function S(){var N=n-o[0]-1,C=p(c,N);return h(C,"start")}function y(){return u.every(function(N){var C=N.index,E=c.filter(function(_){return _!==C});return f(E,n)<=.1})}function v(){u.forEach(function(N){var C=N.target,E=N.translate,_=N.location,B=C();B.get()!==_.get()&&(B.get()===0?E.clear():E.to(B),_.set(B))})}function P(){u.forEach(function(N){return N.translate.clear()})}var b={canLoop:y,clear:P,loop:v,loopPoints:u};return b}function cn(e,t,n,s,r,o,i){var l=r.removeOffset,m=r.constrain,c=.5,d=o?[0,t,-t]:[0],u=p(d,i);function f(S){var y=S||0;return n.map(function(v){var P=we(c,v-c);return P.constrain(v*y)})}function p(S,y){var v=S||d,P=f(y);return v.reduce(function(b,N){var C=s.map(function(E,_){return{start:E-n[_]+P[_]+N,end:E+e-P[_]+N,index:_}});return b.concat(C)},[])}function h(S,y){var v=o?l(S):m(S),P=y||u;return P.reduce(function(b,N){var C=N.index,E=N.start,_=N.end,B=b.indexOf(C)!==-1,K=E<v&&_>v;return!B&&K?b.concat([C]):b},[])}var x={check:h,findSlideBounds:p};return x}function un(e,t,n,s,r){var o=e.measureSize,i=e.startEdge,l=e.endEdge,m=n[0]&&r,c=p(),d=h(),u=n.map(o),f=x();function p(){if(!m)return 0;var y=n[0];return F(t[i]-y[i])}function h(){if(!m)return 0;var y=window.getComputedStyle(me(s));return parseFloat(y.getPropertyValue("margin-".concat(l)))}function x(){return n.map(function(y,v,P){var b=!v,N=v===Ke(P);return b?u[v]+c:N?u[v]+d:P[v+1][i]-y[i]}).map(F)}var S={slideSizes:u,slideSizesWithGaps:f};return S}function dn(e,t,n){var s=ca(n);function r(m,c){return Ce(m).filter(function(d){return d%c===0}).map(function(d){return m.slice(d,d+c)})}function o(m){return Ce(m).reduce(function(c,d){var u=t.slice(me(c),d+1),f=u.reduce(function(p,h){return p+h},0);return!d||f>e?c.concat(d):c},[]).map(function(c,d,u){return m.slice(c,u[d+1])})}function i(m){return s?r(m,n):o(m)}var l={groupSlides:i};return l}function mn(e,t,n,s,r){var o=s.align,i=s.axis,l=s.direction,m=s.startIndex,c=s.inViewThreshold,d=s.loop,u=s.speed,f=s.dragFree,p=s.slidesToScroll,h=s.skipSnaps,x=s.containScroll,S=t.getBoundingClientRect(),y=n.map(function(G){return G.getBoundingClientRect()}),v=Yr(l),P=Qr(i,l),b=P.measureSize(S),N=Jr(b),C=Kr(o,b),E=!d&&x!=="",_=d||x!=="",B=un(P,S,y,n,_),K=B.slideSizes,H=B.slideSizesWithGaps,re=dn(b,H,p),Q=nn(P,C,S,y,H,re,E),ne=Q.snaps,W=Q.snapsAligned,L=-me(ne)+me(H),ue=en(b,L,W,x).snapsContained,q=E?ue:W,X=an(L,q,d).limit,le=tt(Ke(q),m,d),fe=le.clone(),ye=Ce(n),he=function(){d||z.scrollBounds.constrain(z.dragHandler.pointerDown()),z.scrollBody.seek(A).update();var G=z.scrollBody.settle(A);G&&!z.dragHandler.pointerDown()&&(z.animation.stop(),r.emit("settle")),G||r.emit("scroll"),d&&(z.scrollLooper.loop(z.scrollBody.direction()),z.slideLooper.loop()),z.translate.to(Y),z.animation.proceed()},R=Hr(he),ae=q[le.get()],Y=ve(ae),A=ve(ae),g=Xr(Y,u,1),V=sn(d,q,L,X,A),j=ln(R,le,fe,V,A,r),O=cn(b,L,K,ne,X,d,c),Z=Gr(P,v,e,A,Wr(P),Y,R,j,g,V,le,r,N,d,f,h),z={containerRect:S,slideRects:y,animation:R,axis:P,direction:v,dragHandler:Z,eventStore:Ve(),percentOfView:N,index:le,indexPrevious:fe,limit:X,location:Y,options:s,scrollBody:g,scrollBounds:Zr(X,Y,A,g,N),scrollLooper:tn(L,X,Y,[Y,A]),scrollProgress:rn(X),scrollSnaps:q,scrollTarget:V,scrollTo:j,slideLooper:on(P,v,b,L,H,q,O,Y,n),slidesToScroll:re,slidesInView:O,slideIndexes:ye,target:A,translate:rt(P,v,t)};return z}function fn(){var e={};function t(i){return e[i]||[]}function n(i){return t(i).forEach(function(l){return l(i)}),o}function s(i,l){return e[i]=t(i).concat([l]),o}function r(i,l){return e[i]=t(i).filter(function(m){return m!==l}),o}var o={emit:n,off:r,on:s};return o}var hn={align:"center",axis:"x",container:null,slides:null,containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function da(){function e(r,o){return et(r,o||{})}function t(r,o){var i=JSON.stringify(be(r.breakpoints||{})),l=JSON.stringify(be(o.breakpoints||{}));return i!==l?!1:at(r,o)}function n(r){var o=r.breakpoints||{},i=be(o).filter(function(l){return window.matchMedia(l).matches}).map(function(l){return o[l]}).reduce(function(l,m){return e(l,m)},{});return e(r,i)}var s={merge:e,areEqual:t,atMedia:n};return s}function pn(){var e=da(),t=e.atMedia,n=e.areEqual,s=[],r=[];function o(){return r.some(function(d){return d()})}function i(d){var u=t(d.options);return function(){return!n(u,t(d.options))}}function l(d,u){return r=d.map(i),s=d.filter(function(f){return t(f.options).active}),s.forEach(function(f){return f.init(u)}),d.reduce(function(f,p){var h;return Object.assign(f,(h={},h[p.name]=p,h))},{})}function m(){s=s.filter(function(d){return d.destroy()})}var c={init:l,destroy:m,haveChanged:o};return c}function je(e,t,n){var s=Ve(),r=da(),o=pn(),i=fn(),l=i.on,m=i.off,c=N,d=!1,u,f=r.merge(hn,je.globalOptions),p=r.merge(f),h=[],x,S=0,y,v;function P(){var A=p.container,g=p.slides,V=wa(A)?e.querySelector(A):A;y=V||e.children[0];var j=wa(g)?y.querySelectorAll(g):g;v=[].slice.call(j||y.children)}function b(A,g){if(!d){if(f=r.merge(f,A),p=r.atMedia(f),P(),u=mn(e,y,v,p,i),S=u.axis.measureSize(e.getBoundingClientRect()),!p.active)return C();if(u.translate.to(u.location),h=g||h,x=o.init(h,Y),p.loop){if(!u.slideLooper.canLoop()){C(),b({loop:!1},g),f=r.merge(f,{loop:!0});return}u.slideLooper.loop()}p.draggable&&y.offsetParent&&v.length&&u.dragHandler.addActivationEvents()}}function N(A,g){var V=q();C(),b(r.merge({startIndex:V},A),g),i.emit("reInit")}function C(){u.dragHandler.removeAllEvents(),u.animation.stop(),u.eventStore.removeAll(),u.translate.clear(),u.slideLooper.clear(),o.destroy()}function E(){d||(d=!0,s.removeAll(),C(),i.emit("destroy"))}function _(){var A=r.atMedia(f),g=!r.areEqual(A,p),V=u.axis.measureSize(e.getBoundingClientRect()),j=S!==V,O=o.haveChanged();(j||g||O)&&N(),i.emit("resize")}function B(A){var g=u[A?"target":"location"].get(),V=p.loop?"removeOffset":"constrain";return u.slidesInView.check(u.limit[V](g))}function K(A){var g=B(A);return u.slideIndexes.filter(function(V){return g.indexOf(V)===-1})}function H(A,g,V){!p.active||d||(u.scrollBody.useBaseMass().useSpeed(g?100:p.speed),u.scrollTo.index(A,V||0))}function re(A){var g=u.index.clone().add(1);H(g.get(),A===!0,-1)}function Q(A){var g=u.index.clone().add(-1);H(g.get(),A===!0,1)}function ne(){var A=u.index.clone().add(1);return A.get()!==q()}function W(){var A=u.index.clone().add(-1);return A.get()!==q()}function L(){return u.scrollSnaps.map(u.scrollProgress.get)}function ue(){return u.scrollProgress.get(u.location.get())}function q(){return u.index.get()}function X(){return u.indexPrevious.get()}function le(){return u.dragHandler.clickAllowed()}function fe(){return x}function ye(){return u}function he(){return e}function R(){return y}function ae(){return v}var Y={canScrollNext:ne,canScrollPrev:W,clickAllowed:le,containerNode:R,internalEngine:ye,destroy:E,off:m,on:l,plugins:fe,previousScrollSnap:X,reInit:c,rootNode:he,scrollNext:re,scrollPrev:Q,scrollProgress:ue,scrollSnapList:L,scrollTo:H,selectedScrollSnap:q,slideNodes:ae,slidesInView:B,slidesNotInView:K};return b(t,n),s.add(window,"resize",_),setTimeout(function(){return i.emit("init")},0),Y}je.globalOptions=void 0;je.optionsHandler=da;function vn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ka(e){return e.concat().sort(function(t,n){return t.name>n.name?1:-1}).map(function(t){return t.options})}function gn(e,t){if(e.length!==t.length)return!1;var n=je.optionsHandler().areEqual,s=ka(e),r=ka(t);return s.every(function(o,i){var l=r[i];return n(o,l)})}function ma(e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var n=w.useRef(je.optionsHandler()),s=w.useRef(e),r=w.useRef(t),o=w.useState(),i=o[0],l=o[1],m=w.useState(),c=m[0],d=m[1],u=w.useCallback(function(){i&&i.reInit(s.current,r.current)},[i]);return w.useEffect(function(){if(vn()&&c){je.globalOptions=ma.globalOptions;var f=je(c,s.current,r.current);return l(f),function(){return f.destroy()}}else l(void 0)},[c,l]),w.useEffect(function(){n.current.areEqual(s.current,e)||(s.current=e,u())},[e,u]),w.useEffect(function(){gn(r.current,t)||(r.current=t,u())},[t,u]),[d,i]}ma.globalOptions=void 0;function Ca({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}const[xn,yn]=dt("Carousel component was not found in tree");var fa={root:"m-17884d0f",viewport:"m-a2dae653",container:"m-fcd81474",controls:"m-39bc3463",control:"m-64f58e10",indicators:"m-71ea3ab1",indicator:"m-eae68602",slide:"m-d98df724"};const bn={},ha=ea((e,t)=>{const{classNames:n,className:s,style:r,styles:o,vars:i,...l}=$e("CarouselSlide",bn,e),m=yn();return D.createElement(Ia,{ref:t,mod:{orientation:m.orientation},...m.getStyles("slide",{className:s,style:r,classNames:n,styles:o}),...l})});ha.classes=fa;ha.displayName="@mantine/core/CarouselSlide";function jn({slideGap:e,slideSize:t,selector:n}){const s=mt(),r=ft({"--carousel-slide-gap":Le(xa(e)),"--carousel-slide-size":Je(xa(t))}),o=Qe(s.breakpoints).reduce((m,c)=>(m[c]||(m[c]={}),typeof e=="object"&&e[c]!==void 0&&(m[c]["--carousel-slide-gap"]=Le(e[c])),typeof t=="object"&&t[c]!==void 0&&(m[c]["--carousel-slide-size"]=Le(t[c])),m),{}),l=Ct(Qe(o),s).filter(m=>Qe(o[m.value]).length>0).map(m=>({query:`(min-width: ${s.breakpoints[m.value]})`,styles:o[m.value]}));return D.createElement(ht,{styles:r,media:l,selector:n})}const Sn={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0},Nn=xt((e,{height:t,controlSize:n,controlsOffset:s})=>({root:{"--carousel-height":Je(t),"--carousel-control-size":Je(n),"--carousel-controls-offset":Le(s)}})),Ee=ea((e,t)=>{const n=$e("Carousel",Sn,e),{classNames:s,className:r,style:o,styles:i,unstyled:l,vars:m,children:c,getEmblaApi:d,onNextSlide:u,onPreviousSlide:f,onSlideChange:p,nextControlProps:h,previousControlProps:x,controlSize:S,controlsOffset:y,slideSize:v,slideGap:P,orientation:b,height:N,align:C,slidesToScroll:E,includeGapInSize:_,draggable:B,dragFree:K,loop:H,speed:re,initialSlide:Q,inViewThreshold:ne,withControls:W,withIndicators:L,plugins:ue,nextControlIcon:q,previousControlIcon:X,skipSnaps:le,containScroll:fe,withKeyboardEvents:ye,...he}=n,R=pt({name:"Carousel",classes:fa,props:n,className:r,style:o,classNames:s,styles:i,unstyled:l,vars:m,varsResolver:Nn}),ae=vt(),{dir:Y}=gt(),[A,g]=ma({axis:b==="horizontal"?"x":"y",direction:b==="horizontal"?Y:void 0,startIndex:Q,loop:H,align:C,slidesToScroll:E,draggable:B,dragFree:K,speed:re,inViewThreshold:ne,skipSnaps:le,containScroll:fe},ue),[V,j]=w.useState(0),[O,Z]=w.useState(0),z=w.useCallback(J=>g&&g.scrollTo(J),[g]),G=w.useCallback(()=>{if(!g)return;const J=g.selectedScrollSnap();j(J),p==null||p(J)},[g,j]),pe=w.useCallback(()=>{g==null||g.scrollPrev(),f==null||f()},[g]),De=w.useCallback(()=>{g==null||g.scrollNext(),u==null||u()},[g]),Te=w.useCallback(J=>{ye&&(J.key==="ArrowRight"&&(J.preventDefault(),De()),J.key==="ArrowLeft"&&(J.preventDefault(),pe()))},[g]);w.useEffect(()=>{if(g)return d==null||d(g),G(),Z(g.scrollSnapList().length),g.on("select",G),()=>{g.off("select",G)}},[g,E]),w.useEffect(()=>{g&&(g.reInit(),Z(g.scrollSnapList().length),j(J=>Et(J,0,w.Children.toArray(c).length-1)))},[w.Children.toArray(c).length,E]);const ze=(g==null?void 0:g.canScrollPrev())||!1,Fe=(g==null?void 0:g.canScrollNext())||!1,He=Array(O).fill(0).map((J,de)=>D.createElement(Ye,{...R("indicator"),key:de,"data-active":de===V||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>z(de)}));return D.createElement(xn,{value:{getStyles:R,orientation:b}},D.createElement(jn,{...n,selector:`.${ae}`}),D.createElement(Ia,{ref:t,...R("root",{className:ae}),...he,mod:{orientation:b,"include-gap-in-size":_},onKeyDownCapture:Te},D.createElement("div",{...R("viewport"),ref:A},D.createElement("div",{...R("container"),"data-orientation":b},c)),L&&D.createElement("div",{...R("indicators")},He),W&&D.createElement("div",{...R("controls")},D.createElement(Ye,{...x,...R("control",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),onClick:J=>{var de;pe(),(de=x==null?void 0:x.onClick)==null||de.call(x,J)},"data-inactive":!ze||void 0,tabIndex:ze?0:-1},typeof X<"u"?X:D.createElement(va,{style:{transform:`rotate(${Ca({dir:Y,orientation:b,direction:"previous"})}deg)`}})),D.createElement(Ye,{...R("control",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),...h,onClick:J=>{var de;De(),(de=h==null?void 0:h.onClick)==null||de.call(h,J)},"data-inactive":!Fe||void 0,tabIndex:Fe?0:-1},typeof q<"u"?q:D.createElement(va,{style:{transform:`rotate(${Ca({dir:Y,orientation:b,direction:"next"})}deg)`}})))))});Ee.classes=fa;Ee.displayName="@mantine/core/Carousel";Ee.Slide=ha;const cs=()=>{const{id:e}=_a(),t=Me(),{addProduct:n}=Aa(),{data:s,isLoading:r,isError:o}=Ha({id:e}),i=oa();function l(c){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll(),t("/product")},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red",icon:a.jsx(Ea,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Detail",children:a.jsx("img",{src:c,alt:""}),size:"xl"})}}return r?a.jsx("div",{className:"mt-48",children:a.jsx(Da,{})}):o?a.jsxs("div",{className:"mt-48 text-center",children:[a.jsx("h1",{className:"text-lg font-bold mb-2",children:"Produk tidak ditemukan"}),a.jsx(M,{onClick:()=>t(-1),leftSection:a.jsx(Xe,{size:14}),children:"Kembali"})]}):a.jsxs("main",{children:[a.jsxs("header",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Detail Produk"}),a.jsx(M,{component:se,size:"xs",to:"/product",leftSection:a.jsx(Xe,{size:16}),children:"Kembali"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsxs("div",{className:"col-span-4",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:s.thumbnail??"/default_image.png",alt:s.name,loading:"eager",className:"w-full h-auto rounded-md"})}),s.images.length>0&&a.jsx(Ee,{slideSize:"33.333333%",slideGap:"md",align:"start",children:s.images.map(({id:c,image:d})=>a.jsx(Ee.Slide,{children:a.jsx("div",{onClick:m(d),"aria-hidden":!0,className:"bg-gray-200 w-full h-full aspect-square rounded-md relative overflow-hidden cursor-pointer",children:a.jsx("img",{src:d??"/default_image.png",alt:"",className:"w-full h-full absolute inset-0 object-cover object-center"})})},c))})]}),a.jsxs("article",{className:"col-span-8",children:[a.jsxs("section",{className:"mb-5",children:[s.brand&&a.jsx("h2",{className:"text-primary-600 font-body text-sm font-bold uppercase",children:s.brand.name}),a.jsx("h1",{className:"mb-3 text-3xl font-semibold",children:s.name}),s.category&&a.jsx("div",{className:"mt-2 flex space-x-4 text-sm font-semibold uppercase text-gray-600",children:s.category.name}),s.price&&a.jsx("div",{className:"text-primary-600 mt-2 text-xl font-black",children:yt(s.price)})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"font-body text-sm font-semibold text-gray-800",children:"DESCRIPTION"}),a.jsx("div",{className:"prose text-gray-700 transition-all",dangerouslySetInnerHTML:{__html:s.description||"-"}})]}),a.jsx(Se,{role:["Customer"],children:a.jsx(M,{size:"xs",leftSection:a.jsx(Ma,{size:14}),onClick:()=>n(s.id),children:"Tambah Keranjang"})}),a.jsx(Se,{role:["-Customer"],children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(M,{component:se,to:`/product/${s.id}/update`,leftSection:a.jsx(Ne,{size:16}),size:"xs",children:"Edit"}),a.jsx(M,{color:"red",leftSection:a.jsx(xe,{size:16}),size:"xs",onClick:l(s.id),children:"Hapus"})]})})]})]})]})]})};export{Er as BrandCreateForm,aa as BrandSelect,Cr as BrandTable,Ar as BrandUpdateForm,rs as Brands,ts as Categories,wr as CategoryCreateForm,Re as CategorySelect,Nr as CategoryTable,Pr as CategoryUpdateForm,ss as Modalities,Or as ModalityCreateForm,Tr as ModalitySelect,Lr as ModalityTable,zr as ModalityUpdateForm,jt as PRODUCT_TYPES,Xa as ProductAccessoryForm,ls as ProductCreate,cs as ProductDetail,Ur as ProductList,Za as ProductPreventiveForm,hs as ProductSelect,as as ProductTable,Ga as ProductUnitForm,os as ProductUpdate,is as Products,Ir as UnitCreateForm,_r as UnitTable,Br as UnitUpdateForm,ns as Units,ar as createBrand,Ot as createCategory,hr as createModality,cr as createProduct,Qt as createUnit,ir as deleteBrand,Kt as deleteCategory,br as deleteModality,fr as deleteProduct,Zt as deleteUnit,rr as getBrand,ms as getBrands,Vt as getCategories,$t as getCategory,vr as getModalities,gr as getModality,ur as getProduct,ps as getProducts,Wt as getUnit,Gt as getUnits,nr as updateBrand,qt as updateCategory,xr as updateModality,mr as updateProduct,Jt as updateUnit,Zn as useBrand,bt as useBrands,Ra as useCategories,Jn as useCategory,tr as useCreateBrand,Ut as useCreateCategory,pr as useCreateModality,ia as useCreateProduct,Yt as useCreateUnit,lr as useDeleteBrand,Ht as useDeleteCategory,jr as useDeleteModality,oa as useDeleteProduct,er as useDeleteUnit,Qa as useModalities,es as useModality,Ha as useProduct,Ba as useProducts,Xn as useUnit,Ka as useUnits,sr as useUpdateBrand,Rt as useUpdateCategory,yr as useUpdateModality,la as useUpdateProduct,Xt as useUpdateUnit};
