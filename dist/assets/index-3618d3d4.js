import{u as c,q as m,C as u,s as l,a as d,c as r,j as a,B as p,r as h}from"./index-cfc5752b.js";import{A as S,b as z}from"./index-cfc5752b.js";import{u as x,T as g,C as v}from"./use-form-84ce6720.js";import{P as j}from"./PasswordInput-bf1949d0.js";async function f({role:s,data:t}){return(await d.post(s=="admin"?"/auth/login":"/auth/customer/login",t)).data}function y({config:s}={}){return c(f,{onSuccess:({data:{access_token:t,user:e}})=>{m.setQueryData([u],e),l.setToken(t)},...s})}var k=r("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),b=r("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);const w=({role:s})=>{const t=x({initialValues:{email:"",password:""}}),e=y();async function n(i){i.preventDefault(),await e.mutateAsync({role:s,data:t.values},{onError:({response:o})=>{t.setErrors((o==null?void 0:o.data).errors)}})}return a.jsxs("form",{onSubmit:n,children:[a.jsx("div",{className:"mb-4",children:a.jsx(g,{name:"email",placeholder:"Email",icon:a.jsx(b,{size:14}),...t.getInputProps("email")})}),a.jsx("div",{className:"mb-8",children:a.jsx(j,{name:"password",placeholder:"Password",icon:a.jsx(k,{size:14}),...t.getInputProps("password")})}),a.jsx(p,{type:"submit",fullWidth:!0,loading:e.isLoading,children:"Masuk"})]})},L=()=>{const[s,t]=h.useState("customer");return a.jsxs(v,{className:"h-screen md:h-auto w-full md:max-w-md mx-auto px-6 py-8 pb-14",shadow:"sm",p:0,radius:"md",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-6 capitalize",children:["Login ",s]}),a.jsx(w,{role:s}),a.jsxs("div",{"aria-hidden":!0,onClick:()=>t(s=="customer"?"admin":"customer"),className:"text-primary-600 text-center text-sm mt-4 cursor-pointer",children:["Login Sebagai ",s=="customer"?"Admin":"Customer"]})]})};export{S as AuthProvider,L as Login,w as LoginForm,z as useAuth};
