import{a0 as Ya,p as A,t as We,R as u,v as Se,w as Xe,aA as ea,aB as Ga,aC as Za,N as aa,r as f,az as Ja,D as Wa,o as Y,G as Xa,y as et,J as at,aD as te,z as tt,x as st,au as rt,aE as nt,V as it,c as lt,a as g,u as P,q as y,k as F,j as t,h as C,m as d,n as p,B as m,g as Ne,L as E,b as se,I as ot,i as pe,U as ct,P as Me,aF as dt,aG as ut,l as mt}from"./index-74cdd8a8.js";import{u as ta}from"./ProductSelect-92d1a8bd.js";import{P as Jr,g as Wr}from"./ProductSelect-92d1a8bd.js";import{u as pt}from"./getProduct-7df8b0a6.js";import{g as en}from"./getProduct-7df8b0a6.js";import{D as sa,I as ra,P as ht}from"./index-eb3a80de.js";import{u as gt,T as G,I as N,C as w,L as ft}from"./Table-2b317a99.js";import{u as O}from"./use-form-b4366f35.js";import{I as na,a as xt,T as S}from"./TextInput-fb061973.js";import{I as Z}from"./IconEdit-2ed80697.js";import{I as z,S as he}from"./IconTrash-fcd6c897.js";import{I as we}from"./IconPhoto-3bf5c069.js";import{I as yt}from"./IconEye-8bede141.js";import{N as vt,T as bt}from"./NumberInput-d9b75511.js";import{R as Pe}from"./Radio-03c1e8ee.js";import{I as ia}from"./IconPlus-26b0fd75.js";import{I as jt}from"./IconArrowLeft-6673068f.js";import"./clamp-73f6bef2.js";var Pt={root:"m-b6d8b162"};const la=Pt;var _t=Object.defineProperty,St=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable,Ae=(e,a,s)=>a in e?_t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,Fe=(e,a)=>{for(var s in a||(a={}))oa.call(a,s)&&Ae(e,s,a[s]);if(re)for(var s of re(a))ca.call(a,s)&&Ae(e,s,a[s]);return e},wt=(e,a)=>St(e,Nt(a)),Ct=(e,a)=>{var s={};for(var r in e)oa.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&re)for(var r of re(e))a.indexOf(r)<0&&ca.call(e,r)&&(s[r]=e[r]);return s};function Ot(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const It={inherit:!1},kt=Xe((e,{variant:a,lineClamp:s,gradient:r,size:n,color:o})=>({root:{"--text-fz":ea(n),"--text-lh":Ga(n),"--text-gradient":a==="gradient"?Za(r,e):void 0,"--text-line-clamp":typeof s=="number"?s.toString():void 0,"--text-color":o?aa(o,e):void 0}})),T=Ya((e,a)=>{const s=A("Text",It,e),r=s,{lineClamp:n,truncate:o,inline:i,inherit:l,gradient:c,span:v,__staticSelector:x,vars:b,className:h,style:_,classNames:j,styles:B,unstyled:M,variant:R,mod:k,size:V}=r,L=Ct(r,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),K=We({name:["Text",x],props:s,classes:la,className:h,style:_,classNames:j,styles:B,unstyled:M,vars:b,varsResolver:kt});return u.createElement(Se,Fe(wt(Fe({},K("root",{focusable:!0})),{ref:a,component:v?"span":"p",variant:R,mod:[{"data-truncate":Ot(o),"data-line-clamp":typeof n=="number","data-inline":i,"data-inherit":l},k],size:V}),L))});T.classes=la;T.displayName="@mantine/core/Text";var $t=Object.defineProperty,ne=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,Be=(e,a,s)=>a in e?$t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,De=(e,a)=>{for(var s in a||(a={}))da.call(a,s)&&Be(e,s,a[s]);if(ne)for(var s of ne(a))ua.call(a,s)&&Be(e,s,a[s]);return e},Et=(e,a)=>{var s={};for(var r in e)da.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&ne)for(var r of ne(e))a.indexOf(r)<0&&ua.call(e,r)&&(s[r]=e[r]);return s};const Mt={multiple:!1},ma=f.forwardRef((e,a)=>{const s=A("FileButton",Mt,e),{onChange:r,children:n,multiple:o,accept:i,name:l,form:c,resetRef:v,disabled:x,capture:b,inputProps:h}=s,_=Et(s,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),j=f.useRef(),B=()=>{var k;!x&&((k=j.current)==null||k.click())},M=k=>{r(o?Array.from(k.currentTarget.files):k.currentTarget.files[0]||null)};return Ja(v,()=>{j.current.value=""}),u.createElement(u.Fragment,null,n(De({onClick:B},_)),u.createElement("input",De({style:{display:"none"},type:"file",accept:i,multiple:o,onChange:M,ref:Wa(a,j),name:l,form:c,capture:b},h)))});ma.displayName="@mantine/core/FileButton";var At=Object.defineProperty,Ft=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,pa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,Le=(e,a,s)=>a in e?At(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,_e=(e,a)=>{for(var s in a||(a={}))pa.call(a,s)&&Le(e,s,a[s]);if(ie)for(var s of ie(a))ha.call(a,s)&&Le(e,s,a[s]);return e},Ue=(e,a)=>Ft(e,Bt(a)),Dt=(e,a)=>{var s={};for(var r in e)pa.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&ie)for(var r of ie(e))a.indexOf(r)<0&&ha.call(e,r)&&(s[r]=e[r]);return s};const Lt=({value:e})=>u.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(a=>a.name).join(", "):e==null?void 0:e.name),Ut={valueComponent:Lt},Ce=Y((e,a)=>{const s=A("FileInput",Ut,e),r=s,{unstyled:n,vars:o,onChange:i,value:l,defaultValue:c,multiple:v,accept:x,name:b,form:h,valueComponent:_,clearable:j,clearButtonProps:B,readOnly:M,capture:R,fileInputProps:k,rightSection:V,size:L,placeholder:K}=r,ve=Dt(r,["unstyled","vars","onChange","value","defaultValue","multiple","accept","name","form","valueComponent","clearable","clearButtonProps","readOnly","capture","fileInputProps","rightSection","size","placeholder"]),q=f.useRef(null),[$,Q]=Xa({value:l,defaultValue:c,onChange:i,finalValue:v?[]:null}),ae=Array.isArray($)?$.length!==0:$!==null,be=V||(j&&ae&&!M?u.createElement(et,Ue(_e({},B),{variant:"subtle",onClick:()=>Q(v?[]:null),size:L,unstyled:n})):null);f.useEffect(()=>{var U;(Array.isArray($)&&$.length===0||$===null)&&((U=q.current)==null||U.call(q))},[$]);const je=_;return u.createElement(ma,{onChange:Q,multiple:v,accept:x,name:b,form:h,resetRef:q,disabled:M,capture:R,inputProps:k},U=>u.createElement(na,Ue(_e(_e({component:"button",ref:a,rightSection:be},U),ve),{__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:s,unstyled:n,size:L}),ae?u.createElement(je,{value:$}):u.createElement(xt.Placeholder,null,K)))});Ce.classes=na.classes;Ce.displayName="@mantine/core/FileInput";const Oe=Ce,[zt,ge]=at("Pagination.Root component was not found in tree");var Tt={root:"m-4addd315",control:"m-326d024a",dots:"m-4ad7767d"};const J=Tt;var Rt=Object.defineProperty,le=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable,ze=(e,a,s)=>a in e?Rt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,Te=(e,a)=>{for(var s in a||(a={}))ga.call(a,s)&&ze(e,s,a[s]);if(le)for(var s of le(a))fa.call(a,s)&&ze(e,s,a[s]);return e},Vt=(e,a)=>{var s={};for(var r in e)ga.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&le)for(var r of le(e))a.indexOf(r)<0&&fa.call(e,r)&&(s[r]=e[r]);return s};const Kt={siblings:1,boundaries:1},qt=Xe((e,{size:a,radius:s,color:r})=>({root:{"--pagination-control-radius":s===void 0?void 0:tt(s),"--pagination-control-size":st(a,"pagination-control-size"),"--pagination-control-fz":ea(a),"--pagination-active-bg":r?aa(r,e):void 0}})),fe=Y((e,a)=>{const s=A("PaginationRoot",Kt,e),r=s,{classNames:n,className:o,style:i,styles:l,unstyled:c,vars:v,total:x,value:b,defaultValue:h,onChange:_,disabled:j,siblings:B,boundaries:M,color:R,radius:k,onNextPage:V,onPreviousPage:L,onFirstPage:K,onLastPage:ve,getItemProps:q}=r,$=Vt(r,["classNames","className","style","styles","unstyled","vars","total","value","defaultValue","onChange","disabled","siblings","boundaries","color","radius","onNextPage","onPreviousPage","onFirstPage","onLastPage","getItemProps"]),Q=We({name:"Pagination",classes:J,props:s,className:o,style:i,classNames:n,styles:l,unstyled:c,vars:v,varsResolver:qt}),{range:ae,setPage:be,next:je,previous:U,active:Ta,first:Ra,last:Va}=gt({page:b,initialPage:h,onChange:_,total:x,siblings:B,boundaries:M}),Ka=te(V,je),qa=te(L,U),Qa=te(K,Ra),Ha=te(ve,Va);return u.createElement(zt,{value:{total:x,range:ae,active:Ta,disabled:j,getItemProps:q,onChange:be,onNext:Ka,onPrevious:qa,onFirst:Qa,onLast:Ha,getStyles:Q}},u.createElement(Se,Te(Te({ref:a},Q("root")),$)))});fe.classes=J;fe.displayName="@mantine/core/PaginationRoot";var Qt=Object.defineProperty,oe=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,Re=(e,a,s)=>a in e?Qt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,Ve=(e,a)=>{for(var s in a||(a={}))xa.call(a,s)&&Re(e,s,a[s]);if(oe)for(var s of oe(a))ya.call(a,s)&&Re(e,s,a[s]);return e},Ht=(e,a)=>{var s={};for(var r in e)xa.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&oe)for(var r of oe(e))a.indexOf(r)<0&&ya.call(e,r)&&(s[r]=e[r]);return s};const Yt={withPadding:!0},W=Y((e,a)=>{const r=A("PaginationControl",Yt,e),{classNames:n,className:o,style:i,styles:l,vars:c,active:v,disabled:x,withPadding:b}=r,h=Ht(r,["classNames","className","style","styles","vars","active","disabled","withPadding"]),_=ge(),j=x||_.disabled;return u.createElement(rt,Ve(Ve({ref:a,disabled:j,mod:{active:v,disabled:j,"with-padding":b}},_.getStyles("control",{className:o,style:i,classNames:n,styles:l,active:!j})),h))});W.classes=J;W.displayName="@mantine/core/PaginationControl";var Gt=Object.defineProperty,Zt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,va=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable,Ke=(e,a,s)=>a in e?Gt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,D=(e,a)=>{for(var s in a||(a={}))va.call(a,s)&&Ke(e,s,a[s]);if(ce)for(var s of ce(a))ba.call(a,s)&&Ke(e,s,a[s]);return e},X=(e,a)=>Zt(e,Jt(a)),Wt=(e,a)=>{var s={};for(var r in e)va.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&ce)for(var r of ce(e))a.indexOf(r)<0&&ba.call(e,r)&&(s[r]=e[r]);return s};function ee(e){var a=e,{style:s,children:r,path:n}=a,o=Wt(a,["style","children","path"]);return u.createElement("svg",D({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:D({width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"},s)},o),u.createElement("path",{d:n,fill:"currentColor"}))}const Xt=e=>u.createElement(ee,X(D({},e),{path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"})),es=e=>u.createElement(ee,X(D({},e),{path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"})),as=e=>u.createElement(ee,X(D({},e),{path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"})),ts=e=>u.createElement(ee,X(D({},e),{path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"})),ss=e=>u.createElement(ee,X(D({},e),{path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}));var rs=Object.defineProperty,de=Object.getOwnPropertySymbols,ja=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,qe=(e,a,s)=>a in e?rs(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,Qe=(e,a)=>{for(var s in a||(a={}))ja.call(a,s)&&qe(e,s,a[s]);if(de)for(var s of de(a))Pa.call(a,s)&&qe(e,s,a[s]);return e},ns=(e,a)=>{var s={};for(var r in e)ja.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&de)for(var r of de(e))a.indexOf(r)<0&&Pa.call(e,r)&&(s[r]=e[r]);return s};const is={icon:ss},xe=Y((e,a)=>{const r=A("PaginationDots",is,e),{classNames:n,className:o,style:i,styles:l,vars:c,icon:v}=r,x=ns(r,["classNames","className","style","styles","vars","icon"]),b=ge(),h=v;return u.createElement(Se,Qe(Qe({ref:a},b.getStyles("dots",{className:o,style:i,styles:l,classNames:n})),x),u.createElement(h,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});xe.classes=J;xe.displayName="@mantine/core/PaginationDots";var ls=Object.defineProperty,ue=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable,He=(e,a,s)=>a in e?ls(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,os=(e,a)=>{for(var s in a||(a={}))_a.call(a,s)&&He(e,s,a[s]);if(ue)for(var s of ue(a))Sa.call(a,s)&&He(e,s,a[s]);return e},cs=(e,a)=>{var s={};for(var r in e)_a.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&ue)for(var r of ue(e))a.indexOf(r)<0&&Sa.call(e,r)&&(s[r]=e[r]);return s};function ye({icon:e,name:a,action:s,type:r}){const n={icon:e},o=f.forwardRef((i,l)=>{const c=A(a,n,i),{icon:v}=c,x=cs(c,["icon"]),b=v,h=ge(),_=r==="next"?h.active===h.total:h.active===1;return u.createElement(W,os({disabled:h.disabled||_,ref:l,onClick:h[s],withPadding:!1},x),u.createElement(b,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});return o.displayName=`@mantine/core/${a}`,nt(o)}const Na=ye({icon:Xt,name:"PaginationNext",action:"onNext",type:"next"}),wa=ye({icon:es,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),Ca=ye({icon:as,name:"PaginationFirst",action:"onFirst",type:"previous"}),Oa=ye({icon:ts,name:"PaginationLast",action:"onLast",type:"next"});var ds=Object.defineProperty,Ye=Object.getOwnPropertySymbols,us=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,Ge=(e,a,s)=>a in e?ds(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,ps=(e,a)=>{for(var s in a||(a={}))us.call(a,s)&&Ge(e,s,a[s]);if(Ye)for(var s of Ye(a))ms.call(a,s)&&Ge(e,s,a[s]);return e};function Ie({dotsIcon:e}){const a=ge(),s=a.range.map((r,n)=>{var o;return r==="dots"?u.createElement(xe,{icon:e,key:n}):u.createElement(W,ps({key:n,active:r===a.active,"aria-current":r===a.active?"page":void 0,onClick:()=>a.onChange(r),disabled:a.disabled},(o=a.getItemProps)==null?void 0:o.call(a,r)),r)});return u.createElement(u.Fragment,null,s)}Ie.displayName="@mantine/core/PaginationItems";var hs=Object.defineProperty,me=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,Ze=(e,a,s)=>a in e?hs(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,H=(e,a)=>{for(var s in a||(a={}))Ia.call(a,s)&&Ze(e,s,a[s]);if(me)for(var s of me(a))ka.call(a,s)&&Ze(e,s,a[s]);return e},gs=(e,a)=>{var s={};for(var r in e)Ia.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&me)for(var r of me(e))a.indexOf(r)<0&&ka.call(e,r)&&(s[r]=e[r]);return s};const fs={withControls:!0,siblings:1,boundaries:1,gap:8},I=Y((e,a)=>{const r=A("Pagination",fs,e),{withEdges:n,withControls:o,getControlProps:i,nextIcon:l,previousIcon:c,lastIcon:v,firstIcon:x,dotsIcon:b,total:h,gap:_}=r,j=gs(r,["withEdges","withControls","getControlProps","nextIcon","previousIcon","lastIcon","firstIcon","dotsIcon","total","gap"]);return h<=0?null:u.createElement(fe,H({ref:a,total:h},j),u.createElement(it,{gap:_},n&&u.createElement(Ca,H({icon:x},i==null?void 0:i("first"))),o&&u.createElement(wa,H({icon:c},i==null?void 0:i("previous"))),u.createElement(Ie,{dotsIcon:b}),o&&u.createElement(Na,H({icon:l},i==null?void 0:i("next"))),n&&u.createElement(Oa,H({icon:v},i==null?void 0:i("last")))))});I.classes=J;I.displayName="@mantine/core/Pagination";I.Root=fe;I.Control=W;I.Dots=xe;I.First=Ca;I.Last=Oa;I.Next=Na;I.Previous=wa;I.Items=Ie;var xs=lt("dots-circle-horizontal","IconDotsCircleHorizontal",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M8 12l0 .01",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M16 12l0 .01",key:"svg-3"}]]);async function ys({data:e}){return(await g.post("/ar-service/category",e)).data}function vs({config:e}={}){return P(ys,{...e,onSuccess:(...a)=>{y.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function bs({params:e}){return(await g.get("/ar-service/category",{params:e})).data.data}function $a({config:e,params:a}={}){return F({...e,queryKey:["categories",a],queryFn:()=>bs({params:a}),keepPreviousData:!0})}async function js({id:e}){return(await g.get(`/ar-service/category/${e}`)).data.data}function Lr({config:e,id:a}){return F({...e,queryKey:["category",a],queryFn:()=>js({id:a})})}async function Ps({id:e,data:a}){return(await g.put(`/ar-service/category/${e}`,a)).data}function _s({config:e}={}){return P(Ps,{...e,onSuccess:(...a)=>{y.invalidateQueries(["categories"]),y.invalidateQueries(["category",a[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Ss({id:e}){return(await g.delete(`/ar-service/category/${e}`)).data}function Ns({config:e}={}){return P(Ss,{...e,onSuccess:(...a)=>{y.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function ws({data:e}){return(await g.post("/ar-service/unit",e)).data}function Cs({config:e}={}){return P(ws,{...e,onSuccess:(...a)=>{y.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Os({params:e}){return(await g.get("/ar-service/unit",{params:e})).data.data}function Ea({config:e,params:a}={}){return F({...e,queryKey:["units",a],queryFn:()=>Os({params:a}),keepPreviousData:!0})}async function Is({id:e}){return(await g.get(`/ar-service/unit/${e}`)).data.data}function Ur({config:e,id:a}){return F({...e,queryKey:["unit",a],queryFn:()=>Is({id:a})})}async function ks({id:e,data:a}){return(await g.put(`/ar-service/unit/${e}`,a)).data}function $s({config:e}={}){return P(ks,{...e,onSuccess:(...a)=>{y.invalidateQueries(["units"]),y.invalidateQueries(["unit",a[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Es({id:e}){return(await g.delete(`/ar-service/unit/${e}`)).data}function Ms({config:e}={}){return P(Es,{...e,onSuccess:(...a)=>{y.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function As({data:e}){return(await g.post("/ar-service/brand",e)).data}function Fs({config:e}={}){return P(As,{...e,onSuccess:(...a)=>{y.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Bs({params:e}){return(await g.get("/ar-service/brand",{params:e})).data.data}function Ma({config:e,params:a}={}){return F({...e,queryKey:["brands",a],queryFn:()=>Bs({params:a}),keepPreviousData:!0})}async function Ds({id:e}){return(await g.get(`/ar-service/brand/${e}`)).data.data}function zr({config:e,id:a}){return F({...e,queryKey:["brand",a],queryFn:()=>Ds({id:a})})}async function Ls({id:e,data:a}){return(await g.put(`/ar-service/brand/${e}`,a)).data}function Us({config:e}={}){return P(Ls,{...e,onSuccess:(...a)=>{y.invalidateQueries(["brands"]),y.invalidateQueries(["brand",a[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function zs({id:e}){return(await g.delete(`/ar-service/brand/${e}`)).data}function Ts({config:e}={}){return P(zs,{...e,onSuccess:(...a)=>{y.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}const Rs={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function Vs({type:e,data:a}){const s=new FormData;for(const[n,o]of Object.entries(a))o&&(Array.isArray(o)?o.forEach((i,l)=>{i instanceof File&&s.append(`${n}[${l}]`,i)}):o instanceof Date?s.append(n,o.toDateString()):o instanceof File?s.append(n,o,o.name):s.append(n,o.toString()));return(await g.post(Rs[e],s)).data}function ke({config:e}={}){return P(Vs,{...e,onSuccess:(...a)=>{y.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}const Ks={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function qs({id:e,type:a,data:s}){return(await g.post(`${Ks[a]}/${e}`,s)).data}function $e({config:e}={}){return P(qs,{...e,onSuccess:(...a)=>{y.invalidateQueries(["products"]),y.invalidateQueries(["product"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Qs({id:e}){return(await g.delete(`/ar-service/product/${e}`)).data}function Hs({config:e}={}){return P(Qs,{...e,onSuccess:(...a)=>{y.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Ys({data:e}){return(await g.post("/ar-service/modality",e)).data}function Gs({config:e}={}){return P(Ys,{...e,onSuccess:(...a)=>{y.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function Zs({params:e}){return(await g.get("/ar-service/modality",{params:e})).data.data}function Aa({config:e,params:a}={}){return F({...e,queryKey:["modalities",a],queryFn:()=>Zs({params:a}),keepPreviousData:!0})}async function Js({id:e}){return(await g.get(`/ar-service/modality/${e}`)).data.data}function Tr({config:e,id:a}){return F({...e,queryKey:["modality",a],queryFn:()=>Js({id:a})})}async function Ws({id:e,data:a}){return(await g.put(`/ar-service/modality/${e}`,a)).data}function Xs({config:e}={}){return P(Ws,{...e,onSuccess:(...a)=>{y.invalidateQueries(["categories"]),y.invalidateQueries(["modality",a[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}async function er({id:e}){return(await g.delete(`/ar-service/modality/${e}`)).data}function ar({config:e}={}){return P(er,{...e,onSuccess:(...a)=>{y.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...a)}})}const tr={page:1,limit:5,search:""},sr=({toolbar:e})=>{const[a,s]=f.useState(tr),{data:r,isLoading:n}=$a({params:a}),o=Ns();function i(c){return()=>{d.openConfirmModal({title:"Hapus Kategori",children:t.jsx(T,{size:"sm",children:"Apakah anda yakin untuk menghapus kategori ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:c},{onSuccess:()=>{p.show({message:"Kategori berhasil dihapus",color:"green",icon:t.jsx(N,{})}),d.closeAll()}})}})}}function l(c){return()=>{d.open({title:"Update Kategori",children:t.jsx(nr,{category:c,onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}}return t.jsx(G,{title:"Tabel Data Kategori",toolbar:e,loading:n,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...a,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:a.limit||10,page:a.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>t.jsxs("tr",{children:[t.jsx("td",{children:c.name}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C,{variant:"subtle",title:"Update Kategori",color:"primary",radius:"lg",onClick:l(c),children:t.jsx(Z,{size:18})}),t.jsx(C,{variant:"subtle",title:"Hapus Kategori",color:"red",radius:"lg",onClick:i(c.id),children:t.jsx(z,{size:18})})]})})]},c.id)})},rr=({onCancel:e,onSuccess:a})=>{const{mutateAsync:s}=vs(),r=O({initialValues:{name:""}}),n=r.onSubmit(async o=>{await s({data:o},{onError({response:i}){r.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){p.show({message:"Kategori berhasil dibuat",color:"green",icon:t.jsx(N,{})}),a&&a(i)}})});return t.jsxs("form",{className:"relative",onSubmit:n,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},nr=({category:e,onSuccess:a,onCancel:s})=>{const{mutateAsync:r}=_s(),n=O({initialValues:{name:e.name}}),o=n.onSubmit(async i=>{await r({id:e.id,data:i},{onError({response:l}){n.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){p.show({message:"Kategori berhasil diubah",color:"green",icon:t.jsx(N,{})}),a&&a(l)}})});return t.jsxs("form",{className:"relative",onSubmit:o,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...n.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{s&&s()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},ir={page:1,limit:5,search:""},lr=({toolbar:e})=>{const[a,s]=f.useState(ir),{data:r,isLoading:n}=Ma({params:a}),o=Ts();function i(c){return()=>{d.openConfirmModal({title:"Hapus Brand",children:t.jsx(T,{size:"sm",children:"Apakah anda yakin untuk menghapus Brand ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:c},{onSuccess:()=>{p.show({message:"Brand berhasil dihapus",color:"green",icon:t.jsx(N,{})}),d.closeAll()}})}})}}function l(c){return()=>{d.open({title:"Update Brand",children:t.jsx(cr,{brand:c,onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}}return t.jsx(G,{title:"Tabel Data Brand",toolbar:e,loading:n,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...a,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:a.limit||10,page:a.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>t.jsxs("tr",{children:[t.jsx("td",{children:c.name}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C,{variant:"subtle",title:"Update Brand",color:"primary",radius:"lg",onClick:l(c),children:t.jsx(Z,{size:18})}),t.jsx(C,{variant:"subtle",title:"Hapus Brand",color:"red",radius:"lg",onClick:i(c.id),children:t.jsx(z,{size:18})})]})})]},c.id)})},or=({onCancel:e,onSuccess:a})=>{const{mutateAsync:s}=Fs(),r=O({initialValues:{name:""}}),n=r.onSubmit(async o=>{await s({data:o},{onError({response:i}){r.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){p.show({message:"Brand berhasil dibuat",color:"green",icon:t.jsx(N,{})}),a&&a(i)}})});return t.jsxs("form",{className:"relative",onSubmit:n,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},cr=({brand:e,onSuccess:a,onCancel:s})=>{const{mutateAsync:r}=Us(),n=O({initialValues:{name:e.name}}),o=n.onSubmit(async i=>{await r({id:e.id,data:i},{onError({response:l}){n.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){p.show({message:"Brand berhasil diubah",color:"green",icon:t.jsx(N,{})}),a&&a(l)}})});return t.jsxs("form",{className:"relative",onSubmit:o,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...n.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{s&&s()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},dr={page:1,limit:5,search:""},ur=({toolbar:e})=>{const[a,s]=f.useState(dr),{data:r,isLoading:n}=Ea({params:a}),o=Ms();function i(c){return()=>{d.openConfirmModal({title:"Hapus Unit",children:t.jsx(T,{size:"sm",children:"Apakah anda yakin untuk menghapus Unit ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:c},{onSuccess:()=>{p.show({message:"Unit berhasil dihapus",color:"green",icon:t.jsx(N,{})}),d.closeAll()}})}})}}function l(c){return()=>{d.open({title:"Update Unit",children:t.jsx(pr,{unit:c,onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}}return t.jsx(G,{title:"Tabel Data Satuan",toolbar:e,loading:n,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...a,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:a.limit||10,page:a.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>t.jsxs("tr",{children:[t.jsx("td",{children:c.name}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C,{variant:"subtle",title:"Update Satuan",color:"primary",radius:"lg",onClick:l(c),children:t.jsx(Z,{size:18})}),t.jsx(C,{variant:"subtle",title:"Hapus Satuan",color:"red",radius:"lg",onClick:i(c.id),children:t.jsx(z,{size:18})})]})})]},c.id)})},mr=({onCancel:e,onSuccess:a})=>{const{mutateAsync:s}=Cs(),r=O({initialValues:{name:""}}),n=r.onSubmit(async o=>{await s({data:o},{onError({response:i}){r.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){p.show({message:"Unit berhasil dibuat",color:"green",icon:t.jsx(N,{})}),a&&a(i)}})});return t.jsxs("form",{className:"relative",onSubmit:n,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},pr=({unit:e,onSuccess:a,onCancel:s})=>{const{mutateAsync:r}=$s(),n=O({initialValues:{name:e.name}}),o=n.onSubmit(async i=>{await r({id:e.id,data:i},{onError({response:l}){n.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){p.show({message:"Unit berhasil diubah",color:"green",icon:t.jsx(N,{})}),a&&a(l)}})});return t.jsxs("form",{className:"relative",onSubmit:o,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...n.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{s&&s()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},Je={page:1,limit:10,search:""},hr={main:"Unit",accessories:"Accessories",preventive:"Service/Sparepart"},gr=({toolbar:e})=>{const[a,s]=f.useState(Je),{data:r,isLoading:n}=ta({params:a}),o=Hs();function i(l){return()=>{d.openConfirmModal({title:"Hapus Produk",children:t.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:l},{onSuccess:()=>{p.show({message:"Produk berhasil dihapus",color:"green",icon:t.jsx(N,{})}),s(Je),d.closeAll()},onError:()=>{p.show({message:"Produk tidak bisa dihapus",color:"red",icon:t.jsx(ot,{})}),d.closeAll()}})}})}}return t.jsx(G,{title:"Tabel Data Produk",toolbar:e,header:["Produk","Tipe","Kategori","Brand","Modified At",""],items:r==null?void 0:r.data,onPageChange:l=>{s({...a,page:l})},loading:n,metadata:{count:(r==null?void 0:r.data.length)||10,limit:a.limit||10,page:a.page||10,total:(r==null?void 0:r.total)||10},renderItem:l=>{var c;return t.jsxs("tr",{children:[t.jsx("td",{children:l.name}),t.jsx("td",{children:hr[l.type]}),t.jsx("td",{children:l.category.name}),t.jsx("td",{children:((c=l.brand)==null?void 0:c.name)??"-"}),t.jsx("td",{children:Ne(l.updatedAt).format("D MMMM YYYY H:mm")}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C,{component:E,to:`/product/${l.id}`,variant:"subtle",title:"Detail Produk",color:"gray",radius:"lg",children:t.jsx(xs,{size:18})}),t.jsxs(se,{role:["Admin","Superadmin"],children:[t.jsx(C,{variant:"subtle",component:E,to:`/product/${l.id}/update`,title:"Update Produk",color:"primary",radius:"lg",children:t.jsx(Z,{size:18})}),t.jsx(C,{variant:"subtle",onClick:i(l.id),title:"Hapus Produk",color:"red",radius:"lg",children:t.jsx(z,{size:18})})]})]})})]},l.id)}})},Fa=({...e})=>{const[a,s]=f.useState(""),{data:r}=Ma({params:{limit:5e5}}),n=f.useMemo(()=>r?r.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[r]);return t.jsx(he,{...e,data:n,searchable:!0,searchValue:a,onSearchChange:s})},Ee=({...e})=>{const[a,s]=f.useState(""),{data:r}=$a({params:{limit:5e5}}),n=f.useMemo(()=>r?r.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[r]);return t.jsx(he,{...e,data:n,searchable:!0,searchValue:a,onSearchChange:s})},fr=({...e})=>{const[a,s]=f.useState(""),{data:r}=Aa({params:{limit:5e5}}),n=f.useMemo(()=>r?r.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[r]);return t.jsx(he,{...e,data:n,searchable:!0,searchValue:a,onSearchChange:s})},Ba=({...e})=>{const[a,s]=f.useState(""),{data:r}=Ea({params:{limit:5e5}}),n=f.useMemo(()=>r?r.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[r]);return t.jsx(he,{...e,data:n,searchable:!0,searchValue:a,onSearchChange:s})},Da=({product:e})=>{const a=pe(),s=ke(),r=$e(),n=O({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Ne(e.date_entry).toDate():"",modality_product_id:(e==null?void 0:e.modality_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"main",unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",thumbnail:void 0}}),o=n.onSubmit(async i=>{e?await r.mutateAsync({id:e.id,type:"main",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil diubah"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal diubah"})}}):await s.mutateAsync({type:"main",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil dibuat"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal dibuat"})}})});return t.jsxs(w,{component:"form",onSubmit:o,shadow:"lg",children:[t.jsx(w.Section,{p:"lg",withBorder:!0,children:t.jsxs("h2",{className:"font-semibold text-base",children:[e?"Edit":"Tambah"," Data Produk ",t.jsx("span",{className:"text-primary-600",children:"(Unit)"})]})}),t.jsx(w.Section,{p:"lg",withBorder:!0,children:t.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[t.jsx(S,{...n.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode Produk",className:"col-span-12 md:col-span-2"}),t.jsx(S,{...n.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),t.jsx(sa,{...n.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:t.jsx(ra,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),t.jsx(Fa,{...n.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),t.jsx(Ee,{...n.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),t.jsx(Ba,{...n.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),t.jsx(fr,{...n.getInputProps("modality_product_id"),label:"Modality",placeholder:"Pilih Modality",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),t.jsx(Oe,{...n.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:t.jsx(we,{size:16}),value:n.values.thumbnail,onChange:i=>{i&&n.setFieldValue("thumbnail",i)}})]})}),t.jsxs(w.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[t.jsx(m,{type:"submit",loading:s.isLoading||r.isLoading,children:"Simpan"}),t.jsx(m,{component:E,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:s.isLoading||r.isLoading,children:"Batal"})]})]})},xr=({modality:e,onSuccess:a,onCancel:s})=>{const{mutateAsync:r}=Xs(),n=O({initialValues:{name:e.name}}),o=n.onSubmit(async i=>{await r({id:e.id,data:i},{onError({response:l}){n.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){p.show({message:"Modality berhasil diubah",color:"green",icon:t.jsx(N,{})}),a&&a(l)}})});return t.jsxs("form",{className:"relative",onSubmit:o,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...n.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{s&&s()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},yr={page:1,limit:5,search:"",sort:"desc",sort_by:"created_at"},vr=({toolbar:e})=>{const[a,s]=f.useState(yr),{data:r,isLoading:n}=Aa({params:a}),o=ar();function i(c){return()=>{d.openConfirmModal({title:"Hapus Modality",children:t.jsx(T,{size:"sm",children:"Apakah anda yakin untuk menghapus modality ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:c},{onSuccess:()=>{p.show({message:"Modality berhasil dihapus",color:"green",icon:t.jsx(N,{})}),d.closeAll()}})}})}}function l(c){return()=>{d.open({title:"Update Modality",children:t.jsx(xr,{modality:c,onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}}return t.jsx(G,{title:"Tabel Data Modality",toolbar:e,loading:n,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...a,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:a.limit||10,page:a.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>t.jsxs("tr",{children:[t.jsx("td",{children:c.name}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C,{variant:"subtle",title:"Update Modality",color:"primary",radius:"lg",onClick:l(c),children:t.jsx(Z,{size:18})}),t.jsx(C,{variant:"subtle",title:"Hapus Modality",color:"red",radius:"lg",onClick:i(c.id),children:t.jsx(z,{size:18})})]})})]},c.id)})},br=({onCancel:e,onSuccess:a})=>{const{mutateAsync:s}=Gs(),r=O({initialValues:{name:""}}),n=r.onSubmit(async o=>{await s({data:o},{onError({response:i}){r.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){p.show({message:"Modality berhasil dibuat",color:"green",icon:t.jsx(N,{})}),a&&a(i)}})});return t.jsxs("form",{className:"relative",onSubmit:n,children:[t.jsx("div",{className:"space-y-2",children:t.jsx(S,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),t.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[t.jsx(m,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),t.jsx(m,{type:"submit",children:"Simpan"})]})]})},La=({files:e,onChange:a})=>{const[s,r]=f.useState([]);f.useEffect(()=>{const i=e.map(l=>new Promise((c,v)=>{if(typeof l=="string")return c(l);const x=new FileReader;x.onload=b=>{var h;c((h=b.target)==null?void 0:h.result)},x.onerror=b=>{v(b)},x.readAsDataURL(l)}));Promise.all(i).then(l=>{r(l)})},[e]);function n(i){return()=>{d.open({title:"Detail",children:t.jsx("img",{src:i,alt:""}),size:"xl"})}}function o(i){return()=>{a&&a(e.filter((l,c)=>i!=c))}}return t.jsx(t.Fragment,{children:s.map((i,l)=>t.jsxs("div",{className:"bg-gray-200 rounded w-full h-44 relative overflow-hidden [&>div]:hover:block",children:[t.jsx("img",{src:i,loading:"lazy",alt:"",className:"w-full h-full object-cover object-center"}),t.jsx("div",{className:"absolute z-10 bg-black hidden transition-all bg-opacity-20 w-full h-full inset-0 p-2",children:t.jsxs("div",{className:"flex items-end justify-end h-full",children:[t.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full",onClick:n(i),type:"button",children:t.jsx(yt,{className:"w-5 h-5"})}),t.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full ml-2",children:t.jsx(z,{className:"w-5 h-5 text-red-700",onClick:o(l),type:"button"})})]})})]},`picture_${l}`))})},Ua=({product:e})=>{const a=pe(),s=ke(),r=$e(),n=O({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Ne(e.date_entry).toDate():"",product_code:(e==null?void 0:e.product_code)??"",type:"accessories",images:[],unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",is_consumable:"true",price:"",thumbnail:void 0}}),o=n.onSubmit(async i=>{e?await r.mutateAsync({id:e.id,type:"accessories",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil diubah"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal diubah"})}}):await s.mutateAsync({type:"accessories",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil dibuat"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal dibuat"})}})});return t.jsxs(w,{component:"form",onSubmit:o,shadow:"lg",children:[t.jsx(w.Section,{p:"lg",withBorder:!0,children:t.jsxs("h2",{className:"font-semibold text-base",children:["Tambah Data Produk ",t.jsx("span",{className:"text-primary-600",children:"(Accessory)"})]})}),t.jsxs(w.Section,{p:"lg",withBorder:!0,children:[t.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[t.jsx(S,{...n.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),t.jsx(S,{...n.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),t.jsx(sa,{...n.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:t.jsx(ra,{size:16,color:"gray"})}),t.jsx(Fa,{...n.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3"}),t.jsx(Ee,{...n.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),t.jsx(Ba,{...n.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3"}),t.jsx(vt,{...n.getInputProps("price"),label:"Harga",placeholder:"Masukan Harga",leftSection:t.jsx("span",{className:"text-xs",children:"Rp."}),className:"col-span-12 md:col-span-6"}),t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"text-sm mb-2",children:"Status"}),t.jsx(Pe.Group,{...n.getInputProps("is_consumable"),children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Pe,{label:"Consumable",value:"true"}),t.jsx(Pe,{label:"Unconsumable",value:"false"})]})})]}),t.jsx(Oe,{...n.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:t.jsx(we,{size:16}),value:n.values.thumbnail,onChange:i=>{i&&n.setFieldValue("thumbnail",i)}})]}),t.jsxs("section",{className:"mt-6",children:[t.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[t.jsx(ia,{className:"text-gray-600 w-10 h-10"}),t.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&n.setFieldValue("images",[...n.values.images,...i.target.files])}})]}),t.jsx(La,{files:n.values.images,onChange:i=>n.setFieldValue("images",i)})]})]})]}),t.jsxs(w.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[t.jsx(m,{type:"submit",loading:s.isLoading||r.isLoading,children:"Simpan"}),t.jsx(m,{component:E,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:s.isLoading||r.isLoading,children:"Batal"})]})]})},jr=()=>{const[e,a]=f.useState({page:1,limit:8,search:"",sort:"desc",sort_by:"created_at"}),{data:s,isLoading:r,isError:n,isFetching:o}=ta({params:e}),{addProduct:i}=ct();return r||n||o?t.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array(4).fill(0).map((l,c)=>t.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[t.jsx("div",{className:"w-full aspect-video bg-gray-200 animate-pulse"}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"h-5 w-20 bg-gray-200 animate-pulse rounded-lg mt-1 mb-2"}),t.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-full rounded-md mb-2"}),t.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-1/2 rounded-md mb-2"}),t.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded-md animate-pulse"}),t.jsx("div",{className:"space-y-2 mt-2",children:t.jsx("div",{className:"bg-gray-200 w-full h-7 rounded-md"})})]})]},`skp_${c}`))}):t.jsxs("div",{children:[t.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.data.map(l=>t.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[t.jsx(E,{to:`/product/${l.id}`,children:t.jsxs("div",{className:"w-full aspect-video bg-gray-200 relative",children:[t.jsx("div",{className:"z-20 absolute top-4 left-4",children:t.jsx(Me,{size:"xs",color:"gray",children:ht[l.type]})}),l.thumbnail&&t.jsx("img",{src:l.thumbnail,alt:"",className:"absolute w-full h-full inset-0 object-cover object-center"})]})}),t.jsxs("div",{className:"p-4",children:[t.jsx(Me,{className:"mb-2",children:l.category.name}),t.jsx(E,{to:`/product/${l.id}`,children:t.jsx("h2",{className:"line-clamp-2 text-base font-bold mb-1 hover:underline",children:l.name})}),l.brand&&t.jsx("div",{className:"text-sm text-gray-600",children:l.brand.name}),t.jsx("div",{className:"space-y-2 mt-2",children:t.jsx(m,{fullWidth:!0,size:"xs",variant:"outline",leftSection:t.jsx(dt,{size:14}),onClick:()=>i(l.id),children:"Tambah Keranjang"})})]})]},l.id))}),t.jsx("div",{className:"my-6",children:t.jsx(I,{total:s.last_page,value:s.current_page,onChange:l=>a({...e,page:l}),withEdges:!0})})]})},za=({product:e})=>{const a=pe(),s=ke(),r=$e(),n=O({initialValues:{name:(e==null?void 0:e.name)??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"preventive",images:[],thumbnail:void 0}}),o=n.onSubmit(async i=>{e?await r.mutateAsync({id:e.id,type:"preventive",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil diubah"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal diubah"})}}):await s.mutateAsync({type:"preventive",data:{...i}},{onSuccess:()=>{p.show({color:"green",message:"Produk berhasil dibuat"}),a("/product")},onError:({response:l})=>{n.setErrors((l==null?void 0:l.data).errors),p.show({color:"red",message:"Produk gagal dibuat"})}})});return t.jsxs(w,{component:"form",onSubmit:o,shadow:"lg",children:[t.jsx(w.Section,{p:"lg",withBorder:!0,children:t.jsxs("h2",{className:"font-semibold text-base",children:["Tambah Data Produk ",t.jsx("span",{className:"text-primary-600",children:"(Service dan Sparespart)"})]})}),t.jsxs(w.Section,{p:"lg",withBorder:!0,children:[t.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[t.jsx(S,{...n.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),t.jsx(S,{...n.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),t.jsx(Ee,{...n.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),t.jsx(bt,{...n.getInputProps("description"),label:"Detail",placeholder:"Masukan Detail",className:"col-span-12"}),t.jsx(Oe,{...n.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:t.jsx(we,{size:16}),value:n.values.thumbnail,onChange:i=>{i&&n.setFieldValue("thumbnail",i)}})]}),t.jsxs("section",{className:"mt-6",children:[t.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[t.jsx(ia,{className:"text-gray-600 w-10 h-10"}),t.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&n.setFieldValue("images",[...n.values.images,...i.target.files])}})]}),t.jsx(La,{files:n.values.images,onChange:i=>n.setFieldValue("images",i)})]})]})]}),t.jsxs(w.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[t.jsx(m,{type:"submit",loading:s.isLoading||r.isLoading,children:"Simpan"}),t.jsx(m,{component:E,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:s.isLoading||r.isLoading,children:"Batal"})]})]})},Rr=()=>{function e(){d.open({title:"Tambah Kategori",children:t.jsx(rr,{onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}return t.jsxs("main",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Kategori"}),t.jsx(m,{onClick:e,children:"Tambah"})]}),t.jsx("section",{className:"mb-8",children:t.jsx(sr,{})})]})},Vr=()=>{function e(){d.open({title:"Tambah Brand",children:t.jsx(or,{onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}return t.jsxs("main",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Brand"}),t.jsx(m,{onClick:e,children:"Tambah"})]}),t.jsx("section",{className:"mb-8",children:t.jsx(lr,{})})]})},Kr=()=>{function e(){d.open({title:"Tambah Unit",children:t.jsx(mr,{onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}return t.jsxs("main",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Satuan"}),t.jsx(m,{onClick:e,children:"Tambah"})]}),t.jsx("section",{className:"mb-8",children:t.jsx(ur,{})})]})},qr=()=>{function e(){d.open({title:"Tambah Modality",children:t.jsx(br,{onSuccess:()=>d.closeAll(),onCancel:()=>d.closeAll()})})}return t.jsxs("main",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Modality"}),t.jsx(m,{onClick:e,children:"Tambah"})]}),t.jsx("section",{className:"mb-8",children:t.jsx(vr,{})})]})},Qr=()=>{const[e,a]=f.useState(!1);return t.jsxs("main",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"}),t.jsx(se,{role:["Superadmin","Admin"],children:t.jsx(m,{onClick:()=>a(!0),children:"Tambah"})})]}),t.jsxs("section",{className:"mb-8",children:[t.jsx(se,{role:["Customer"],children:t.jsx(jr,{})}),t.jsx(se,{role:["Superadmin","Admin"],children:t.jsx(gr,{})})]}),t.jsx(ut,{title:"Pilih Jenis Produk",centered:!0,opened:e,onClose:()=>a(!1),children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[t.jsx(E,{to:"/product/create/main",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Unit"}),t.jsx(E,{to:"/product/create/accessories",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Accessories"}),t.jsx(E,{to:"/product/create/preventive",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Service / Sparepart"})]})})]})},Hr=({type:e})=>{function a(){switch(e){case"main":return t.jsx(Da,{});case"accessories":return t.jsx(Ua,{});case"preventive":return t.jsx(za,{});default:return null}}return t.jsxs("main",{children:[t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),a()]})},Yr=()=>{const{id:e}=mt(),{data:a,isLoading:s,isError:r}=pt({id:e}),n=pe();function o(i){switch(i.type){case"main":return t.jsx(Da,{product:i});case"accessories":return t.jsx(Ua,{product:i});case"preventive":return t.jsx(za,{product:i});default:return null}}return s?t.jsx("div",{className:"mt-48",children:t.jsx(ft,{})}):r?t.jsxs("div",{className:"mt-48 text-center",children:[t.jsx("h1",{className:"text-lg font-bold mb-2",children:"Produk tidak ditemukan"}),t.jsx(m,{onClick:()=>n(-1),leftSection:t.jsx(jt,{size:14}),children:"Kembali"})]}):t.jsxs("main",{children:[t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),o(a)]})};export{or as BrandCreateForm,lr as BrandTable,cr as BrandUpdateForm,Vr as Brands,Rr as Categories,rr as CategoryCreateForm,sr as CategoryTable,nr as CategoryUpdateForm,qr as Modalities,br as ModalityCreateForm,fr as ModalitySelect,vr as ModalityTable,xr as ModalityUpdateForm,ht as PRODUCT_TYPES,Ua as ProductAccessoryForm,Hr as ProductCreate,jr as ProductList,za as ProductPreventiveForm,Jr as ProductSelect,gr as ProductTable,Da as ProductUnitForm,Yr as ProductUpdate,Qr as Products,mr as UnitCreateForm,ur as UnitTable,pr as UnitUpdateForm,Kr as Units,As as createBrand,ys as createCategory,Ys as createModality,Vs as createProduct,ws as createUnit,zs as deleteBrand,Ss as deleteCategory,er as deleteModality,Qs as deleteProduct,Es as deleteUnit,Ds as getBrand,Bs as getBrands,bs as getCategories,js as getCategory,Zs as getModalities,Js as getModality,en as getProduct,Wr as getProducts,Is as getUnit,Os as getUnits,Ls as updateBrand,Ps as updateCategory,Ws as updateModality,qs as updateProduct,ks as updateUnit,zr as useBrand,Ma as useBrands,$a as useCategories,Lr as useCategory,Fs as useCreateBrand,vs as useCreateCategory,Gs as useCreateModality,ke as useCreateProduct,Cs as useCreateUnit,Ts as useDeleteBrand,Ns as useDeleteCategory,ar as useDeleteModality,Hs as useDeleteProduct,Ms as useDeleteUnit,Aa as useModalities,Tr as useModality,pt as useProduct,ta as useProducts,Ur as useUnit,Ea as useUnits,Us as useUpdateBrand,_s as useUpdateCategory,Xs as useUpdateModality,$e as useUpdateProduct,$s as useUpdateUnit};
