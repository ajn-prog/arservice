import{r as p,T as W,w as re,x as ne,z as Pe,R as P,D as Ce,F as Se,y as _e,K as X,H as Ie,J as Te,N as Oe,U as Z,c as F,u as V,q as E,a as D,e as Ee,V as q,j as e,f as S,t as g,P as O,i as ie,n as _,W as Me,B as N,b as Ae,p as le,L as De,X as ze}from"./index-ab786f8a.js";import{Z as rs,Y as ns}from"./index-ab786f8a.js";import{I as oe,T as ee}from"./TextInput-04173e2e.js";import{I as Be,a as Re,b as $e,R}from"./Radio-d765c77c.js";import{c as Fe,C as Ve,S as qe}from"./Select-9282afee.js";import{N as I}from"./NumberInput-b55b1b73.js";import{I as Ge}from"./IconPlus-3538f3ef.js";import{T as Je}from"./Table-4bba3648.js";import{P as Le,T as Ke}from"./index-9e790f44.js";import{T as x}from"./Table-18c8e163.js";import{u as G}from"./use-form-361df6b2.js";import{a as Ye,I as He,L as Ue,u as Qe}from"./LoadingScreen-9b6af06e.js";import{I as We}from"./IconEye-d32ec62c.js";import{u as Xe}from"./getBiodata-eef7c09c.js";import{I as Ze}from"./IconCategory-7f73a8ff.js";import"./ScrollArea-5859cb9a.js";function ea(a,s){try{return JSON.stringify(a)}catch{throw new Error(`@mantine/hooks ${s}: Failed to serialize the value`)}}function aa(a){try{return a&&JSON.parse(a)}catch{return a}}function sa(a){return{getItem:i=>{try{return window[a].getItem(i)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(i,d)=>{try{window[a].setItem(i,d)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:i=>{try{window[a].removeItem(i)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function ta(a,s){const t=a==="localStorage"?"mantine-local-storage":"mantine-session-storage",{getItem:n,setItem:i,removeItem:d}=sa(a);return function({key:r,defaultValue:c,getInitialValueInEffect:h=!0,deserialize:o=aa,serialize:y=u=>ea(u,s)}){const u=p.useCallback(m=>{let v;try{v=typeof window>"u"||!(a in window)||window[a]===null||!!m}catch{v=!0}if(v)return c;const k=n(r);return k!==null?o(k):c},[r,c]),[j,f]=p.useState(u(h)),w=p.useCallback(m=>{m instanceof Function?f(v=>{const k=m(v);return i(r,y(k)),window.dispatchEvent(new CustomEvent(t,{detail:{key:r,value:m(v)}})),k}):(i(r,y(m)),window.dispatchEvent(new CustomEvent(t,{detail:{key:r,value:m}})),f(m))},[r]),L=p.useCallback(()=>{d(r),window.dispatchEvent(new CustomEvent(t,{detail:{key:r,value:c}}))},[]);return W("storage",m=>{var v;m.storageArea===window[a]&&m.key===r&&f(o((v=m.newValue)!=null?v:void 0))}),W(t,m=>{m.detail.key===r&&f(m.detail.value)}),p.useEffect(()=>{c!==void 0&&j===void 0&&w(c)},[c,j,w]),p.useEffect(()=>{h&&f(u())},[]),[j===void 0?c:j,w,L]}}function ce(a){return ta("localStorage","use-local-storage")(a)}const de=p.createContext(null),ra=de.Provider,na=()=>p.useContext(de);var ia=Object.defineProperty,la=Object.defineProperties,oa=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,ae=(a,s,t)=>s in a?ia(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,se=(a,s)=>{for(var t in s||(s={}))ue.call(s,t)&&ae(a,t,s[t]);if(M)for(var t of M(s))me.call(s,t)&&ae(a,t,s[t]);return a},ca=(a,s)=>la(a,oa(s)),da=(a,s)=>{var t={};for(var n in a)ue.call(a,n)&&s.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&M)for(var n of M(a))s.indexOf(n)<0&&me.call(a,n)&&(t[n]=a[n]);return t};const ua={},J=re((a,s)=>{const t=ne("CheckboxGroup",ua,a),{value:n,defaultValue:i,onChange:d,size:l,wrapperProps:r,children:c}=t,h=da(t,["value","defaultValue","onChange","size","wrapperProps","children"]),[o,y]=Pe({value:n,defaultValue:i,finalValue:[],onChange:d}),u=j=>{const f=j.currentTarget.value;y(o.includes(f)?o.filter(w=>w!==f):[...o,f])};return P.createElement(ra,{value:{value:o,onChange:u,size:l}},P.createElement(oe.Wrapper,ca(se(se({size:l,ref:s},r),h),{labelElement:"div",__staticSelector:"CheckboxGroup"}),P.createElement(Be,{role:"group"},c)))});J.classes=oe.Wrapper.classes;J.displayName="@mantine/core/CheckboxGroup";var ma={root:"m-bf2d988c",inner:"m-26062bec",input:"m-26063560",icon:"m-bf295423"};const he=ma;var ha=Object.defineProperty,xa=Object.defineProperties,pa=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,te=(a,s,t)=>s in a?ha(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,b=(a,s)=>{for(var t in s||(s={}))xe.call(s,t)&&te(a,t,s[t]);if(A)for(var t of A(s))pe.call(s,t)&&te(a,t,s[t]);return a},$=(a,s)=>xa(a,pa(s)),va=(a,s)=>{var t={};for(var n in a)xe.call(a,n)&&s.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&A)for(var n of A(a))s.indexOf(n)<0&&pe.call(a,n)&&(t[n]=a[n]);return t};const ga={labelPosition:"right",icon:Fe},ja=Ie((a,{radius:s,color:t,size:n,iconColor:i})=>({root:{"--checkbox-size":Te(n,"checkbox-size"),"--checkbox-radius":s===void 0?void 0:Oe(s),"--checkbox-color":t?Z(t,a):void 0,"--checkbox-icon-color":i?Z(i,a):void 0}})),z=re((a,s)=>{const t=ne("Checkbox",ga,a),n=t,{classNames:i,className:d,style:l,styles:r,unstyled:c,vars:h,color:o,label:y,id:u,size:j,radius:f,wrapperProps:w,children:L,checked:m,labelPosition:v,description:k,error:B,disabled:K,variant:je,indeterminate:Y,icon:fe,rootRef:be,iconColor:Ba}=n,ye=va(n,["classNames","className","style","styles","unstyled","vars","color","label","id","size","radius","wrapperProps","children","checked","labelPosition","description","error","disabled","variant","indeterminate","icon","rootRef","iconColor"]),C=na(),Ne=j||(C==null?void 0:C.size),we=fe,T=Ce({name:"Checkbox",props:t,classes:he,className:d,style:l,classNames:i,styles:r,unstyled:c,vars:h,varsResolver:ja}),{styleProps:ke,rest:H}=Se(ye),U=_e(u),Q=C?{checked:C.value.includes(H.value),onChange:C.onChange}:{};return P.createElement(Re,b(b($(b({},T("root")),{__staticSelector:"Checkbox",__stylesApiProps:t,id:U,size:Ne,labelPosition:v,label:y,description:k,error:B,disabled:K,classNames:i,styles:r,unstyled:c,"data-checked":Q.checked||m||void 0,variant:je,ref:be}),ke),w),P.createElement(X,$(b({},T("inner")),{mod:{"data-label-position":v}}),P.createElement(X,$(b(b(b({component:"input",id:U,ref:s,checked:m,disabled:K,mod:{error:!!B,indeterminate:Y}},T("input",{focusable:!0})),H),Q),{type:"checkbox"})),P.createElement(we,b({indeterminate:Y},T("icon")))))});z.classes=b(b({},he),$e);z.displayName="@mantine/core/Checkbox";z.Group=J;var fa=F("basket-off","IconBasketOff",[["path",{d:"M17 10l-2 -6",key:"svg-0"}],["path",{d:"M7 10l.75 -2.252m1.001 -3.002l.249 -.746",key:"svg-1"}],["path",{d:"M12 8h7a2 2 0 0 1 1.977 2.304c-.442 2.516 -.756 4.438 -.977 5.696m-1.01 3.003a2.997 2.997 0 0 1 -2.234 .997h-9.512a3 3 0 0 1 -2.965 -2.544l-1.255 -7.152a2 2 0 0 1 1.977 -2.304h2.999",key:"svg-2"}],["path",{d:"M12 12a2 2 0 1 0 2 2",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]]),ba=F("file-check","IconFileCheck",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 15l2 2l4 -4",key:"svg-2"}]]),ya=F("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);async function Na({data:a}){const s=new FormData;for(const[n,i]of Object.entries(a))i&&(Array.isArray(i)?i.forEach((d,l)=>{s.append(`${n}[${l}]`,d.toString())}):s.append(n,i.toString()));return(await D.post("/ar-service/order",s)).data}function wa({config:a}={}){return V(Na,{...a,onSuccess:(...s)=>{E.invalidateQueries(["carts"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function ka({params:a}){return(await D.get("/ar-service/tender",{params:a})).data.data}function Pa({config:a,params:s}={}){return Ee({...a,queryKey:["tenders",s],queryFn:()=>ka({params:s}),keepPreviousData:!0})}async function Ca({id:a,data:s}){return s.status=="rejected"&&(s.contract_value=void 0,s.delivery_cost=void 0),(await D.put(`/ar-service/tender/${a}`,s)).data}function Sa({config:a}={}){return V(Ca,{...a,onSuccess:(...s)=>{E.invalidateQueries(["tenders"]),E.invalidateQueries(["tender",s[1].id]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function _a({id:a}){return(await D.delete(`/ar-service/tender/${a}`)).data}function Ia({config:a}={}){return V(_a,{...a,onSuccess:(...s)=>{E.invalidateQueries(["tenders"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}const Ta={main:"Unit",accessories:"Accessories",preventive:"Service/Sparepart"},ve=({carts:a,selected:s,onChange:t,readOnly:n=!1})=>{const{updateCart:i}=q();async function d(r,c){if(c==0)return g.openConfirmModal({title:"Hapus Keranjang",children:e.jsx("div",{className:"text-sm",children:"Apakah Anda yakin untuk menghapus keranjang?"}),onConfirm:async()=>{await i(r,c)}});await i(r,c)}function l(r){return()=>s.includes(r)?t(s.filter(c=>c!==r)):t([...s,r])}return e.jsx("div",{className:"divide-y divide-gray-300",children:a.map(r=>{var c,h;return e.jsxs("div",{className:"bg-white w-full px-4 py-4 flex items-center",children:[e.jsxs("div",{className:"flex-grow flex items-center space-x-4",children:[!n&&e.jsx("div",{children:e.jsx(z,{checked:s.includes(r.product_id),onChange:l(r.product_id)})}),e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-md flex-shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-primary-600 text-sm",children:Ta[r.product.type]}),e.jsx("div",{className:"text-gray-900 font-semibold",children:r.product.name}),e.jsx("div",{className:"text-primary-600 text-sm",children:[(c=r.product.brand)==null?void 0:c.name,(h=r.product.category)==null?void 0:h.name].join(", ")})]})]}),e.jsx("div",{className:"flex-shrink-0",children:n?e.jsxs("div",{className:"text-sm text-primary-600",children:["Jumlah (",e.jsx("strong",{children:r.quantity}),")"]}):e.jsxs("div",{className:"flex items-center justify-center flex-shrink-0",children:[e.jsx(S,{onClick:()=>d(r.id,r.quantity-1),size:20,variant:"outline",color:"primary",radius:"100%",children:e.jsx(ya,{className:"p-px"})}),e.jsx(I,{hideControls:!0,min:0,step:1,variant:"unstyled",readOnly:!0,value:r.quantity,className:"[&_input]:w-8 [&_input]:text-center border-b border-gray-200 px-2"}),e.jsx(S,{onClick:()=>d(r.id,r.quantity+1),size:20,variant:"outline",color:"primary",radius:"100%",children:e.jsx(Ge,{className:"p-px"})})]})})]},r.id)})})},ge=({status:a})=>{switch(a){case"pending":return e.jsx(O,{variant:"light",color:"gray",children:"Menunggu"});case"approved":return e.jsx(O,{variant:"light",color:"green",children:"Diterima"});case"rejected":return e.jsx(O,{variant:"light",color:"red",children:"Ditolak"});default:return e.jsx(O,{variant:"light",color:"gray",children:"Pending"})}},Oa=({tender:a})=>e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Nama Instansi"}),e.jsx("div",{className:"font-semibold text-sm",children:a.customer.name})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Status"}),e.jsx(ge,{status:a.status})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Nama PIC"}),e.jsx("div",{className:"font-semibold text-sm",children:a.recipient_name})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Telepon PIC"}),e.jsx("div",{className:"font-semibold text-sm",children:a.recipient_phone})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Alamat PIC"}),e.jsx("div",{className:"font-semibold text-sm",children:a.recipient_address})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Tanggal Dibuat"}),e.jsx("div",{className:"font-semibold text-sm",children:ie(a.created_at).format("D MMMM YYYY HH:mm")})]})]}),e.jsxs(x,{withColumnBorders:!0,withRowBorders:!0,withTableBorder:!0,children:[e.jsx(x.Thead,{children:e.jsxs(x.Tr,{children:[e.jsx(x.Th,{children:"#"}),e.jsx(x.Th,{children:"Nama Produk"}),e.jsx(x.Th,{children:"Jenis Produk"}),e.jsx(x.Th,{children:"Jumlah"})]})}),e.jsx(x.Tbody,{children:a.details.map((s,t)=>e.jsxs(x.Tr,{children:[e.jsx(x.Td,{children:t+1}),e.jsx(x.Td,{children:s.product.name}),e.jsx(x.Td,{children:Le[s.product.type]}),e.jsx(x.Td,{children:s.quantity})]},s.id))})]})]}),Ea=({tender:a,onCancel:s,onSuccess:t})=>{const{mutateAsync:n,isLoading:i}=Sa(),d=G({initialValues:{status:"rejected",contract_value:0,delivery_cost:0}}),l=d.onSubmit(async r=>{await n({id:a.id,data:r},{onError({response:c}){d.setErrors((c==null?void 0:c.data).errors)},onSuccess(){_.show({message:"Penawaran berhasil diubah",color:"green",icon:e.jsx(Ye,{})}),t&&t()}})});return e.jsxs("form",{className:"relative",onSubmit:l,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R.Group,{...d.getInputProps("status"),label:"Status Penawaran",children:e.jsxs(Me,{mt:"xs",children:[e.jsx(R,{value:"approved",label:"Terima"}),e.jsx(R,{value:"rejected",label:"Tolak"})]})}),d.values.status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsx(I,{...d.getInputProps("contract_value"),label:"Nilai Kontrak",placeholder:"Masukan nilai kontrak",leftSection:e.jsx("span",{className:"text-xs",children:"Rp."}),decimalSeparator:",",thousandSeparator:".",hideControls:!0}),e.jsx(I,{...d.getInputProps("delivery_cost"),label:"Ongkos Kirim",placeholder:"Masukan ongkos kirim",leftSection:e.jsx("span",{className:"text-xs",children:"Rp."}),decimalSeparator:",",thousandSeparator:".",hideControls:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[e.jsx(N,{type:"submit",loading:i,children:"Konfirmasi"}),e.jsx(N,{type:"button",variant:"default",onClick:()=>{s&&s()},loading:i,children:"Batal"})]})]})},Ma={page:1,limit:10,search:""},Aa={main:"Unit",accessories:"Accessories",preventive:"Service/Sparepart"},Da=({toolbar:a,...s})=>{const[t,n]=p.useState(Ma),{data:i,isLoading:d}=Pa({params:{...t,...s}}),l=Ia();function r(o){return()=>{g.open({title:"Konfirmasi Penawaran",children:e.jsx(Ea,{tender:o,onSuccess:()=>g.closeAll(),onCancel:()=>g.closeAll()})})}}function c(o){return()=>{g.openConfirmModal({title:"Hapus Penawaran",children:e.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus Penawaran ini?"}),centered:!0,onConfirm:async()=>{await l.mutateAsync({id:o},{onSuccess:()=>{_.show({message:"Penawaran berhasil dihapus",color:"green"}),g.closeAll()},onError:()=>{_.show({message:"Penawaran gagal dihapus",color:"red"}),g.closeAll()}})}})}}function h(o){return()=>{g.open({title:"Detail Penawaran",size:"lg",children:e.jsx(Oa,{tender:o})})}}return e.jsx(Je,{title:"Tabel Data Penawaran",toolbar:a,header:["Produk","PIC","Status","Diperbaharui",""],items:i==null?void 0:i.data,onPageChange:o=>{n({...t,page:o})},loading:d,metadata:{count:(i==null?void 0:i.data.length)||10,limit:t.limit||10,page:t.page||10,total:(i==null?void 0:i.total)||10},renderItem:o=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:"text-xs text-primary-600",children:Aa[o.details[0].product.type]}),e.jsx("div",{className:"text-sm text-gray-900",children:o.details[0].product.name}),o.details.length>1&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+ ",o.details.length-1," produk lainnya"]})]}),e.jsxs("td",{children:[e.jsxs("div",{className:"text-gray-900",children:[o.recipient_name," / ",o.recipient_phone]}),e.jsx("div",{className:"text-xs text-gray-600",children:o.recipient_position})]}),e.jsx("td",{children:e.jsx(ge,{status:o.status})}),e.jsx("td",{children:ie(o.updated_at).format("D MMMM YYYY H:mm")}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{onClick:h(o),variant:"subtle",title:"Detail Penawaran",color:"gray",radius:"lg",children:e.jsx(We,{size:18})}),e.jsxs(Ae,{role:["-Customer"],children:[o.status=="pending"&&e.jsx(S,{onClick:r(o),variant:"subtle",title:"Edit Penawaran",color:"primary",radius:"lg",children:e.jsx(ba,{size:18})}),e.jsx(S,{onClick:c(o.id),variant:"subtle",title:"Hapus Penawaran",color:"red",radius:"lg",children:e.jsx(He,{size:18})})]})]})})]},o.id)})},za=({onSubmit:a,onCancel:s})=>{const t=G({initialValues:{phone:"",address:""}}),n=t.onSubmit(async()=>{a(t.values),t.reset()});return e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{...t.getInputProps("phone"),hideControls:!0,required:!0,label:"No Telepon",placeholder:"Masukan No Telepon"}),e.jsx(Ke,{...t.getInputProps("address"),required:!0,label:"Alamat",placeholder:"Masukan Alamat"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(N,{type:"submit",children:"Simpan"}),e.jsx(N,{type:"button",variant:"default",onClick:s,children:"Batal"})]})]})},Za=()=>{const{carts:a}=q(),s=le(),[t,n]=ce({key:"selected-cart",defaultValue:[]}),i=p.useMemo(()=>a.filter(({product_id:l})=>t.includes(l)).reduce((l,r)=>l+r.quantity,0),[a,t]);function d(){n(a.filter(({product_id:l})=>t.includes(l)).map(({product_id:l})=>l)),s("/cart/checkout")}return e.jsxs("main",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Keranjang"})}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 rounded-md overflow-hidden",children:[e.jsx(ve,{carts:a,selected:t,onChange:l=>n(l)}),a.length==0&&e.jsxs("div",{className:"bg-white rounded-md w-full p-12 flex flex-col items-center justify-center text-center",children:[e.jsx(fa,{size:42,stroke:1.2,className:"text-gray-600 mb-2"}),e.jsx("h3",{className:"text-lg font-bold",children:"Keranjang Kosong"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Anda belum pernah menambahkan produk kedalam keranjang"}),e.jsx(N,{component:De,to:"/product",leftSection:e.jsx(ze,{size:17}),children:"Lihat Katalog"})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-4",children:e.jsxs("div",{className:"bg-white w-full p-4 rounded-md",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h3",{className:"text-base text-gray-800 font-medium mb-2",children:"Ringkasan Belanja"}),e.jsxs("p",{className:"text-primary-600 text-sm",children:["Jumlah Barang (",i,")"]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(N,{onClick:d,fullWidth:!0,disabled:i==0,children:"Beli"})})]})})]})]})},es=()=>{const{carts:a}=q(),s=le(),{data:t,isLoading:n,isError:i}=Xe(),d=wa(),l=G({initialValues:{name:"",carts:[],address:"",kecamatan_id:void 0,phone:"",position:""}}),[r,c]=ce({key:"selected-cart",defaultValue:[]}),h=l.onSubmit(async u=>{g.openConfirmModal({title:"Checkout",children:e.jsx("div",{className:"text-sm",children:"Apakah data yang Anda masukan sudah benar?"}),onConfirm:async()=>{await d.mutateAsync({data:{...u,carts:r}},{onSuccess:()=>{_.show({message:"Penawaran berhasil dibuat",color:"green"}),c([]),s("/tender")},onError:()=>{_.show({message:"Penawaran gagal dibuat",color:"green"})}})}})});p.useEffect(()=>{t&&l.setValues({...l.values,address:t.address,kecamatan_id:t.kecamatan_id,phone:t.phone_number})},[t]);const o=p.useMemo(()=>a.filter(({product_id:u})=>r.includes(u)).reduce((u,j)=>u+j.quantity,0),[a,r]);function y(){g.open({modalId:"address-modal",title:"Ubah Alamat",centered:!0,children:e.jsx(za,{onCancel:()=>g.close("address-modal"),onSubmit:u=>{l.setFieldValue("address",u.address),l.setFieldValue("phone",u.phone),g.close("address-modal")}})})}return n||i?e.jsx("div",{className:"my-24",children:e.jsx(Ue,{})}):e.jsxs("main",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Checkout"})}),e.jsxs("form",{onSubmit:h,className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 md:col-span-8 lg:col-span-9 space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs(Ve,{p:"lg",children:[e.jsx("div",{className:"border-b border-gray-200 pb-2",children:e.jsx("h2",{className:"text-base text-gray-900 font-medium",children:"Penanggung Jawab"})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 py-2",children:[e.jsx(ee,{...l.getInputProps("name"),required:!0,label:"Nama PIC",placeholder:"Ex :  Sarimin"}),e.jsx(ee,{...l.getInputProps("position"),required:!0,label:"Jabatan",placeholder:"Ex : Direktur"}),e.jsx(I,{label:"Nomor HP",hideControls:!0,required:!0,placeholder:"Ex : 085752140606"})]}),e.jsx("div",{className:"border-b border-gray-200 pb-2 mt-4",children:e.jsx("h2",{className:"text-base text-gray-900 font-medium",children:"Alamat Pengiriman"})}),e.jsxs("div",{className:"pt-2",children:[e.jsx("div",{className:"text-primary-600 font-bold mb-1",children:t.name}),e.jsx("div",{className:"font-bold",children:l.values.phone}),e.jsx("div",{className:"text-sm text-gray-600",children:l.values.address}),e.jsx(N,{onClick:y,variant:"outline",className:"mt-4",size:"xs",children:"Ganti Alamat Lain"})]})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Pesanan"}),e.jsx("div",{className:"rounded-md overflow-hidden",children:e.jsx(ve,{carts:a.filter(({product_id:u})=>r.includes(u)),selected:r,onChange:u=>c(u),readOnly:!0})})]})]}),e.jsx("div",{className:"col-span-12 md:col-span-4 lg:col-span-3",children:e.jsxs("div",{className:"bg-white w-full p-4 rounded-md",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h3",{className:"text-base text-gray-800 font-medium mb-2",children:"Ringkasan Belanja"}),e.jsxs("p",{className:"text-primary-600 text-sm",children:["Jumlah Barang (",o,")"]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(N,{type:"submit",fullWidth:!0,disabled:r.length==0,loading:d.isLoading,children:"Penawaran"})})]})})]})]})},as=()=>{var n;const[a,s]=p.useState({status:void 0}),[t]=Qe(a,200);return e.jsxs("main",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Penawaran"})}),e.jsx("section",{className:"space-y-4 mb-4",children:e.jsx("div",{className:"grid grid-cols-12 gap-4",children:e.jsx("div",{className:"col-span-6 md:col-span-3",children:e.jsx(qe,{leftSection:e.jsx(Ze,{size:16}),placeholder:"Pilih Status",data:[{label:"Menunggu",value:"pending"},{label:"Diterima",value:"approved"},{label:"Ditolak",value:"rejected"}],value:((n=a.status)==null?void 0:n.toString())??null,onChange:i=>{s({...a,status:i||void 0})}})})})}),e.jsx("section",{className:"mb-8",children:e.jsx(Da,{...t})})]})};export{za as AddressForm,ve as CartList,rs as CartMenu,ns as CartProvider,Za as Carts,es as Checkout,Da as TenderTable,as as Tenders,q as useCart};
