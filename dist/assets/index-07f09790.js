import{r as x,l as A,o as L,R as u,p as se,t as ve,v as Ze,w as J,x as la,y as ia,z as ca,D as da,E as pa,F as Re,G as ua,i as ma,a as ge,j as n,u as et,q as tt,f as fa,g as ke,L as oe,m as me,n as z,I as ha,h as at,B as G}from"./index-1a1c1bd9.js";import{T as va,C as R}from"./Table-4a9f9311.js";import{u as ga}from"./InstallationSelect-464c174f.js";import{I as cn}from"./InstallationSelect-464c174f.js";import{I as ba}from"./IconEdit-fbfd4397.js";import{i as xa,g as Pa,b as ya,u as _a,C as T,O as Sa,I as wa,a as Oa,S as fe}from"./IconTrash-dd89f4b8.js";import{A as ja}from"./AgencySelect-e3edfc44.js";import{F as Fe}from"./FileDropzone-adbfc222.js";import{P as Ia}from"./ProductSelect-57ba2936.js";import{I as le,c as rt,a as Na,u as nt,T as D}from"./use-form-9b70dbb4.js";import{D as Ea,I as Ca}from"./DateInput-8667c763.js";import{N as $a}from"./NumberInput-366c5e09.js";import{P as Da}from"./PasswordInput-8e583b72.js";import"./clamp-73f6bef2.js";function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},he.apply(this,arguments)}function za(t,e){if(t==null)return{};var a={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(a[s]=t[s]);return a}var Ra=x.useLayoutEffect,ka=function(e){var a=x.useRef(e);return Ra(function(){a.current=e}),a},Be=function(e,a){if(typeof e=="function"){e(a);return}e.current=a},Fa=function(e,a){var r=x.useRef();return x.useCallback(function(s){e.current=s,r.current&&Be(r.current,null),r.current=a,a&&Be(a,s)},[a])},Me={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Ba=function(e){Object.keys(Me).forEach(function(a){e.style.setProperty(a,Me[a],"important")})},Te=Ba,b=null,Ae=function(e,a){var r=e.scrollHeight;return a.sizingStyle.boxSizing==="border-box"?r+a.borderSize:r-a.paddingSize};function Ma(t,e,a,r){a===void 0&&(a=1),r===void 0&&(r=1/0),b||(b=document.createElement("textarea"),b.setAttribute("tabindex","-1"),b.setAttribute("aria-hidden","true"),Te(b)),b.parentNode===null&&document.body.appendChild(b);var s=t.paddingSize,o=t.borderSize,c=t.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(g){var f=g;b.style[f]=c[f]}),Te(b),b.value=e;var i=Ae(b,t);b.value=e,i=Ae(b,t),b.value="x";var y=b.scrollHeight-s,m=y*a;l==="border-box"&&(m=m+s+o),i=Math.max(m,i);var v=y*r;return l==="border-box"&&(v=v+s+o),i=Math.min(v,i),[i,y]}var Le=function(){},Ta=function(e,a){return e.reduce(function(r,s){return r[s]=a[s],r},{})},Aa=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],La=!!document.documentElement.currentStyle,Va=function(e){var a=window.getComputedStyle(e);if(a===null)return null;var r=Ta(Aa,a),s=r.boxSizing;if(s==="")return null;La&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),c=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:c}},Ha=Va;function st(t,e,a){var r=ka(a);x.useLayoutEffect(function(){var s=function(c){return r.current(c)};if(t)return t.addEventListener(e,s),function(){return t.removeEventListener(e,s)}},[])}var Wa=function(e){st(window,"resize",e)},Ka=function(e){st(document.fonts,"loadingdone",e)},Ga=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Ya=function(e,a){var r=e.cacheMeasurements,s=e.maxRows,o=e.minRows,c=e.onChange,l=c===void 0?Le:c,i=e.onHeightChange,y=i===void 0?Le:i,m=za(e,Ga),v=m.value!==void 0,g=x.useRef(null),f=Fa(g,a),d=x.useRef(0),p=x.useRef(),_=function(){var S=g.current,N=r&&p.current?p.current:Ha(S);if(N){p.current=N;var E=Ma(N,S.value||S.placeholder||"x",o,s),j=E[0],F=E[1];d.current!==j&&(d.current=j,S.style.setProperty("height",j+"px","important"),y(j,{rowHeight:F}))}},k=function(S){v||_(),l(S)};return x.useLayoutEffect(_),Wa(_),Ka(_),x.createElement("textarea",he({},m,{onChange:k,ref:f}))},Ua=x.forwardRef(Ya),qa=Object.defineProperty,Qa=Object.defineProperties,Ja=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,Ve=(t,e,a)=>e in t?qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,He=(t,e)=>{for(var a in e||(e={}))ot.call(e,a)&&Ve(t,a,e[a]);if(X)for(var a of X(e))lt.call(e,a)&&Ve(t,a,e[a]);return t},Xa=(t,e)=>Qa(t,Ja(e)),Za=(t,e)=>{var a={};for(var r in t)ot.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&X)for(var r of X(t))e.indexOf(r)<0&&lt.call(t,r)&&(a[r]=t[r]);return a};const er={},be=A((t,e)=>{const a=L("Textarea",er,t),{autosize:r,maxRows:s,minRows:o,__staticSelector:c}=a,l=Za(a,["autosize","maxRows","minRows","__staticSelector"]),i=r?{maxRows:s,minRows:o}:{};return u.createElement(le,He(Xa(He({component:r?Ua:"textarea",ref:e},l),{__staticSelector:c||"Textarea",multiline:!0,"data-no-overflow":r&&s===void 0||void 0}),i))});be.classes=le.classes;be.displayName="@mantine/core/Textarea";function tr({data:t,value:e}){const a=e.map(s=>s.trim().toLowerCase());return t.reduce((s,o)=>(xa(o)?s.push({group:o.group,items:o.items.filter(c=>a.indexOf(c.value.toLowerCase().trim())===-1)}):a.indexOf(o.value.toLowerCase().trim())===-1&&s.push(o),s),[])}const[ar,rr]=rt(),[nr,xe]=rt();var sr={root:"m-7cda1cd6","root--default":"m-44da308b","root--contrast":"m-e3a01f8",label:"m-1e0e6180",remove:"m-ae386778",group:"m-1dcfd90b"};const ie=sr;var or=Object.defineProperty,Z=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,We=(t,e,a)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ke=(t,e)=>{for(var a in e||(e={}))it.call(e,a)&&We(t,a,e[a]);if(Z)for(var a of Z(e))ct.call(e,a)&&We(t,a,e[a]);return t},lr=(t,e)=>{var a={};for(var r in t)it.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&Z)for(var r of Z(t))e.indexOf(r)<0&&ct.call(t,r)&&(a[r]=t[r]);return a};const ir={},cr=Ze((t,{gap:e},{size:a})=>({group:{"--pg-gap":e!==void 0?J(e):J(a,"pg-gap")}})),Pe=A((t,e)=>{const a=L("PillGroup",ir,t),r=a,{classNames:s,className:o,style:c,styles:l,unstyled:i,vars:y,size:m,disabled:v}=r,g=lr(r,["classNames","className","style","styles","unstyled","vars","size","disabled"]),f=xe(),d=(f==null?void 0:f.size)||m||void 0,p=se({name:"PillGroup",classes:ie,props:a,className:o,style:c,classNames:s,styles:l,unstyled:i,vars:y,varsResolver:cr,stylesCtx:{size:d},rootSelector:"group"});return u.createElement(ar,{value:{size:d,disabled:v}},u.createElement(ve,Ke(Ke({ref:e,size:d},p("group")),g)))});Pe.classes=ie;Pe.displayName="@mantine/core/PillGroup";var dr=Object.defineProperty,pr=Object.defineProperties,ur=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,Ge=(t,e,a)=>e in t?dr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,W=(t,e)=>{for(var a in e||(e={}))dt.call(e,a)&&Ge(t,a,e[a]);if(ee)for(var a of ee(e))pt.call(e,a)&&Ge(t,a,e[a]);return t},Ye=(t,e)=>pr(t,ur(e)),mr=(t,e)=>{var a={};for(var r in t)dt.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&ee)for(var r of ee(t))e.indexOf(r)<0&&pt.call(t,r)&&(a[r]=t[r]);return a};const fr={variant:"default"},hr=Ze((t,{radius:e},{size:a})=>({root:{"--pill-fz":J(a,"pill-fz"),"--pill-height":J(a,"pill-height"),"--pill-radius":e===void 0?void 0:ia(e)}})),Y=A((t,e)=>{const a=L("Pill",fr,t),r=a,{classNames:s,className:o,style:c,styles:l,unstyled:i,vars:y,variant:m,children:v,withRemoveButton:g,onRemove:f,removeButtonProps:d,radius:p,size:_,disabled:k}=r,C=mr(r,["classNames","className","style","styles","unstyled","vars","variant","children","withRemoveButton","onRemove","removeButtonProps","radius","size","disabled"]),S=rr(),N=xe(),E=_||(S==null?void 0:S.size)||void 0,j=(N==null?void 0:N.variant)==="filled"?"contrast":m||"default",F=se({name:"Pill",classes:ie,props:a,className:o,style:c,classNames:s,styles:l,unstyled:i,vars:y,varsResolver:hr,stylesCtx:{size:E}});return u.createElement(ve,W(Ye(W({component:"span",ref:e,variant:j,size:E},F("root",{variant:j})),{mod:{"with-remove":g,disabled:k||(S==null?void 0:S.disabled)}}),C),u.createElement("span",W({},F("label")),v),g&&u.createElement(la,Ye(W(W({variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:i},d),F("remove",{className:d==null?void 0:d.className,style:d==null?void 0:d.style})),{onMouseDown:$=>{var B;$.preventDefault(),$.stopPropagation(),(B=d==null?void 0:d.onMouseDown)==null||B.call(d,$)},onClick:$=>{var B;$.stopPropagation(),f==null||f(),(B=d==null?void 0:d.onClick)==null||B.call(d,$)}})))});Y.classes=ie;Y.displayName="@mantine/core/Pill";Y.Group=Pe;var vr={field:"m-45c4369d"};const ut=vr;var gr=Object.defineProperty,br=Object.defineProperties,xr=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable,Ue=(t,e,a)=>e in t?gr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,qe=(t,e)=>{for(var a in e||(e={}))mt.call(e,a)&&Ue(t,a,e[a]);if(te)for(var a of te(e))ft.call(e,a)&&Ue(t,a,e[a]);return t},Pr=(t,e)=>br(t,xr(e)),yr=(t,e)=>{var a={};for(var r in t)mt.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&te)for(var r of te(t))e.indexOf(r)<0&&ft.call(t,r)&&(a[r]=t[r]);return a};const _r={type:"visible"},ye=A((t,e)=>{const a=L("PillsInputField",_r,t),r=a,{classNames:s,className:o,style:c,styles:l,unstyled:i,vars:y,type:m,disabled:v,id:g,pointer:f}=r,d=yr(r,["classNames","className","style","styles","unstyled","vars","type","disabled","id","pointer"]),p=xe(),_=Na(),k=se({name:"PillsInputField",classes:ut,props:a,className:o,style:c,classNames:s,styles:l,unstyled:i,rootSelector:"field"}),C=v||(p==null?void 0:p.disabled);return u.createElement(ve,Pr(qe(qe({component:"input",ref:ca(e,p==null?void 0:p.fieldRef),"data-type":m,disabled:C,mod:{disabled:C,pointer:f}},k("field")),d),{id:(_==null?void 0:_.inputId)||g,"aria-invalid":p==null?void 0:p.hasError,"aria-describedby":_==null?void 0:_.describedBy}))});ye.classes=ut;ye.displayName="@mantine/core/PillsInputField";var Sr=Object.defineProperty,wr=Object.defineProperties,Or=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,Qe=(t,e,a)=>e in t?Sr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,jr=(t,e)=>{for(var a in e||(e={}))ht.call(e,a)&&Qe(t,a,e[a]);if(ae)for(var a of ae(e))vt.call(e,a)&&Qe(t,a,e[a]);return t},Ir=(t,e)=>wr(t,Or(e)),Nr=(t,e)=>{var a={};for(var r in t)ht.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&ae)for(var r of ae(t))e.indexOf(r)<0&&vt.call(t,r)&&(a[r]=t[r]);return a};const Er={},re=A((t,e)=>{const r=L("PillsInput",Er,t),{children:s,onMouseDown:o,onClick:c,size:l,disabled:i,__staticSelector:y,error:m,variant:v}=r,g=Nr(r,["children","onMouseDown","onClick","size","disabled","__staticSelector","error","variant"]),f=x.useRef();return u.createElement(nr,{value:{fieldRef:f,size:l,disabled:i,hasError:!!m,variant:v}},u.createElement(le,Ir(jr({size:l,error:m,variant:v,component:"div",ref:e,onMouseDown:d=>{var p;d.preventDefault(),o==null||o(d),(p=f.current)==null||p.focus()},onClick:d=>{var p;d.preventDefault(),c==null||c(d),(p=f.current)==null||p.focus()}},g),{multiline:!0,disabled:i,__staticSelector:y||"PillsInput",withAria:!1}),s))});re.displayName="@mantine/core/PillsInput";re.Field=ye;var Cr=Object.defineProperty,$r=Object.defineProperties,Dr=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,Je=(t,e,a)=>e in t?Cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,O=(t,e)=>{for(var a in e||(e={}))gt.call(e,a)&&Je(t,a,e[a]);if(ne)for(var a of ne(e))bt.call(e,a)&&Je(t,a,e[a]);return t},K=(t,e)=>$r(t,Dr(e)),Xe=(t,e)=>{var a={};for(var r in t)gt.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&ne)for(var r of ne(t))e.indexOf(r)<0&&bt.call(t,r)&&(a[r]=t[r]);return a};const zr={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left"},_e=A((t,e)=>{const a=L("MultiSelect",zr,t),r=a,{classNames:s,className:o,style:c,styles:l,unstyled:i,vars:y,size:m,value:v,defaultValue:g,onChange:f,onKeyDown:d,variant:p,data:_,dropdownOpened:k,defaultDropdownOpened:C,onDropdownOpen:S,onDropdownClose:N,selectFirstOptionOnChange:E,onOptionSubmit:j,comboboxProps:F,filter:$,limit:B,withScrollArea:Pt,maxDropdownHeight:yt,searchValue:_t,defaultSearchValue:St,onSearchChange:wt,readOnly:V,disabled:M,onFocus:Se,onBlur:we,onPaste:Hr,radius:Ot,rightSection:jt,rightSectionWidth:It,rightSectionPointerEvents:Nt,rightSectionProps:Et,leftSection:Ct,leftSectionWidth:$t,leftSectionPointerEvents:Dt,leftSectionProps:zt,inputContainer:Rt,inputWrapperOrder:kt,withAsterisk:Ft,labelProps:Bt,descriptionProps:Mt,errorProps:Tt,wrapperProps:At,description:Lt,label:Vt,error:Oe,maxValues:Ht,searchable:I,nothingFoundMessage:je,withCheckIcon:Wt,checkIconPosition:Kt,hidePickedOptions:Ie,withErrorStyles:Gt,name:Yt,form:Ut,id:qt,clearable:Qt,clearButtonProps:Jt,hiddenInputProps:Xt,placeholder:Ne}=r,Zt=Xe(r,["classNames","className","style","styles","unstyled","vars","size","value","defaultValue","onChange","onKeyDown","variant","data","dropdownOpened","defaultDropdownOpened","onDropdownOpen","onDropdownClose","selectFirstOptionOnChange","onOptionSubmit","comboboxProps","filter","limit","withScrollArea","maxDropdownHeight","searchValue","defaultSearchValue","onSearchChange","readOnly","disabled","onFocus","onBlur","onPaste","radius","rightSection","rightSectionWidth","rightSectionPointerEvents","rightSectionProps","leftSection","leftSectionWidth","leftSectionPointerEvents","leftSectionProps","inputContainer","inputWrapperOrder","withAsterisk","labelProps","descriptionProps","errorProps","wrapperProps","description","label","error","maxValues","searchable","nothingFoundMessage","withCheckIcon","checkIconPosition","hidePickedOptions","withErrorStyles","name","form","id","clearable","clearButtonProps","hiddenInputProps","placeholder"]),ce=da(qt),de=Pa(_),U=ya(de),w=_a({opened:k,defaultOpened:C,onDropdownOpen:S,onDropdownClose:()=>{N==null||N(),w.resetSelectedOption()}}),{styleProps:ea,rest:ta}=pa(Zt),aa=ta,ra=Xe(aa,["type"]),[P,H]=Re({value:v,defaultValue:g,finalValue:[],onChange:f}),[q,Q]=Re({value:_t,defaultValue:St,finalValue:"",onChange:wt}),pe=se({name:"MultiSelect",classes:{},props:a,classNames:s,styles:l,unstyled:i}),{resolvedClassNames:Ee,resolvedStyles:Ce}=ua({props:a,styles:l,classNames:s}),na=h=>{d==null||d(h),h.key==="Backspace"&&q.length===0&&P.length>0&&H(P.slice(0,P.length-1))},sa=P.map((h,ue)=>{var ze;return u.createElement(Y,O({key:`${h}-${ue}`,withRemoveButton:!V,onRemove:()=>H(P.filter(oa=>h!==oa)),unstyled:i},pe("pill")),((ze=U[h])==null?void 0:ze.label)||h)});x.useEffect(()=>{E&&w.selectFirstOption()},[E,P]);const $e=Qt&&P.length>0&&!M&&!V&&u.createElement(T.ClearButton,K(O({size:m},Jt),{onClear:()=>{H([]),Q("")}})),De=tr({data:de,value:P});return u.createElement(u.Fragment,null,u.createElement(T,O({store:w,classNames:Ee,styles:Ce,unstyled:i,size:m,readOnly:V,__staticSelector:"MultiSelect",onOptionSubmit:h=>{j==null||j(h),Q(""),w.updateSelectedOptionIndex("selected"),P.includes(U[h].value)?H(P.filter(ue=>ue!==U[h].value)):P.length<Ht&&H([...P,U[h].value])}},F),u.createElement(T.DropdownTarget,null,u.createElement(re,K(O({},ea),{__staticSelector:"MultiSelect",classNames:Ee,styles:Ce,unstyled:i,size:m,className:o,style:c,variant:p,disabled:M,radius:Ot,rightSection:jt||$e||u.createElement(T.Chevron,{size:m,error:Oe,unstyled:i}),rightSectionPointerEvents:Nt||$e?"all":"none",rightSectionWidth:It,rightSectionProps:Et,leftSection:Ct,leftSectionWidth:$t,leftSectionPointerEvents:Dt,leftSectionProps:zt,inputContainer:Rt,inputWrapperOrder:kt,withAsterisk:Ft,labelProps:Bt,descriptionProps:Mt,errorProps:Tt,wrapperProps:At,description:Lt,label:Vt,error:Oe,multiline:!0,withErrorStyles:Gt,__stylesApiProps:K(O({},a),{multiline:!0}),pointer:!I,onClick:()=>I?w.openDropdown():w.toggleDropdown(),id:ce}),u.createElement(Y.Group,O({disabled:M,unstyled:i},pe("pillsList")),sa,u.createElement(T.EventsTarget,null,u.createElement(re.Field,K(O(K(O({},ra),{ref:e,id:ce,placeholder:Ne,type:!I&&!Ne?"hidden":"visible"}),pe("inputField")),{unstyled:i,onFocus:h=>{Se==null||Se(h),I&&w.openDropdown()},onBlur:h=>{we==null||we(h),w.closeDropdown(),I&&w.closeDropdown(),Q("")},onKeyDown:na,value:q,onChange:h=>{Q(h.currentTarget.value),I&&w.openDropdown(),E&&w.selectFirstOption()},disabled:M,readOnly:V||!I,pointer:!I})))))),u.createElement(Sa,{data:Ie?De:de,hidden:V||M,filter:$,search:q,limit:B,hiddenWhenEmpty:!I||!je||Ie&&De.length===0&&q.trim().length===0,withScrollArea:Pt,maxDropdownHeight:yt,filterOptions:I,value:P,checkIconPosition:Kt,withCheckIcon:Wt,nothingFoundMessage:je,unstyled:i,labelId:`${ce}-label`})),u.createElement("input",O({type:"hidden",name:Yt,value:P.join(","),form:Ut,disabled:M},Xt)))});_e.classes=O(O({},le.classes),T.classes);_e.displayName="@mantine/core/MultiSelect";async function Rr({params:t}){return(await ge.get("/ar-service/engineer",{params:t})).data.data}function kr({config:t,params:e}={}){return ma({...t,queryKey:["engineers",e],queryFn:()=>Rr({params:e}),keepPreviousData:!0})}const Fr=({...t})=>{const{data:e}=kr({params:{limit:0}}),a=x.useMemo(()=>e?e.data.map(({id:r,name:s})=>({label:s,value:r.toString()})):[],[e]);return n.jsx(_e,{...t,data:a,searchable:!0})};async function Br({data:t}){const e=new FormData;for(const[r,s]of Object.entries(t))s&&(Array.isArray(s)?s.forEach((o,c)=>{e.append(`${r}[${c}]`,o.toString())}):s instanceof Date?e.append(r,s.toJSON()):s instanceof File?e.append(r,s,s.name):e.append(r,s.toString()));return(await ge.post("/ar-service/install-base",e)).data}function xt({config:t}={}){return et(Br,{...t,onSuccess:(...e)=>{tt.invalidateQueries(["installations"]),t!=null&&t.onSuccess&&t.onSuccess(...e)}})}async function Mr({id:t}){return(await ge.delete(`/ar-service/install-base/${t}`)).data}function Tr({config:t}={}){return et(Mr,{...t,onSuccess:(...e)=>{tt.invalidateQueries(["installations"]),t!=null&&t.onSuccess&&t.onSuccess(...e)}})}const Ar={page:1,limit:10,search:""},Lr=({toolbar:t})=>{const[e,a]=x.useState(Ar),{data:r,isLoading:s}=ga({params:e}),o=Tr();function c(l){return()=>{me.openConfirmModal({title:"Hapus Install Base",children:n.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus install Base ini?"}),centered:!0,closeOnConfirm:!1,onConfirm:async()=>{await o.mutateAsync({id:l},{onSuccess:()=>{z.show({message:"Install Base berhasil dihapus",color:"green",icon:n.jsx(Oa,{})}),me.closeAll()},onError:()=>{z.show({message:"Install Base tidak bisa dihapus",color:"red",icon:n.jsx(ha,{})}),me.closeAll()}})}})}}return n.jsx(va,{title:"Tabel Data Install Base",toolbar:t,header:["Project Number","Rumah Sakit","Produk","Diperbaharui",""],items:r==null?void 0:r.data,onPageChange:l=>{a({...e,page:l})},loading:s,metadata:{count:(r==null?void 0:r.data.length)||10,limit:e.limit||10,page:e.page||10,total:(r==null?void 0:r.total)||10},renderItem:l=>n.jsxs("tr",{children:[n.jsx("td",{children:l.project_number}),n.jsx("td",{children:l.customer.name}),n.jsx("td",{children:l.product.name}),n.jsx("td",{children:fa(l.updatedAt).format("D MMMM YYYY H:mm")}),n.jsx("td",{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ke,{variant:"subtle",component:oe,to:`/installation/${l.id}`,title:"Update Install Base",color:"primary",radius:"lg",children:n.jsx(ba,{size:18})}),n.jsx(ke,{variant:"subtle",onClick:c(l.id),title:"Hapus Install Base",color:"red",radius:"lg",children:n.jsx(wa,{size:18})})]})})]},l.id)})},Vr=()=>{var o,c;const t=at(),{mutateAsync:e,isLoading:a}=xt(),r=nt({initialValues:{title:"",customer_id:void 0,engineer_ids:[],installation_date:null,note:"",product_id:void 0,project_number:"",serial_number:"",warranty_month:0}}),s=r.onSubmit(async l=>{await e({data:{...l}},{onSuccess:()=>{z.show({color:"green",message:"Install Base berhasil dibuat"}),t("/installation")},onError:({response:i})=>{r.setErrors((i==null?void 0:i.data).errors),z.show({color:"red",message:"Install Base gagal dibuat"})}})});return n.jsxs(R,{component:"form",onSubmit:s,shadow:"lg",children:[n.jsx(R.Section,{p:"lg",withBorder:!0,children:n.jsx("h2",{className:"font-semibold text-base",children:"Tambah Data Install Base"})}),n.jsxs(R.Section,{p:"lg",pt:"xs",children:[n.jsxs("div",{className:"pb-6 grid grid-cols-12 gap-x-6 gap-y-4 border-b border-gray-300",children:[n.jsx(D,{...r.getInputProps("project_number"),label:"Project Number",placeholder:"Ex : 20392",className:"col-span-12 md:col-span-3"}),n.jsx(D,{...r.getInputProps("title"),label:"Nama Kegiatan",placeholder:"Ex : Perbaikan Alat MINDRAY xxxx",className:"col-span-12 md:col-span-9"}),n.jsx(ja,{...r.getInputProps("customer_id"),label:"Instansi",placeholder:"Pilih Instansi",className:"col-span-12 md:col-span-12",nothingFoundMessage:"Data tidak ditemukan"}),n.jsx(Ia,{...r.getInputProps("product_id"),label:"Produk",placeholder:"Pilih Produk",className:"col-span-12 md:col-span-12",limit:20,nothingFoundMessage:"Data tidak ditemukan"}),n.jsx(D,{...r.getInputProps("serial_number"),label:"Serial Number",placeholder:"Ex : MU/23/09/001",className:"col-span-12 md:col-span-5"}),n.jsx(Ea,{...r.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-6 md:col-span-5",popoverProps:{withinPortal:!0},rightSection:n.jsx(Ca,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),n.jsx($a,{...r.getInputProps("warranty_month"),label:"Masa Garansi",placeholder:". . .",className:"col-span-6 md:col-span-2",hideControls:!0,rightSection:n.jsx("span",{className:"text-xs text-gray-600 pr-7",children:"/bulan"})}),n.jsx(Fr,{...r.getInputProps("engineer_ids"),label:"Teknisi",placeholder:"Pilih Teknisi",className:"col-span-12 md:col-span-12",limit:20,nothingFoundMessage:"Data tidak ditemukan"})]}),n.jsxs("div",{className:"pt-4 grid grid-cols-12 gap-x-6 gap-y-4",children:[n.jsx("div",{className:"col-span-12",children:n.jsx(Fe,{label:"File BASTB",onDrop:l=>r.setFieldValue("bastb_file",l[0]||void 0),onReject:()=>z.show({message:"File tidak sesuai",color:"red"}),maxSize:5*1024**2,maxFiles:1,error:(o=r.errors.bastb_file)==null?void 0:o.toString()})}),n.jsxs("div",{className:"col-span-12",children:[n.jsx("div",{className:"text-sm mb-1",children:"File BASTP"}),n.jsx(Fe,{label:"File BASTP",onDrop:l=>r.setFieldValue("bastp_file",l[0]||void 0),onReject:()=>z.show({message:"File tidak sesuai",color:"red"}),maxSize:5*1024**2,maxFiles:1,error:(c=r.errors.bastp_file)==null?void 0:c.toString()})]}),n.jsx(be,{...r.getInputProps("note"),label:"Catatan",placeholder:"Tambahkan Catatan. . .",className:"col-span-12 md:col-span-12"})]})]}),n.jsxs(R.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[n.jsx(G,{component:oe,to:"/installation",variant:"light",color:"gray.6",bg:"gray.2",children:"Batal"}),n.jsx(G,{type:"submit",loading:a,children:"Simpan"})]})]})},rn=()=>{const t=at(),{mutateAsync:e}=xt(),a=nt({initialValues:{title:""}}),r=a.onSubmit(async s=>{await e({data:{...s}},{onSuccess:()=>{z.show({color:"green",message:"Instansi berhasil diubah"}),t("/installation")},onError:({response:o})=>{a.setErrors((o==null?void 0:o.data).errors),z.show({color:"red",message:"Instansi gagal diubah"})}})});return n.jsxs(R,{component:"form",onSubmit:r,shadow:"lg",children:[n.jsx(R.Section,{p:"lg",withBorder:!0,children:n.jsx("h2",{className:"font-semibold text-base",children:"Edit Data Instansi"})}),n.jsxs(R.Section,{p:"lg",pt:"xs",children:[n.jsxs("div",{className:"pb-6 grid grid-cols-12 gap-x-6 gap-y-4 border-b border-gray-300",children:[n.jsx(D,{...a.getInputProps("hospital_code"),label:"Kode RS",placeholder:"Ex : 20392",className:"col-span-12 md:col-span-4"}),n.jsx(D,{...a.getInputProps("name"),label:"Nama Instansi",placeholder:"Ex : RS Umum Daerah H. Sahudin Kutacane. . .",className:"col-span-12 md:col-span-8"}),n.jsx(fe,{...a.getInputProps("sector"),label:"Sektor",placeholder:"Pilih Sektor",data:["Private","Public"],className:"col-span-12 md:col-span-4"}),n.jsx(fe,{...a.getInputProps("classes"),label:"Kelas",placeholder:"Pilih Kelas",data:["A","B","C","D","D Pratama"],className:"col-span-12 md:col-span-4"}),n.jsx(fe,{...a.getInputProps("owner"),label:"Kepemilikan",placeholder:"Pilih Kepemilikan",data:["Perorangan","Korporasi","Negara"],className:"col-span-12 md:col-span-4"})]}),n.jsxs("div",{className:"pt-4 grid grid-cols-12 gap-x-6 gap-y-4",children:[n.jsx(D,{...a.getInputProps("address"),label:"Alamat",placeholder:"Ex : Jl. Sultan Adam No. 24",className:"col-span-12 md:col-span-8"}),n.jsx(D,{...a.getInputProps("phone_number"),label:"Telepon",placeholder:"Ex : 085752140605. . .",className:"col-span-12 md:col-span-4"}),n.jsx(D,{...a.getInputProps("email"),label:"Email",placeholder:"Masukan Email",className:"col-span-12 md:col-span-6"}),n.jsx(Da,{...a.getInputProps("password"),label:"Password",placeholder:"Biarkan kosong jika tidak berubah",className:"col-span-12 md:col-span-6"})]})]}),n.jsxs(R.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[n.jsx(G,{component:oe,to:"/installation",variant:"light",color:"gray.6",bg:"gray.2",children:"Batal"}),n.jsx(G,{type:"submit",children:"Simpan"})]})]})},nn=()=>n.jsxs("main",{children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Install Base"}),n.jsx(G,{component:oe,to:"/installation/create",children:"Tambah"})]}),n.jsx("section",{className:"mb-8",children:n.jsx(Lr,{})})]}),sn=()=>n.jsxs("main",{children:[n.jsx("div",{className:"mb-4 flex items-center justify-between",children:n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Install Base"})}),n.jsx(Vr,{})]});export{sn as InstallationCreate,Vr as InstallationCreateForm,cn as InstallationSelect,Lr as InstallationTable,rn as InstallationUpdateForm,nn as Installations};
