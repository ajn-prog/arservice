import{a2 as ft,x as Ae,D as Ia,R as D,K as ta,H as Da,aC as ht,aD as pt,aE as vt,U as gt,r as w,aA as xt,O as yt,w as ra,z as bt,M as jt,c as St,a as T,u as ee,q as U,e as fe,i as Me,j as a,f as oe,t as k,n as I,B as A,L as se,b as Ne,I as Ta,p as Ie,V as Ba,P as ga,m as za,aF as Nt,v as Oa,$ as wt,g as Pt,ar as kt,a3 as Ue,a1 as Ze,as as Ge,at as Ct,au as Et,an as _t,ax as We,aG as At}from"./index-b68a47ac.js";import{u as Fa}from"./ProductSelect-9541e017.js";import{P as Cs,g as Es}from"./ProductSelect-9541e017.js";import{P as Mt,T as It}from"./index-183982de.js";import{T as De}from"./Table-2783b6cb.js";import{u as ce}from"./use-form-6bcb7ca8.js";import{I as xe,a as te,u as Te,L as La}from"./LoadingScreen-abfdcc41.js";import{a as Ua,I as Dt,T as V}from"./TextInput-9c47cdc1.js";import{I as Se}from"./IconEdit-21a9d81e.js";import{S as Ke,C as ie,d as Tt}from"./Select-8153356c.js";import{D as $a,I as Va,A as xa}from"./DateInput-dd6ee5f1.js";import{I as na}from"./IconPhoto-2e7be054.js";import{I as Bt}from"./IconEye-2478f747.js";import{N as zt}from"./NumberInput-5891121c.js";import{R as Je}from"./Radio-5da345d2.js";import{I as Ra}from"./IconPlus-e06e0bbe.js";import{P as Ot}from"./Pagination-6fe5f734.js";import{I as Be}from"./IconSearch-033dc77c.js";import{I as ya}from"./IconCategory-69fd5795.js";import{T as ke}from"./Tabs-e9382f95.js";import{I as ea}from"./IconArrowLeft-4c504f3c.js";import{g as ba,a as Ft}from"./get-base-value-a3788185.js";import"./ScrollArea-e260c59d.js";var Lt={root:"m-b6d8b162"};const qa=Lt;var Ut=Object.defineProperty,$t=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,Ka=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,ja=(e,t,n)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sa=(e,t)=>{for(var n in t||(t={}))Ka.call(t,n)&&ja(e,n,t[n]);if($e)for(var n of $e(t))Ha.call(t,n)&&ja(e,n,t[n]);return e},Rt=(e,t)=>$t(e,Vt(t)),qt=(e,t)=>{var n={};for(var s in e)Ka.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&$e)for(var s of $e(e))t.indexOf(s)<0&&Ha.call(e,s)&&(n[s]=e[s]);return n};function Kt(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Ht={inherit:!1},Qt=Da((e,{variant:t,lineClamp:n,gradient:s,size:r,color:o})=>({root:{"--text-fz":ht(r),"--text-lh":pt(r),"--text-gradient":t==="gradient"?vt(s,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?gt(o,e):void 0}})),Pe=ft((e,t)=>{const n=Ae("Text",Ht,e),s=n,{lineClamp:r,truncate:o,inline:i,inherit:l,gradient:m,span:c,__staticSelector:d,vars:u,className:f,style:p,classNames:h,styles:x,unstyled:S,variant:y,mod:v,size:P}=s,b=qt(s,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),N=Ia({name:["Text",d],props:n,classes:qa,className:f,style:p,classNames:h,styles:x,unstyled:S,vars:u,varsResolver:Qt});return D.createElement(ta,Sa(Rt(Sa({},N("root",{focusable:!0})),{ref:t,component:c?"span":"p",variant:y,mod:[{"data-truncate":Kt(o),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":l},v],size:P}),b))});Pe.classes=qa;Pe.displayName="@mantine/core/Text";var Yt=Object.defineProperty,Ve=Object.getOwnPropertySymbols,Qa=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,Na=(e,t,n)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wa=(e,t)=>{for(var n in t||(t={}))Qa.call(t,n)&&Na(e,n,t[n]);if(Ve)for(var n of Ve(t))Ya.call(t,n)&&Na(e,n,t[n]);return e},Gt=(e,t)=>{var n={};for(var s in e)Qa.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Ve)for(var s of Ve(e))t.indexOf(s)<0&&Ya.call(e,s)&&(n[s]=e[s]);return n};const Wt={multiple:!1},Ga=w.forwardRef((e,t)=>{const n=Ae("FileButton",Wt,e),{onChange:s,children:r,multiple:o,accept:i,name:l,form:m,resetRef:c,disabled:d,capture:u,inputProps:f}=n,p=Gt(n,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),h=w.useRef(),x=()=>{var v;!d&&((v=h.current)==null||v.click())},S=v=>{s(o?Array.from(v.currentTarget.files):v.currentTarget.files[0]||null)};return xt(c,()=>{h.current.value=""}),D.createElement(D.Fragment,null,r(wa({onClick:x},p)),D.createElement("input",wa({style:{display:"none"},type:"file",accept:i,multiple:o,onChange:S,ref:yt(t,h),name:l,form:m,capture:u},f)))});Ga.displayName="@mantine/core/FileButton";var Jt=Object.defineProperty,Xt=Object.defineProperties,Zt=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Ja=Object.prototype.propertyIsEnumerable,Pa=(e,t,n)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t)=>{for(var n in t||(t={}))Wa.call(t,n)&&Pa(e,n,t[n]);if(Re)for(var n of Re(t))Ja.call(t,n)&&Pa(e,n,t[n]);return e},ka=(e,t)=>Xt(e,Zt(t)),er=(e,t)=>{var n={};for(var s in e)Wa.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Re)for(var s of Re(e))t.indexOf(s)<0&&Ja.call(e,s)&&(n[s]=e[s]);return n};const ar=({value:e})=>D.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(t=>t.name).join(", "):e==null?void 0:e.name),tr={valueComponent:ar},sa=ra((e,t)=>{const n=Ae("FileInput",tr,e),s=n,{unstyled:r,vars:o,onChange:i,value:l,defaultValue:m,multiple:c,accept:d,name:u,form:f,valueComponent:p,clearable:h,clearButtonProps:x,readOnly:S,capture:y,fileInputProps:v,rightSection:P,size:b,placeholder:N}=s,C=er(s,["unstyled","vars","onChange","value","defaultValue","multiple","accept","name","form","valueComponent","clearable","clearButtonProps","readOnly","capture","fileInputProps","rightSection","size","placeholder"]),E=w.useRef(null),[M,B]=bt({value:l,defaultValue:m,onChange:i,finalValue:c?[]:null}),K=Array.isArray(M)?M.length!==0:M!==null,H=P||(h&&K&&!S?D.createElement(jt,ka(Xe({},x),{variant:"subtle",onClick:()=>B(c?[]:null),size:b,unstyled:r})):null);w.useEffect(()=>{var Q;(Array.isArray(M)&&M.length===0||M===null)&&((Q=E.current)==null||Q.call(E))},[M]);const re=p;return D.createElement(Ga,{onChange:B,multiple:c,accept:d,name:u,form:f,resetRef:E,disabled:S,capture:y,inputProps:v},Q=>D.createElement(Ua,ka(Xe(Xe({component:"button",ref:t,rightSection:H},Q),C),{__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:b}),K?D.createElement(re,{value:M}):D.createElement(Dt.Placeholder,null,N)))});sa.classes=Ua.classes;sa.displayName="@mantine/core/FileInput";const ia=sa;var rr=St("dots-circle-horizontal","IconDotsCircleHorizontal",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M8 12l0 .01",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M16 12l0 .01",key:"svg-3"}]]);async function nr({data:e}){return(await T.post("/ar-service/category",e)).data}function sr({config:e}={}){return ee(nr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function ir({params:e}){return(await T.get("/ar-service/category",{params:e})).data.data}function Xa({config:e,params:t}={}){return fe({...e,queryKey:["categories",t],queryFn:()=>ir({params:t}),keepPreviousData:!0})}async function lr({id:e}){return(await T.get(`/ar-service/category/${e}`)).data.data}function ms({config:e,id:t}){return fe({...e,queryKey:["category",t],queryFn:()=>lr({id:t})})}async function or({id:e,data:t}){return(await T.put(`/ar-service/category/${e}`,t)).data}function cr({config:e}={}){return ee(or,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),U.invalidateQueries(["category",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function ur({id:e}){return(await T.delete(`/ar-service/category/${e}`)).data}function dr({config:e}={}){return ee(ur,{...e,onSuccess:(...t)=>{U.invalidateQueries(["categories"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function mr({data:e}){return(await T.post("/ar-service/unit",e)).data}function fr({config:e}={}){return ee(mr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function hr({params:e}){return(await T.get("/ar-service/unit",{params:e})).data.data}function Za({config:e,params:t}={}){return fe({...e,queryKey:["units",t],queryFn:()=>hr({params:t}),keepPreviousData:!0})}async function pr({id:e}){return(await T.get(`/ar-service/unit/${e}`)).data.data}function fs({config:e,id:t}){return fe({...e,queryKey:["unit",t],queryFn:()=>pr({id:t})})}async function vr({id:e,data:t}){return(await T.put(`/ar-service/unit/${e}`,t)).data}function gr({config:e}={}){return ee(vr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),U.invalidateQueries(["unit",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function xr({id:e}){return(await T.delete(`/ar-service/unit/${e}`)).data}function yr({config:e}={}){return ee(xr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["units"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function br({data:e}){return(await T.post("/ar-service/brand",e)).data}function jr({config:e}={}){return ee(br,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Sr({params:e}){return(await T.get("/ar-service/brand",{params:e})).data.data}function et({config:e,params:t}={}){return fe({...e,queryKey:["brands",t],queryFn:()=>Sr({params:t}),keepPreviousData:!0})}async function Nr({id:e}){return(await T.get(`/ar-service/brand/${e}`)).data.data}function hs({config:e,id:t}){return fe({...e,queryKey:["brand",t],queryFn:()=>Nr({id:t})})}async function wr({id:e,data:t}){return(await T.put(`/ar-service/brand/${e}`,t)).data}function Pr({config:e}={}){return ee(wr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),U.invalidateQueries(["brand",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function kr({id:e}){return(await T.delete(`/ar-service/brand/${e}`)).data}function Cr({config:e}={}){return ee(kr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["brands"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}const Er={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function _r({type:e,data:t}){const n=new FormData;for(const[r,o]of Object.entries(t))o&&(Array.isArray(o)?o.forEach((i,l)=>{i instanceof File&&n.append(`${r}[${l}]`,i)}):o instanceof Date?n.append(r,Me(o).format("YYYY-MM-DD")):o instanceof File?n.append(r,o,o.name):n.append(r,o.toString()));return(await T.post(Er[e],n)).data}function la({config:e}={}){return ee(_r,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Ar({id:e}){return(await T.get(`/ar-service/product/${e}`)).data.data}function at({config:e,id:t}){return fe({...e,queryKey:["product",t],queryFn:()=>Ar({id:t})})}const Mr={main:"/ar-service/product/unit",accessories:"/ar-service/product/accessories",preventive:"/ar-service/product/preventive"};async function Ir({id:e,type:t,data:n}){const s=new FormData;for(const[o,i]of Object.entries(n))i&&(Array.isArray(i)?i.forEach((l,m)=>{l instanceof File&&s.append(`${o}[${m}]`,l)}):i instanceof Date?s.append(o,Me(i).format("YYYY-MM-DD")):i instanceof File?s.append(o,i,i.name):s.append(o,i.toString()));return(await T.post(`${Mr[t]}/${e}`,s)).data}function oa({config:e}={}){return ee(Ir,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),U.invalidateQueries(["product"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Dr({id:e}){return(await T.delete(`/ar-service/product/${e}`)).data}function ca({config:e}={}){return ee(Dr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["products"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Tr({data:e}){return(await T.post("/ar-service/modality",e)).data}function Br({config:e}={}){return ee(Tr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function zr({params:e}){return(await T.get("/ar-service/modality",{params:e})).data.data}function tt({config:e,params:t}={}){return fe({...e,queryKey:["modalities",t],queryFn:()=>zr({params:t}),keepPreviousData:!0})}async function Or({id:e}){return(await T.get(`/ar-service/modality/${e}`)).data.data}function ps({config:e,id:t}){return fe({...e,queryKey:["modality",t],queryFn:()=>Or({id:t})})}async function Fr({id:e,data:t}){return(await T.put(`/ar-service/modality/${e}`,t)).data}function Lr({config:e}={}){return ee(Fr,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),U.invalidateQueries(["modality",t[1].id]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}async function Ur({id:e}){return(await T.delete(`/ar-service/modality/${e}`)).data}function $r({config:e}={}){return ee(Ur,{...e,onSuccess:(...t)=>{U.invalidateQueries(["modalities"]),e!=null&&e.onSuccess&&e.onSuccess(...t)}})}const Vr={page:1,limit:5,search:""},Rr=({toolbar:e,...t})=>{const[n,s]=w.useState(Vr),{data:r,isLoading:o}=Xa({params:{...n,...t}}),i=dr();function l(c){return()=>{k.openConfirmModal({title:"Hapus Kategori",children:a.jsx(Pe,{size:"sm",children:"Apakah anda yakin untuk menghapus kategori ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Kategori berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Kategori",children:a.jsx(Kr,{category:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(De,{title:"Tabel Data Kategori",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Kategori",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Se,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Kategori",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},qr=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=sr(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Kategori berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Kr=({category:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=cr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Kategori berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Hr={page:1,limit:5,search:""},Qr=({toolbar:e,...t})=>{const[n,s]=w.useState(Hr),{data:r,isLoading:o}=et({params:{...n,...t}}),i=Cr();function l(c){return()=>{k.openConfirmModal({title:"Hapus Brand",children:a.jsx(Pe,{size:"sm",children:"Apakah anda yakin untuk menghapus Brand ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Brand berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Brand",children:a.jsx(Gr,{brand:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(De,{title:"Tabel Data Brand",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Brand",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Se,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Brand",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},Yr=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=jr(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Brand berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Gr=({brand:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=Pr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Brand berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Wr={page:1,limit:5,search:""},Jr=({toolbar:e,...t})=>{const[n,s]=w.useState(Wr),{data:r,isLoading:o}=Za({params:{...n,...t}}),i=yr();function l(c){return()=>{k.openConfirmModal({title:"Hapus Unit",children:a.jsx(Pe,{size:"sm",children:"Apakah anda yakin untuk menghapus Unit ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Unit berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Unit",children:a.jsx(Zr,{unit:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(De,{title:"Tabel Data Satuan",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Satuan",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Se,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Satuan",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},Xr=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=fr(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Unit berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Zr=({unit:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=gr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Unit berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},Ca={page:1,limit:10,search:""},en={main:"Unit",accessories:"Accessories",preventive:"Service/Sparepart"},vs=({toolbar:e,...t})=>{const[n,s]=w.useState(Ca),{data:r,isLoading:o}=Fa({params:{...n,...t}}),i=ca();function l(m){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:m},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green",icon:a.jsx(te,{})}),s(Ca),k.closeAll()},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red",icon:a.jsx(Ta,{})}),k.closeAll()}})}})}}return a.jsx(De,{title:"Tabel Data Produk",toolbar:e,header:["Produk","Tipe","Kategori","Brand","Modified At",""],items:r==null?void 0:r.data,onPageChange:m=>{s({...n,page:m})},loading:o,metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:m=>{var c,d;return a.jsxs("tr",{children:[a.jsx("td",{children:m.name}),a.jsx("td",{children:en[m.type]}),a.jsx("td",{children:((c=m.category)==null?void 0:c.name)??"-"}),a.jsx("td",{children:((d=m.brand)==null?void 0:d.name)??"-"}),a.jsx("td",{children:Me(m.updated_at).format("D MMMM YYYY H:mm")}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{component:se,to:`/product/${m.id}`,variant:"subtle",title:"Detail Produk",color:"gray",radius:"lg",children:a.jsx(rr,{size:18})}),a.jsxs(Ne,{role:["-Customer"],children:[a.jsx(oe,{variant:"subtle",component:se,to:`/product/${m.id}/update`,title:"Update Produk",color:"primary",radius:"lg",children:a.jsx(Se,{size:18})}),a.jsx(oe,{variant:"subtle",onClick:l(m.id),title:"Hapus Produk",color:"red",radius:"lg",children:a.jsx(xe,{size:18})})]})]})})]},m.id)}})},ua=({...e})=>{const[t,n]=w.useState(""),{data:s}=et({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(Ke,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},He=({...e})=>{const[t,n]=w.useState(""),{data:s}=Xa({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(Ke,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},an=({...e})=>{const[t,n]=w.useState(""),{data:s}=tt({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(Ke,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},rt=({...e})=>{const[t,n]=w.useState(""),{data:s}=Za({params:{limit:5e5}}),r=w.useMemo(()=>s?s.data.map(({id:o,name:i})=>({label:i,value:o.toString()})):[],[s]);return a.jsx(Ke,{...e,data:r,searchable:!0,searchValue:t,onSearchChange:n})},nt=({product:e})=>{const t=Ie(),n=la(),s=oa(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Me(e.date_entry,"YYYY-MM-DD").toDate():"",modality_product_id:(e==null?void 0:e.modality_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"main",unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"main",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"main",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:[e?"Edit":"Tambah"," Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Unit)"})]})}),a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx(V,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode Produk",className:"col-span-12 md:col-span-2"}),a.jsx(V,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx($a,{...r.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:a.jsx(Va,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),a.jsx(ua,{...r.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(He,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(rt,{...r.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(an,{...r.getInputProps("modality_product_id"),label:"Modality",placeholder:"Pilih Modality",className:"col-span-12 md:col-span-3",nothingFoundMessage:"Data tidak ditemukan"}),a.jsx(ia,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(na,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(A,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(A,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},tn=({modality:e,onSuccess:t,onCancel:n})=>{const{mutateAsync:s}=Lr(),r=ce({initialValues:{name:e.name}}),o=r.onSubmit(async i=>{await s({id:e.id,data:i},{onError({response:l}){r.setErrors((l==null?void 0:l.data).errors)},onSuccess({data:l}){I.show({message:"Modality berhasil diubah",color:"green",icon:a.jsx(te,{})}),t&&t(l)}})});return a.jsxs("form",{className:"relative",onSubmit:o,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...r.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{n&&n()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},rn={page:1,limit:5,search:"",sort:"desc",sort_by:"created_at"},nn=({toolbar:e,...t})=>{const[n,s]=w.useState(rn),{data:r,isLoading:o}=tt({params:{...n,...t}}),i=$r();function l(c){return()=>{k.openConfirmModal({title:"Hapus Modality",children:a.jsx(Pe,{size:"sm",children:"Apakah anda yakin untuk menghapus modality ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Modality berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Update Modality",children:a.jsx(tn,{modality:c,onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}}return a.jsx(De,{title:"Tabel Data Modality",toolbar:e,loading:o,header:["Nama",""],items:r==null?void 0:r.data,onPageChange:c=>{s({...n,page:c})},metadata:{count:(r==null?void 0:r.data.length)||10,limit:n.limit||10,page:n.page||10,total:(r==null?void 0:r.total)||10},renderItem:c=>a.jsxs("tr",{children:[a.jsx("td",{children:c.name}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{variant:"subtle",title:"Update Modality",color:"primary",radius:"lg",onClick:m(c),children:a.jsx(Se,{size:18})}),a.jsx(oe,{variant:"subtle",title:"Hapus Modality",color:"red",radius:"lg",onClick:l(c.id),children:a.jsx(xe,{size:18})})]})})]},c.id)})},sn=({onCancel:e,onSuccess:t})=>{const{mutateAsync:n}=Br(),s=ce({initialValues:{name:""}}),r=s.onSubmit(async o=>{await n({data:o},{onError({response:i}){s.setErrors((i==null?void 0:i.data).errors)},onSuccess({data:i}){I.show({message:"Modality berhasil dibuat",color:"green",icon:a.jsx(te,{})}),t&&t(i)}})});return a.jsxs("form",{className:"relative",onSubmit:r,children:[a.jsx("div",{className:"space-y-2",children:a.jsx(V,{...s.getInputProps("name"),label:"Nama",placeholder:"Masukan Nama",required:!0})}),a.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[a.jsx(A,{type:"button",variant:"default",onClick:()=>{e&&e()},children:"Batal"}),a.jsx(A,{type:"submit",children:"Simpan"})]})]})},st=({files:e,onChange:t})=>{const[n,s]=w.useState([]);w.useEffect(()=>{const i=e.map(l=>new Promise((m,c)=>{if(typeof l=="string")return m(l);const d=new FileReader;d.onload=u=>{var f;m((f=u.target)==null?void 0:f.result)},d.onerror=u=>{c(u)},d.readAsDataURL(l)}));Promise.all(i).then(l=>{s(l)})},[e]);function r(i){return()=>{k.open({title:"Detail",children:a.jsx("img",{src:i,alt:""}),size:"xl"})}}function o(i){return()=>{t&&t(e.filter((l,m)=>i!=m))}}return a.jsx(a.Fragment,{children:n.map((i,l)=>a.jsxs("div",{className:"bg-gray-200 rounded w-full h-44 relative overflow-hidden [&>div]:hover:block",children:[a.jsx("img",{src:i,loading:"lazy",alt:"",className:"w-full h-full object-cover object-center"}),a.jsx("div",{className:"absolute z-10 bg-black hidden transition-all bg-opacity-20 w-full h-full inset-0 p-2",children:a.jsxs("div",{className:"flex items-end justify-end h-full",children:[a.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full",onClick:r(i),type:"button",children:a.jsx(Bt,{className:"w-5 h-5"})}),a.jsx("button",{className:"bg-white hover:bg-gray-100 p-1 rounded-full ml-2",children:a.jsx(xe,{className:"w-5 h-5 text-red-700",onClick:o(l),type:"button"})})]})})]},`picture_${l}`))})};async function it(e){const n=await(await fetch(e)).blob(),s=e.split("/").pop()||"image";return new File([n],s,{type:n.type})}const lt=({product:e})=>{const t=Ie(),n=la(),s=oa(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",brand_id:(e==null?void 0:e.brand_id.toString())??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",date_entry:e!=null&&e.date_entry?Me(e.date_entry).toDate():"",product_code:(e==null?void 0:e.product_code)??"",type:"accessories",images:[],unit_product_id:(e==null?void 0:e.unit_product_id.toString())??"",is_consumable:e!=null&&e.is_consumable?"1":"0",price:e!=null&&e.price?e==null?void 0:e.price:"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"accessories",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"accessories",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return w.useEffect(()=>{if(!(e!=null&&e.images)||e.images.length==0)return;const i=e.images.map(async({image:l})=>await it(l));Promise.all(i).then(l=>{r.setFieldValue("images",l)}).catch(l=>{console.error(l)})},[e==null?void 0:e.images]),a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:["Edit Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Accessory)"})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,children:[a.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[a.jsx(V,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),a.jsx(V,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx($a,{...r.getInputProps("date_entry"),label:"Tanggal Masuk",placeholder:"Pilih Tanggal",className:"col-span-12 md:col-span-3",popoverProps:{withinPortal:!0},rightSection:a.jsx(Va,{size:16,color:"gray"}),valueFormat:"D MMMM YYYY"}),a.jsx(ua,{...r.getInputProps("brand_id"),label:"Brand",placeholder:"Pilih Brand",className:"col-span-12 md:col-span-3"}),a.jsx(He,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),a.jsx(rt,{...r.getInputProps("unit_product_id"),label:"Satuan",placeholder:"Pilih Satuan",className:"col-span-12 md:col-span-3"}),a.jsx(zt,{...r.getInputProps("price"),label:"Harga",placeholder:"Masukan Harga",leftSection:a.jsx("span",{className:"text-xs",children:"Rp."}),className:"col-span-12 md:col-span-6"}),a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"text-sm mb-2",children:"Status"}),a.jsx(Je.Group,{...r.getInputProps("is_consumable"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Je,{label:"Consumable",value:"1"}),a.jsx(Je,{label:"Unconsumable",value:"0"})]})})]}),a.jsx(ia,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(na,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]}),a.jsxs("section",{className:"mt-6",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[a.jsx(Ra,{className:"text-gray-600 w-10 h-10"}),a.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&r.setFieldValue("images",[...r.values.images,...i.target.files])}})]}),a.jsx(st,{files:r.values.images,onChange:i=>r.setFieldValue("images",i)})]})]})]}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(A,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(A,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},ln=({...e})=>{const[t,n]=w.useState({page:1,limit:8,search:"",sort:"desc",sort_by:"created_at"}),{data:s,isLoading:r,isError:o,isFetching:i}=Fa({params:{...t,...e}}),l=ca(),{addProduct:m}=Ba();function c(d){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await l.mutateAsync({id:d},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green"}),n({...t,page:1}),k.closeAll()},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red"}),k.closeAll()}})}})}}return r||o||i?a.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array(4).fill(0).map((d,u)=>a.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[a.jsx("div",{className:"w-full aspect-video bg-gray-200 animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-5 w-20 bg-gray-200 animate-pulse rounded-lg mt-1 mb-2"}),a.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-full rounded-md mb-2"}),a.jsx("div",{className:"bg-gray-200 animate-pulse h-5 w-1/2 rounded-md mb-2"}),a.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded-md animate-pulse"}),a.jsx("div",{className:"space-y-2 mt-2",children:a.jsx("div",{className:"bg-gray-200 w-full h-7 rounded-md"})})]})]},`skp_${u}`))}):a.jsxs("div",{children:[a.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.data.map(d=>a.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden",children:[a.jsx(se,{to:`/product/${d.id}`,children:a.jsxs("div",{className:"w-full aspect-video bg-gray-200 relative",children:[a.jsx("div",{className:"z-20 absolute top-4 left-4",children:a.jsx(ga,{size:"xs",color:"gray",children:Mt[d.type]})}),d.thumbnail&&a.jsx("img",{src:d.thumbnail,alt:"",className:"absolute w-full h-full inset-0 object-cover object-center"})]})}),a.jsxs("div",{className:"p-4",children:[d.category&&a.jsx(ga,{className:"mb-2",children:d.category.name}),a.jsx(se,{to:`/product/${d.id}`,children:a.jsx("h2",{className:"line-clamp-2 text-base font-bold mb-1 hover:underline",children:d.name})}),d.brand&&a.jsx("div",{className:"text-sm text-gray-600",children:d.brand.name}),a.jsx(Ne,{role:["-Customer"],children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[a.jsx(A,{component:se,to:`/product/${d.id}/update`,variant:"light",leftSection:a.jsx(Se,{size:16}),fullWidth:!0,size:"xs",children:"Edit"}),a.jsx(A,{color:"red",variant:"light",leftSection:a.jsx(xe,{size:16}),fullWidth:!0,size:"xs",onClick:c(d.id),children:"Hapus"})]})}),a.jsx(Ne,{role:["Customer"],children:a.jsx("div",{className:"space-y-2 mt-2",children:a.jsx(A,{fullWidth:!0,size:"xs",variant:"outline",leftSection:a.jsx(za,{size:14}),onClick:()=>m(d.id),children:"Tambah Keranjang"})})})]})]},d.id))}),a.jsx("div",{className:"my-6",children:a.jsx(Ot,{total:s.last_page,value:s.current_page,onChange:d=>n({...t,page:d}),withEdges:!0})})]})},ot=({product:e})=>{const t=Ie(),n=la(),s=oa(),r=ce({initialValues:{name:(e==null?void 0:e.name)??"",category_product_id:(e==null?void 0:e.category_product_id.toString())??"",product_code:(e==null?void 0:e.product_code)??"",type:"preventive",images:[],description:(e==null?void 0:e.description)??"",thumbnail:void 0}}),o=r.onSubmit(async i=>{e?await s.mutateAsync({id:e.id,type:"preventive",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil diubah"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal diubah"})}}):await n.mutateAsync({type:"preventive",data:{...i}},{onSuccess:()=>{I.show({color:"green",message:"Produk berhasil dibuat"}),t("/product")},onError:({response:l})=>{r.setErrors((l==null?void 0:l.data).errors),I.show({color:"red",message:"Produk gagal dibuat"})}})});return w.useEffect(()=>{if(!(e!=null&&e.images)||e.images.length==0)return;const i=e.images.map(async({image:l})=>await it(l));Promise.all(i).then(l=>{r.setFieldValue("images",l)}).catch(l=>{console.error(l)})},[e==null?void 0:e.images]),a.jsxs(ie,{component:"form",onSubmit:o,shadow:"lg",children:[a.jsx(ie.Section,{p:"lg",withBorder:!0,children:a.jsxs("h2",{className:"font-semibold text-base",children:["Edit Data Produk ",a.jsx("span",{className:"text-primary-600",children:"(Service dan Sparespart)"})]})}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,children:[a.jsxs("div",{className:"grid grid-cols-12 gap-x-6 gap-y-4 mb-6",children:[a.jsx(V,{...r.getInputProps("product_code"),label:"Kode Produk",placeholder:"Masukan Kode",className:"col-span-12 md:col-span-2"}),a.jsx(V,{...r.getInputProps("name"),label:"Nama Produk",placeholder:"Masukan Nama Produk",className:"col-span-12 md:col-span-7"}),a.jsx(He,{...r.getInputProps("category_product_id"),label:"Kategori",placeholder:"Pilih Kategori",className:"col-span-12 md:col-span-3"}),a.jsx(It,{...r.getInputProps("description"),label:"Detail",placeholder:"Masukan Detail",className:"col-span-12"}),a.jsx(ia,{...r.getInputProps("thumbnail"),label:"Thumbnail",placeholder:"Pilih Thumbnail",className:"col-span-12",multiple:!1,accept:"image/*",leftSection:a.jsx(na,{size:16}),value:r.values.thumbnail,onChange:i=>{i&&r.setFieldValue("thumbnail",i)}})]}),a.jsxs("section",{className:"mt-6",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Foto"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{htmlFor:"file",className:"bg-gray-200 hover:bg-gray-300 transition rounded w-full h-44 relative flex items-center justify-center cursor-pointer",children:[a.jsx(Ra,{className:"text-gray-600 w-10 h-10"}),a.jsx("input",{id:"file",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:i=>{i.target.files&&r.setFieldValue("images",[...r.values.images,...i.target.files])}})]}),a.jsx(st,{files:r.values.images,onChange:i=>r.setFieldValue("images",i)})]})]})]}),a.jsxs(ie.Section,{p:"lg",withBorder:!0,className:"flex justify-end items-center space-x-4",children:[a.jsx(A,{type:"submit",loading:n.isLoading||s.isLoading,children:"Simpan"}),a.jsx(A,{component:se,to:"/product",variant:"light",color:"gray.6",bg:"gray.2",disabled:n.isLoading||s.isLoading,children:"Batal"})]})]})},gs=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Te(e,200);function s(){k.open({title:"Tambah Kategori",children:a.jsx(qr,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Kategori"}),a.jsx(A,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx(V,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Rr,{...n})})]})},xs=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Te(e,200);function s(){k.open({title:"Tambah Brand",children:a.jsx(Yr,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Brand"}),a.jsx(A,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx(V,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Qr,{...n})})]})},ys=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Te(e,200);function s(){k.open({title:"Tambah Unit",children:a.jsx(Xr,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Satuan"}),a.jsx(A,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx(V,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(Jr,{...n})})]})},bs=()=>{const[e,t]=w.useState({search:"",limit:10}),[n]=Te(e,200);function s(){k.open({title:"Tambah Modality",children:a.jsx(sn,{onSuccess:()=>k.closeAll(),onCancel:()=>k.closeAll()})})}return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Modality"}),a.jsx(A,{onClick:s,children:"Tambah"})]}),a.jsx("section",{className:"space-y-4 mb-4",children:a.jsx("div",{className:"space-x-4 flex items-center",children:a.jsx("div",{className:"max-w-xs w-full",children:a.jsx(V,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:r=>t({...e,search:r.target.value})})})})}),a.jsx("section",{className:"mb-8",children:a.jsx(nn,{...n})})]})},js=()=>{var o,i;const[e,t]=w.useState({search:"",limit:10,category:void 0,brand:void 0,type:"main"}),[n]=Te(e,200),[s,r]=w.useState(!1);return a.jsxs("main",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"}),a.jsx(Ne,{role:["-Customer"],children:a.jsx(A,{onClick:()=>r(!0),children:"Tambah"})})]}),a.jsxs("section",{className:"space-y-4 mb-4",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 md:col-span-6 lg:col-span-3",children:a.jsx(V,{leftSection:a.jsx(Be,{size:16}),placeholder:"Cari berdasarkan nama",value:e.search,onChange:l=>t({...e,search:l.target.value})})}),a.jsx("div",{className:"col-span-6 md:col-span-3 lg:col-span-2",children:a.jsx(He,{leftSection:a.jsx(ya,{size:16}),placeholder:"Pilih Kategori",value:((o=e.category)==null?void 0:o.toString())??null,onChange:l=>{t({...e,category:l||void 0})}})}),a.jsx("div",{className:"col-span-6 md:col-span-3 lg:col-span-2",children:a.jsx(ua,{leftSection:a.jsx(ya,{size:16}),placeholder:"Pilih Brand",value:((i=e.brand)==null?void 0:i.toString())??null,onChange:l=>{t({...e,brand:l||void 0})}})})]}),a.jsx("div",{children:a.jsx(ke,{variant:"pills",radius:"lg",value:e.type,onChange:l=>{l&&t({...e,type:l})},children:a.jsxs(ke.List,{children:[a.jsx(ke.Tab,{value:"main",children:"Unit"}),a.jsx(ke.Tab,{value:"accessories",children:"Accessories"}),a.jsx(ke.Tab,{value:"preventive",children:"Service/Sparepart"})]})})})]}),a.jsx("section",{className:"mb-8",children:a.jsx(ln,{...n})}),a.jsx(Nt,{title:"Pilih Jenis Produk",centered:!0,opened:s,onClose:()=>r(!1),children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsx(se,{to:"/product/create/main",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Unit"}),a.jsx(se,{to:"/product/create/accessories",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Accessories"}),a.jsx(se,{to:"/product/create/preventive",className:"bg-primary-50 hover:bg-primary-100 active:translate-y-px transition-all border border-primary-500 text-primary-600 p-4 rounded-md text-center flex items-center justify-center",children:"Service / Sparepart"})]})})]})},Ss=({type:e})=>{function t(){switch(e){case"main":return a.jsx(nt,{});case"accessories":return a.jsx(lt,{});case"preventive":return a.jsx(ot,{});default:return null}}return a.jsxs("main",{children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),t()]})},Ns=()=>{const{id:e}=Oa(),{data:t,isLoading:n,isError:s}=at({id:e}),r=Ie();function o(i){switch(i.type){case"main":return a.jsx(nt,{product:i});case"accessories":return a.jsx(lt,{product:i});case"preventive":return a.jsx(ot,{product:i});default:return null}}return n?a.jsx("div",{className:"mt-48",children:a.jsx(La,{})}):s?a.jsxs("div",{className:"mt-48 text-center",children:[a.jsx("h1",{className:"text-lg font-bold mb-2",children:"Produk tidak ditemukan"}),a.jsx(A,{onClick:()=>r(-1),leftSection:a.jsx(ea,{size:14}),children:"Kembali"})]}):a.jsxs("main",{children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Data Produk"})}),o(t)]})};function on(e,t,n,s,r){return s+(r-s)*((e-t)/(n-t))}function da(e){return typeof e=="number"}function Ea(e){return typeof e=="string"}function aa(e){return Object.prototype.toString.call(e)==="[object Object]"}function cn(e){return Array.isArray(e)}function _a(e){return aa(e)||cn(e)}function O(e){return Math.abs(e)}function ma(e){return e?e/O(e):0}function Ce(e,t){return O(e-t)}function un(e,t){if(e===0||t===0||O(e)<=O(t))return 0;var n=Ce(O(e),O(t));return O(n/e)}function dn(e){var t=Math.pow(10,e);return function(n){return Math.round(n*t)/t}}function Ee(e){return be(e).map(Number)}function me(e){return e[Qe(e)]}function Qe(e){return Math.max(0,e.length-1)}function be(e){return Object.keys(e)}function ct(e,t){return[e,t].reduce(function(n,s){return be(s).forEach(function(r){var o=n[r],i=s[r],l=aa(o)&&aa(i);n[r]=l?ct(o,i):i}),n},{})}function ut(e,t){var n=be(e),s=be(t);return n.length!==s.length?!1:n.every(function(r){var o=e[r],i=t[r];return typeof o=="function"?"".concat(o)==="".concat(i):!_a(o)||!_a(i)?o===i:ut(o,i)})}function mn(e,t){var n={start:s,center:r,end:o};function s(){return 0}function r(c){return o(c)/2}function o(c){return t-c}function i(){return t*Number(e)}function l(c){return da(e)?i():n[e](c)}var m={measure:l};return m}function fn(e){var t=0;function n(i,l){return function(){i===!!t&&l()}}function s(){t=window.requestAnimationFrame(e)}function r(){window.cancelAnimationFrame(t),t=0}var o={proceed:n(!0,s),start:n(!1,s),stop:n(!0,r)};return o}function hn(e,t){var n=e==="y"?"y":"x",s=e==="y"?"x":"y",r=l(),o=m();function i(d){var u=d.width,f=d.height;return n==="x"?u:f}function l(){return n==="y"?"top":t==="rtl"?"right":"left"}function m(){return n==="y"?"bottom":t==="rtl"?"left":"right"}var c={scroll:n,cross:s,startEdge:r,endEdge:o,measureSize:i};return c}function we(e,t){var n=O(e-t);function s(c){return c<e}function r(c){return c>t}function o(c){return s(c)||r(c)}function i(c){return o(c)?s(c)?e:t:c}function l(c){return n?c-n*Math.ceil((c-t)/n):c}var m={length:n,max:t,min:e,constrain:i,reachedAny:o,reachedMax:r,reachedMin:s,removeOffset:l};return m}function dt(e,t,n){var s=we(0,e),r=s.min,o=s.constrain,i=e+1,l=m(t);function m(h){return n?O((i+h)%i):o(h)}function c(){return l}function d(h){return l=m(h),p}function u(h){return d(c()+h)}function f(){return dt(e,c(),n)}var p={add:u,clone:f,get:c,set:d,min:r,max:e};return p}function pn(e){var t=e==="rtl"?-1:1;function n(r){return r*t}var s={apply:n};return s}function qe(){var e=[];function t(r,o,i,l){return l===void 0&&(l={passive:!0}),r.addEventListener(o,i,l),e.push(function(){return r.removeEventListener(o,i,l)}),s}function n(){return e=e.filter(function(r){return r()}),s}var s={add:t,removeAll:n};return s}function ge(e){var t=e;function n(){return t}function s(u){return t=c(u),d}function r(u){return t+=c(u),d}function o(u){return t-=c(u),d}function i(u){return t*=u,d}function l(u){return t/=u,d}function m(){return t!==0&&l(t),d}function c(u){return da(u)?u:u.get()}var d={add:r,divide:l,get:n,multiply:i,normalize:m,set:s,subtract:o};return d}function vn(e,t,n,s,r,o,i,l,m,c,d,u,f,p,h,x){var S=e.cross,y=["INPUT","SELECT","TEXTAREA"],v={passive:!1},P=ge(0),b=qe(),N=qe(),C=f.measure(20),E={mouse:300,touch:400},M={mouse:500,touch:600},B=h?5:16,K=1,H=0,re=0,Q=!1,ne=!1,W=!1,F=!1;function ue(){var j=n;b.add(j,"dragstart",function(L){return L.preventDefault()},v).add(j,"touchmove",function(){},v).add(j,"touchend",function(){}).add(j,"touchstart",pe).add(j,"mousedown",pe).add(j,"touchcancel",ae).add(j,"contextmenu",ae).add(j,"click",Y,!0)}function R(){var j=F?document:n;N.add(j,"touchmove",q,v).add(j,"touchend",ae).add(j,"mousemove",q,v).add(j,"mouseup",ae)}function X(){b.removeAll(),N.removeAll()}function le(j){var L=j.nodeName||"";return y.indexOf(L)>-1}function he(){var j=h?M:E,L=F?"mouse":"touch";return j[L]}function ye(j,L){var Z=d.clone().add(ma(j)*-1),z=Z.get()===d.min||Z.get()===d.max,G=c.byDistance(j,!h).distance;return h||O(j)<C?G:!p&&z?G*.4:x&&L?G*.5:c.byIndex(Z.get(),0).distance}function pe(j){if(F=!r.isTouchEvent(j),!(F&&j.button!==0)&&!le(j.target)){var L=Ce(s.get(),o.get())>=2,Z=F||!L;Q=!0,r.pointerDown(j),P.set(s),s.set(o),m.useBaseMass().useSpeed(80),R(),H=r.readPoint(j),re=r.readPoint(j,S),u.emit("pointerDown"),Z&&(W=!1)}}function q(j){if(!ne&&!F){if(!j.cancelable)return ae(j);var L=r.readPoint(j),Z=r.readPoint(j,S),z=Ce(L,H),G=Ce(Z,re);if(ne=z>G,!ne&&!W)return ae(j)}var ve=r.pointerMove(j);!W&&ve&&(W=!0),i.start(),s.add(t.apply(ve)),j.preventDefault()}function ae(j){var L=c.byDistance(0,!1),Z=L.index!==d.get(),z=r.pointerUp(j)*he(),G=ye(t.apply(z),Z),ve=un(z,G),ze=Ce(s.get(),P.get())>=.5,Oe=Z&&ve>.75,Fe=O(z)<C,Le=Oe?10:B,Ye=Oe?K+2.5*ve:K;ze&&!F&&(W=!0),ne=!1,Q=!1,N.removeAll(),m.useSpeed(Fe?9:Le).useMass(Ye),l.distance(G,!h),F=!1,u.emit("pointerUp")}function Y(j){W&&(j.stopPropagation(),j.preventDefault())}function _(){return!W}function g(){return Q}var $={addActivationEvents:ue,clickAllowed:_,pointerDown:g,removeAllEvents:X};return $}function gn(e){var t=170,n,s;function r(u){return typeof TouchEvent<"u"&&u instanceof TouchEvent}function o(u){return u.timeStamp}function i(u,f){var p=f||e.scroll,h="client".concat(p==="x"?"X":"Y");return(r(u)?u.touches[0]:u)[h]}function l(u){return n=u,s=u,i(u)}function m(u){var f=i(u)-i(s),p=o(u)-o(n)>t;return s=u,p&&(n=u),f}function c(u){if(!n||!s)return 0;var f=i(s)-i(n),p=o(u)-o(n),h=o(u)-o(s)>t,x=f/p,S=p&&!h&&O(x)>.1;return S?x:0}var d={isTouchEvent:r,pointerDown:l,pointerMove:m,pointerUp:c,readPoint:i};return d}function xn(e){function t(s){return e*(s/100)}var n={measure:t};return n}function yn(e,t,n){var s=dn(2),r=ge(0),o=ge(0),i=ge(0),l=0,m=t,c=n;function d(){r.add(o),e.add(r),o.multiply(0)}function u(b){b.divide(c),o.add(b)}function f(b){i.set(b).subtract(e);var N=on(i.get(),0,100,0,m);return l=ma(i.get()),i.normalize().multiply(N).subtract(r),u(i),P}function p(b){var N=b.get()-e.get(),C=!s(N);return C&&e.set(b),C}function h(){return l}function x(){return y(t)}function S(){return v(n)}function y(b){return m=b,P}function v(b){return c=b,P}var P={direction:h,seek:f,settle:p,update:d,useBaseMass:S,useBaseSpeed:x,useMass:v,useSpeed:y};return P}function bn(e,t,n,s,r){var o=r.measure(10),i=r.measure(50),l=.85,m=!1;function c(){return!(m||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(p){if(c()){var h=e.reachedMin(t.get())?"min":"max",x=O(e[h]-t.get()),S=n.get()-t.get(),y=Math.min(x/i,l);n.subtract(S*y),!p&&O(S)<o&&(n.set(e.constrain(n.get())),s.useSpeed(10).useMass(3))}}function u(p){m=!p}var f={constrain:d,toggleActive:u};return f}function jn(e,t,n,s){var r=we(-t+e,n[0]),o=n.map(r.constrain),i=m();function l(){var d=o[0],u=me(o),f=o.lastIndexOf(d),p=o.indexOf(u)+1;return we(f,p)}function m(){if(t<=e)return[r.max];if(s==="keepSnaps")return o;var d=l(),u=d.min,f=d.max;return o.slice(u,f)}var c={snapsContained:i};return c}function Sn(e,t,n){var s=r();function r(){var i=t[0],l=me(t),m=n?i-e:l,c=i;return we(m,c)}var o={limit:s};return o}function Nn(e,t,n,s){var r=.1,o=t.min+r,i=t.max+r,l=we(o,i),m=l.reachedMin,c=l.reachedMax;function d(p){return p===1?c(n.get()):p===-1?m(n.get()):!1}function u(p){if(d(p)){var h=e*(p*-1);s.forEach(function(x){return x.add(h)})}}var f={loop:u};return f}function wn(e){var t=e.max,n=e.length;function s(o){var i=o-t;return i/-n}var r={get:s};return r}function Pn(e,t,n,s,r,o,i){var l=e.startEdge,m=e.endEdge,c=o.groupSlides,d=p().map(t.measure),u=h(),f=x();function p(){return c(s).map(function(y){return me(y)[m]-y[0][l]}).map(O)}function h(){return s.map(function(y){return n[l]-y[l]}).map(function(y){return-O(y)})}function x(){var y=0,v=me(u)-me(r);return c(u).map(function(P){return P[0]}).map(function(P,b,N){var C=!b,E=b===Qe(N);return i&&C?y:i&&E?v:P+d[b]})}var S={snaps:u,snapsAligned:f};return S}function kn(e,t,n,s,r){var o=s.reachedAny,i=s.removeOffset,l=s.constrain;function m(h){return h.concat().sort(function(x,S){return O(x)-O(S)})[0]}function c(h){var x=e?i(h):l(h),S=t.map(function(v){return v-x}).map(function(v){return d(v,0)}).map(function(v,P){return{diff:v,index:P}}).sort(function(v,P){return O(v.diff)-O(P.diff)}),y=S[0].index;return{index:y,distance:x}}function d(h,x){var S=[h,h+n,h-n];if(!e)return S[0];if(!x)return m(S);var y=S.filter(function(v){return ma(v)===x});return m(y)}function u(h,x){var S=t[h]-r.get(),y=d(S,x);return{index:h,distance:y}}function f(h,x){var S=r.get()+h,y=c(S),v=y.index,P=y.distance,b=!e&&o(S);if(!x||b)return{index:v,distance:h};var N=t[v]-P,C=h+d(N,0);return{index:v,distance:C}}var p={byDistance:f,byIndex:u,shortcut:d};return p}function Cn(e,t,n,s,r,o){function i(d){var u=d.distance,f=d.index!==t.get();u&&(e.start(),r.add(u)),f&&(n.set(t.get()),t.set(d.index),o.emit("select"))}function l(d,u){var f=s.byDistance(d,u);i(f)}function m(d,u){var f=t.clone().set(d),p=s.byIndex(f.get(),u);i(p)}var c={distance:l,index:m};return c}function mt(e,t,n){var s=e.scroll==="x"?i:l,r=n.style,o=!1;function i(f){return"translate3d(".concat(f,"px,0px,0px)")}function l(f){return"translate3d(0px,".concat(f,"px,0px)")}function m(f){o||(r.transform=s(t.apply(f.get())))}function c(f){o=!f}function d(){o||(r.transform="",n.getAttribute("style")||n.removeAttribute("style"))}var u={clear:d,to:m,toggleActive:c};return u}function En(e,t,n,s,r,o,i,l,m){var c=Ee(r),d=Ee(r).reverse(),u=x().concat(S());function f(N,C){return N.reduce(function(E,M){return E-r[M]},C)}function p(N,C){return N.reduce(function(E,M){var B=f(E,C);return B>0?E.concat([M]):E},[])}function h(N,C){var E=C==="start",M=E?-s:s,B=i.findSlideBounds([M]);return N.map(function(K){var H=E?0:-s,re=E?s:0,Q=B.filter(function(X){return X.index===K})[0],ne=Q[E?"end":"start"],W=ge(-1),F=ge(-1),ue=mt(e,t,m[K]),R=function(){return W.set(l.get()>ne?H:re)};return{index:K,location:F,translate:ue,target:R}})}function x(){var N=o[0]-1,C=p(d,N);return h(C,"end")}function S(){var N=n-o[0]-1,C=p(c,N);return h(C,"start")}function y(){return u.every(function(N){var C=N.index,E=c.filter(function(M){return M!==C});return f(E,n)<=.1})}function v(){u.forEach(function(N){var C=N.target,E=N.translate,M=N.location,B=C();B.get()!==M.get()&&(B.get()===0?E.clear():E.to(B),M.set(B))})}function P(){u.forEach(function(N){return N.translate.clear()})}var b={canLoop:y,clear:P,loop:v,loopPoints:u};return b}function _n(e,t,n,s,r,o,i){var l=r.removeOffset,m=r.constrain,c=.5,d=o?[0,t,-t]:[0],u=p(d,i);function f(S){var y=S||0;return n.map(function(v){var P=we(c,v-c);return P.constrain(v*y)})}function p(S,y){var v=S||d,P=f(y);return v.reduce(function(b,N){var C=s.map(function(E,M){return{start:E-n[M]+P[M]+N,end:E+e-P[M]+N,index:M}});return b.concat(C)},[])}function h(S,y){var v=o?l(S):m(S),P=y||u;return P.reduce(function(b,N){var C=N.index,E=N.start,M=N.end,B=b.indexOf(C)!==-1,K=E<v&&M>v;return!B&&K?b.concat([C]):b},[])}var x={check:h,findSlideBounds:p};return x}function An(e,t,n,s,r){var o=e.measureSize,i=e.startEdge,l=e.endEdge,m=n[0]&&r,c=p(),d=h(),u=n.map(o),f=x();function p(){if(!m)return 0;var y=n[0];return O(t[i]-y[i])}function h(){if(!m)return 0;var y=window.getComputedStyle(me(s));return parseFloat(y.getPropertyValue("margin-".concat(l)))}function x(){return n.map(function(y,v,P){var b=!v,N=v===Qe(P);return b?u[v]+c:N?u[v]+d:P[v+1][i]-y[i]}).map(O)}var S={slideSizes:u,slideSizesWithGaps:f};return S}function Mn(e,t,n){var s=da(n);function r(m,c){return Ee(m).filter(function(d){return d%c===0}).map(function(d){return m.slice(d,d+c)})}function o(m){return Ee(m).reduce(function(c,d){var u=t.slice(me(c),d+1),f=u.reduce(function(p,h){return p+h},0);return!d||f>e?c.concat(d):c},[]).map(function(c,d,u){return m.slice(c,u[d+1])})}function i(m){return s?r(m,n):o(m)}var l={groupSlides:i};return l}function In(e,t,n,s,r){var o=s.align,i=s.axis,l=s.direction,m=s.startIndex,c=s.inViewThreshold,d=s.loop,u=s.speed,f=s.dragFree,p=s.slidesToScroll,h=s.skipSnaps,x=s.containScroll,S=t.getBoundingClientRect(),y=n.map(function(G){return G.getBoundingClientRect()}),v=pn(l),P=hn(i,l),b=P.measureSize(S),N=xn(b),C=mn(o,b),E=!d&&x!=="",M=d||x!=="",B=An(P,S,y,n,M),K=B.slideSizes,H=B.slideSizesWithGaps,re=Mn(b,H,p),Q=Pn(P,C,S,y,H,re,E),ne=Q.snaps,W=Q.snapsAligned,F=-me(ne)+me(H),ue=jn(b,F,W,x).snapsContained,R=E?ue:W,X=Sn(F,R,d).limit,le=dt(Qe(R),m,d),he=le.clone(),ye=Ee(n),pe=function(){d||z.scrollBounds.constrain(z.dragHandler.pointerDown()),z.scrollBody.seek(_).update();var G=z.scrollBody.settle(_);G&&!z.dragHandler.pointerDown()&&(z.animation.stop(),r.emit("settle")),G||r.emit("scroll"),d&&(z.scrollLooper.loop(z.scrollBody.direction()),z.slideLooper.loop()),z.translate.to(Y),z.animation.proceed()},q=fn(pe),ae=R[le.get()],Y=ge(ae),_=ge(ae),g=yn(Y,u,1),$=kn(d,R,F,X,_),j=Cn(q,le,he,$,_,r),L=_n(b,F,K,ne,X,d,c),Z=vn(P,v,e,_,gn(P),Y,q,j,g,$,le,r,N,d,f,h),z={containerRect:S,slideRects:y,animation:q,axis:P,direction:v,dragHandler:Z,eventStore:qe(),percentOfView:N,index:le,indexPrevious:he,limit:X,location:Y,options:s,scrollBody:g,scrollBounds:bn(X,Y,_,g,N),scrollLooper:Nn(F,X,Y,[Y,_]),scrollProgress:wn(X),scrollSnaps:R,scrollTarget:$,scrollTo:j,slideLooper:En(P,v,b,F,H,R,L,Y,n),slidesToScroll:re,slidesInView:L,slideIndexes:ye,target:_,translate:mt(P,v,t)};return z}function Dn(){var e={};function t(i){return e[i]||[]}function n(i){return t(i).forEach(function(l){return l(i)}),o}function s(i,l){return e[i]=t(i).concat([l]),o}function r(i,l){return e[i]=t(i).filter(function(m){return m!==l}),o}var o={emit:n,off:r,on:s};return o}var Tn={align:"center",axis:"x",container:null,slides:null,containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function fa(){function e(r,o){return ct(r,o||{})}function t(r,o){var i=JSON.stringify(be(r.breakpoints||{})),l=JSON.stringify(be(o.breakpoints||{}));return i!==l?!1:ut(r,o)}function n(r){var o=r.breakpoints||{},i=be(o).filter(function(l){return window.matchMedia(l).matches}).map(function(l){return o[l]}).reduce(function(l,m){return e(l,m)},{});return e(r,i)}var s={merge:e,areEqual:t,atMedia:n};return s}function Bn(){var e=fa(),t=e.atMedia,n=e.areEqual,s=[],r=[];function o(){return r.some(function(d){return d()})}function i(d){var u=t(d.options);return function(){return!n(u,t(d.options))}}function l(d,u){return r=d.map(i),s=d.filter(function(f){return t(f.options).active}),s.forEach(function(f){return f.init(u)}),d.reduce(function(f,p){var h;return Object.assign(f,(h={},h[p.name]=p,h))},{})}function m(){s=s.filter(function(d){return d.destroy()})}var c={init:l,destroy:m,haveChanged:o};return c}function je(e,t,n){var s=qe(),r=fa(),o=Bn(),i=Dn(),l=i.on,m=i.off,c=N,d=!1,u,f=r.merge(Tn,je.globalOptions),p=r.merge(f),h=[],x,S=0,y,v;function P(){var _=p.container,g=p.slides,$=Ea(_)?e.querySelector(_):_;y=$||e.children[0];var j=Ea(g)?y.querySelectorAll(g):g;v=[].slice.call(j||y.children)}function b(_,g){if(!d){if(f=r.merge(f,_),p=r.atMedia(f),P(),u=In(e,y,v,p,i),S=u.axis.measureSize(e.getBoundingClientRect()),!p.active)return C();if(u.translate.to(u.location),h=g||h,x=o.init(h,Y),p.loop){if(!u.slideLooper.canLoop()){C(),b({loop:!1},g),f=r.merge(f,{loop:!0});return}u.slideLooper.loop()}p.draggable&&y.offsetParent&&v.length&&u.dragHandler.addActivationEvents()}}function N(_,g){var $=R();C(),b(r.merge({startIndex:$},_),g),i.emit("reInit")}function C(){u.dragHandler.removeAllEvents(),u.animation.stop(),u.eventStore.removeAll(),u.translate.clear(),u.slideLooper.clear(),o.destroy()}function E(){d||(d=!0,s.removeAll(),C(),i.emit("destroy"))}function M(){var _=r.atMedia(f),g=!r.areEqual(_,p),$=u.axis.measureSize(e.getBoundingClientRect()),j=S!==$,L=o.haveChanged();(j||g||L)&&N(),i.emit("resize")}function B(_){var g=u[_?"target":"location"].get(),$=p.loop?"removeOffset":"constrain";return u.slidesInView.check(u.limit[$](g))}function K(_){var g=B(_);return u.slideIndexes.filter(function($){return g.indexOf($)===-1})}function H(_,g,$){!p.active||d||(u.scrollBody.useBaseMass().useSpeed(g?100:p.speed),u.scrollTo.index(_,$||0))}function re(_){var g=u.index.clone().add(1);H(g.get(),_===!0,-1)}function Q(_){var g=u.index.clone().add(-1);H(g.get(),_===!0,1)}function ne(){var _=u.index.clone().add(1);return _.get()!==R()}function W(){var _=u.index.clone().add(-1);return _.get()!==R()}function F(){return u.scrollSnaps.map(u.scrollProgress.get)}function ue(){return u.scrollProgress.get(u.location.get())}function R(){return u.index.get()}function X(){return u.indexPrevious.get()}function le(){return u.dragHandler.clickAllowed()}function he(){return x}function ye(){return u}function pe(){return e}function q(){return y}function ae(){return v}var Y={canScrollNext:ne,canScrollPrev:W,clickAllowed:le,containerNode:q,internalEngine:ye,destroy:E,off:m,on:l,plugins:he,previousScrollSnap:X,reInit:c,rootNode:pe,scrollNext:re,scrollPrev:Q,scrollProgress:ue,scrollSnapList:F,scrollTo:H,selectedScrollSnap:R,slideNodes:ae,slidesInView:B,slidesNotInView:K};return b(t,n),s.add(window,"resize",M),setTimeout(function(){return i.emit("init")},0),Y}je.globalOptions=void 0;je.optionsHandler=fa;function zn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Aa(e){return e.concat().sort(function(t,n){return t.name>n.name?1:-1}).map(function(t){return t.options})}function On(e,t){if(e.length!==t.length)return!1;var n=je.optionsHandler().areEqual,s=Aa(e),r=Aa(t);return s.every(function(o,i){var l=r[i];return n(o,l)})}function ha(e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var n=w.useRef(je.optionsHandler()),s=w.useRef(e),r=w.useRef(t),o=w.useState(),i=o[0],l=o[1],m=w.useState(),c=m[0],d=m[1],u=w.useCallback(function(){i&&i.reInit(s.current,r.current)},[i]);return w.useEffect(function(){if(zn()&&c){je.globalOptions=ha.globalOptions;var f=je(c,s.current,r.current);return l(f),function(){return f.destroy()}}else l(void 0)},[c,l]),w.useEffect(function(){n.current.areEqual(s.current,e)||(s.current=e,u())},[e,u]),w.useEffect(function(){On(r.current,t)||(r.current=t,u())},[t,u]),[d,i]}ha.globalOptions=void 0;function Ma({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}const[Fn,Ln]=wt("Carousel component was not found in tree");var pa={root:"m-17884d0f",viewport:"m-a2dae653",container:"m-fcd81474",controls:"m-39bc3463",control:"m-64f58e10",indicators:"m-71ea3ab1",indicator:"m-eae68602",slide:"m-d98df724"};const Un={},va=ra((e,t)=>{const{classNames:n,className:s,style:r,styles:o,vars:i,...l}=Ae("CarouselSlide",Un,e),m=Ln();return D.createElement(ta,{ref:t,mod:{orientation:m.orientation},...m.getStyles("slide",{className:s,style:r,classNames:n,styles:o}),...l})});va.classes=pa;va.displayName="@mantine/core/CarouselSlide";function $n({slideGap:e,slideSize:t,selector:n}){const s=Pt(),r=kt({"--carousel-slide-gap":Ue(ba(e)),"--carousel-slide-size":Ze(ba(t))}),o=Ge(s.breakpoints).reduce((m,c)=>(m[c]||(m[c]={}),typeof e=="object"&&e[c]!==void 0&&(m[c]["--carousel-slide-gap"]=Ue(e[c])),typeof t=="object"&&t[c]!==void 0&&(m[c]["--carousel-slide-size"]=Ue(t[c])),m),{}),l=Ft(Ge(o),s).filter(m=>Ge(o[m.value]).length>0).map(m=>({query:`(min-width: ${s.breakpoints[m.value]})`,styles:o[m.value]}));return D.createElement(Ct,{styles:r,media:l,selector:n})}const Vn={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0},Rn=Da((e,{height:t,controlSize:n,controlsOffset:s})=>({root:{"--carousel-height":Ze(t),"--carousel-control-size":Ze(n),"--carousel-controls-offset":Ue(s)}})),_e=ra((e,t)=>{const n=Ae("Carousel",Vn,e),{classNames:s,className:r,style:o,styles:i,unstyled:l,vars:m,children:c,getEmblaApi:d,onNextSlide:u,onPreviousSlide:f,onSlideChange:p,nextControlProps:h,previousControlProps:x,controlSize:S,controlsOffset:y,slideSize:v,slideGap:P,orientation:b,height:N,align:C,slidesToScroll:E,includeGapInSize:M,draggable:B,dragFree:K,loop:H,speed:re,initialSlide:Q,inViewThreshold:ne,withControls:W,withIndicators:F,plugins:ue,nextControlIcon:R,previousControlIcon:X,skipSnaps:le,containScroll:he,withKeyboardEvents:ye,...pe}=n,q=Ia({name:"Carousel",classes:pa,props:n,className:r,style:o,classNames:s,styles:i,unstyled:l,vars:m,varsResolver:Rn}),ae=Et(),{dir:Y}=_t(),[_,g]=ha({axis:b==="horizontal"?"x":"y",direction:b==="horizontal"?Y:void 0,startIndex:Q,loop:H,align:C,slidesToScroll:E,draggable:B,dragFree:K,speed:re,inViewThreshold:ne,skipSnaps:le,containScroll:he},ue),[$,j]=w.useState(0),[L,Z]=w.useState(0),z=w.useCallback(J=>g&&g.scrollTo(J),[g]),G=w.useCallback(()=>{if(!g)return;const J=g.selectedScrollSnap();j(J),p==null||p(J)},[g,j]),ve=w.useCallback(()=>{g==null||g.scrollPrev(),f==null||f()},[g]),ze=w.useCallback(()=>{g==null||g.scrollNext(),u==null||u()},[g]),Oe=w.useCallback(J=>{ye&&(J.key==="ArrowRight"&&(J.preventDefault(),ze()),J.key==="ArrowLeft"&&(J.preventDefault(),ve()))},[g]);w.useEffect(()=>{if(g)return d==null||d(g),G(),Z(g.scrollSnapList().length),g.on("select",G),()=>{g.off("select",G)}},[g,E]),w.useEffect(()=>{g&&(g.reInit(),Z(g.scrollSnapList().length),j(J=>Tt(J,0,w.Children.toArray(c).length-1)))},[w.Children.toArray(c).length,E]);const Fe=(g==null?void 0:g.canScrollPrev())||!1,Le=(g==null?void 0:g.canScrollNext())||!1,Ye=Array(L).fill(0).map((J,de)=>D.createElement(We,{...q("indicator"),key:de,"data-active":de===$||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>z(de)}));return D.createElement(Fn,{value:{getStyles:q,orientation:b}},D.createElement($n,{...n,selector:`.${ae}`}),D.createElement(ta,{ref:t,...q("root",{className:ae}),...pe,mod:{orientation:b,"include-gap-in-size":M},onKeyDownCapture:Oe},D.createElement("div",{...q("viewport"),ref:_},D.createElement("div",{...q("container"),"data-orientation":b},c)),F&&D.createElement("div",{...q("indicators")},Ye),W&&D.createElement("div",{...q("controls")},D.createElement(We,{...x,...q("control",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),onClick:J=>{var de;ve(),(de=x==null?void 0:x.onClick)==null||de.call(x,J)},"data-inactive":!Fe||void 0,tabIndex:Fe?0:-1},typeof X<"u"?X:D.createElement(xa,{style:{transform:`rotate(${Ma({dir:Y,orientation:b,direction:"previous"})}deg)`}})),D.createElement(We,{...q("control",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),...h,onClick:J=>{var de;ze(),(de=h==null?void 0:h.onClick)==null||de.call(h,J)},"data-inactive":!Le||void 0,tabIndex:Le?0:-1},typeof R<"u"?R:D.createElement(xa,{style:{transform:`rotate(${Ma({dir:Y,orientation:b,direction:"next"})}deg)`}})))))});_e.classes=pa;_e.displayName="@mantine/core/Carousel";_e.Slide=va;const ws=()=>{const{id:e}=Oa(),t=Ie(),{addProduct:n}=Ba(),{data:s,isLoading:r,isError:o}=at({id:e}),i=ca();function l(c){return()=>{k.openConfirmModal({title:"Hapus Produk",children:a.jsx("div",{className:"text-sm",children:"Apakah anda yakin untuk menghapus produk ini?"}),centered:!0,onConfirm:async()=>{await i.mutateAsync({id:c},{onSuccess:()=>{I.show({message:"Produk berhasil dihapus",color:"green",icon:a.jsx(te,{})}),k.closeAll(),t("/product")},onError:()=>{I.show({message:"Produk tidak bisa dihapus",color:"red",icon:a.jsx(Ta,{})}),k.closeAll()}})}})}}function m(c){return()=>{k.open({title:"Detail",children:a.jsx("img",{src:c,alt:""}),size:"xl"})}}return r?a.jsx("div",{className:"mt-48",children:a.jsx(La,{})}):o?a.jsxs("div",{className:"mt-48 text-center",children:[a.jsx("h1",{className:"text-lg font-bold mb-2",children:"Produk tidak ditemukan"}),a.jsx(A,{onClick:()=>t(-1),leftSection:a.jsx(ea,{size:14}),children:"Kembali"})]}):a.jsxs("main",{children:[a.jsxs("header",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Detail Produk"}),a.jsx(A,{component:se,size:"xs",to:"/product",leftSection:a.jsx(ea,{size:16}),children:"Kembali"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[a.jsxs("div",{className:"col-span-4",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:s.thumbnail??"/default_image.png",alt:s.name,loading:"eager",className:"w-full h-auto rounded-md"})}),s.images.length>0&&a.jsx(_e,{slideSize:"33.333333%",slideGap:"md",align:"start",children:s.images.map(({id:c,image:d})=>a.jsx(_e.Slide,{children:a.jsx("div",{onClick:m(d),"aria-hidden":!0,className:"bg-gray-200 w-full h-full aspect-square rounded-md relative overflow-hidden cursor-pointer",children:a.jsx("img",{src:d??"/default_image.png",alt:"",className:"w-full h-full absolute inset-0 object-cover object-center"})})},c))})]}),a.jsxs("article",{className:"col-span-8",children:[a.jsxs("section",{className:"mb-5",children:[s.brand&&a.jsx("h2",{className:"text-primary-600 font-body text-sm font-bold uppercase",children:s.brand.name}),a.jsx("h1",{className:"mb-3 text-3xl font-semibold",children:s.name}),s.category&&a.jsx("div",{className:"mt-2 flex space-x-4 text-sm font-semibold uppercase text-gray-600",children:s.category.name}),s.price&&a.jsx("div",{className:"text-primary-600 mt-2 text-xl font-black",children:At(s.price)})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"font-body text-sm font-semibold text-gray-800",children:"DESCRIPTION"}),a.jsx("div",{className:"prose text-gray-700 transition-all",dangerouslySetInnerHTML:{__html:s.description||"-"}})]}),a.jsx(Ne,{role:["Customer"],children:a.jsx(A,{size:"xs",leftSection:a.jsx(za,{size:14}),onClick:()=>n(s.id),children:"Tambah Keranjang"})}),a.jsx(Ne,{role:["-Customer"],children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(A,{component:se,to:`/product/${s.id}/update`,leftSection:a.jsx(Se,{size:16}),size:"xs",children:"Edit"}),a.jsx(A,{color:"red",leftSection:a.jsx(xe,{size:16}),size:"xs",onClick:l(s.id),children:"Hapus"})]})})]})]})]})]})};export{Yr as BrandCreateForm,ua as BrandSelect,Qr as BrandTable,Gr as BrandUpdateForm,xs as Brands,gs as Categories,qr as CategoryCreateForm,He as CategorySelect,Rr as CategoryTable,Kr as CategoryUpdateForm,bs as Modalities,sn as ModalityCreateForm,an as ModalitySelect,nn as ModalityTable,tn as ModalityUpdateForm,Mt as PRODUCT_TYPES,lt as ProductAccessoryForm,Ss as ProductCreate,ws as ProductDetail,ln as ProductList,ot as ProductPreventiveForm,Cs as ProductSelect,vs as ProductTable,nt as ProductUnitForm,Ns as ProductUpdate,js as Products,Xr as UnitCreateForm,Jr as UnitTable,Zr as UnitUpdateForm,ys as Units,br as createBrand,nr as createCategory,Tr as createModality,_r as createProduct,mr as createUnit,kr as deleteBrand,ur as deleteCategory,Ur as deleteModality,Dr as deleteProduct,xr as deleteUnit,Nr as getBrand,Sr as getBrands,ir as getCategories,lr as getCategory,zr as getModalities,Or as getModality,Ar as getProduct,Es as getProducts,pr as getUnit,hr as getUnits,wr as updateBrand,or as updateCategory,Fr as updateModality,Ir as updateProduct,vr as updateUnit,hs as useBrand,et as useBrands,Xa as useCategories,ms as useCategory,jr as useCreateBrand,sr as useCreateCategory,Br as useCreateModality,la as useCreateProduct,fr as useCreateUnit,Cr as useDeleteBrand,dr as useDeleteCategory,$r as useDeleteModality,ca as useDeleteProduct,yr as useDeleteUnit,tt as useModalities,ps as useModality,at as useProduct,Fa as useProducts,fs as useUnit,Za as useUnits,Pr as useUpdateBrand,cr as useUpdateCategory,Lr as useUpdateModality,oa as useUpdateProduct,gr as useUpdateUnit};
