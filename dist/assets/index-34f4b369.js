import{u as r,q as c,C as d,s as m,a as u,c as o,j as a,B as x,L as g,n as h}from"./index-12f53e8e.js";import{A as S,b as A,d as z}from"./index-12f53e8e.js";import{u as f}from"./use-form-74445202.js";import{T as p}from"./TextInput-51bbb2c9.js";import{P as v}from"./PasswordInput-73c36b89.js";async function j({data:s}){const t=await u.post("/auth/login",s),{role:e}=t.data.data.user;if(e!="Superadmin"&&e!="Customer"&&e!="Logistic"&&e!="Engineer")throw{message:"Anda tidak memiliki akses kedalam aplikasi ini"};return t.data}function k({config:s}={}){return r(j,{onSuccess:({data:{access_token:t,user:e}})=>{c.setQueryData([d],e),m.setToken(t)},...s})}var w=o("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),y=o("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);const b=()=>{const s=f({initialValues:{email:"",password:""}}),t=k();async function e(l){l.preventDefault(),await t.mutateAsync({data:s.values},{onError:({response:i,message:n})=>{i!=null&&i.data.errors?s.setErrors(i.data.errors):h.show({message:n,color:"red"})}})}return a.jsxs("form",{onSubmit:e,className:"relative flex flex-col justify-center align-middle space-y-6 w-full max-w-xs",children:[a.jsx("div",{className:"font-roboto font-bold text-[40px] text-[#1C1C55] text-center",children:"Welcome !"}),a.jsx("div",{className:"font-roboto font-normal text-[22px] text-[#1C1C55] text-center",children:"Log in your account"}),a.jsx("div",{className:"mb-4",children:a.jsx(p,{name:"email",placeholder:"Email",leftSection:a.jsx(y,{size:14}),...s.getInputProps("email")})}),a.jsx("div",{className:"mb-8",children:a.jsx(v,{name:"password",placeholder:"Password",leftSection:a.jsx(w,{size:14}),...s.getInputProps("password")})}),a.jsxs("div",{className:"",children:[a.jsx(x,{type:"submit",fullWidth:!0,loading:t.isLoading,children:"Masuk"}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(g,{to:"#",className:"text-sm",children:"Lupa Password?"})})]})]})},I=()=>a.jsxs("div",{className:"grid lg:grid-cols-2 min-h-screen w-full",children:[a.jsx("div",{className:"hidden lg:block relative overflow-hidden bg-gray-200",children:a.jsx("img",{src:"/images/login-cover.png",alt:"login-cover",className:"absolute inset-0 w-full h-full object-cover object-center"})}),a.jsxs("div",{className:"flex justify-center align-middle",children:[a.jsxs("div",{className:"absolute flex space-x-4 right-4 top-4",children:[a.jsx("img",{src:"/images/arkan-logo.png",alt:"",className:"w-24 "}),a.jsx("img",{src:"/images/dalfin-white.png",alt:"",className:"w-24 "})]}),a.jsx(b,{})]})]});export{S as AuthProvider,A as Authorization,I as Login,b as LoginForm,z as useAuth};
